{"version":3,"file":"index.js","sources":["../node_modules/uuid/dist/stringify.js","../node_modules/uuid/dist/rng.js","../node_modules/uuid/dist/native.js","../node_modules/uuid/dist/v4.js","../src/utils/id.ts","../src/utils/geometry.ts","../src/context/HistoryContext.tsx","../src/types/presentation.ts","../src/types/slide.ts","../src/types/editor.ts","../src/context/PresentationContext.tsx","../src/context/EditorContext.tsx","../src/context/SelectionContext.tsx","../src/data/builtInThemes.ts","../src/context/ThemeContext.tsx","../node_modules/lucide-react/dist/esm/shared/src/utils.js","../node_modules/lucide-react/dist/esm/defaultAttributes.js","../node_modules/lucide-react/dist/esm/Icon.js","../node_modules/lucide-react/dist/esm/createLucideIcon.js","../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../node_modules/lucide-react/dist/esm/icons/bold.js","../node_modules/lucide-react/dist/esm/icons/check.js","../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../node_modules/lucide-react/dist/esm/icons/chevron-up.js","../node_modules/lucide-react/dist/esm/icons/circle.js","../node_modules/lucide-react/dist/esm/icons/copy.js","../node_modules/lucide-react/dist/esm/icons/download.js","../node_modules/lucide-react/dist/esm/icons/eye-off.js","../node_modules/lucide-react/dist/esm/icons/eye.js","../node_modules/lucide-react/dist/esm/icons/folder-open.js","../node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../node_modules/lucide-react/dist/esm/icons/image.js","../node_modules/lucide-react/dist/esm/icons/italic.js","../node_modules/lucide-react/dist/esm/icons/minus.js","../node_modules/lucide-react/dist/esm/icons/mouse-pointer.js","../node_modules/lucide-react/dist/esm/icons/palette.js","../node_modules/lucide-react/dist/esm/icons/panel-right-close.js","../node_modules/lucide-react/dist/esm/icons/panel-right-open.js","../node_modules/lucide-react/dist/esm/icons/pencil.js","../node_modules/lucide-react/dist/esm/icons/plus.js","../node_modules/lucide-react/dist/esm/icons/redo-2.js","../node_modules/lucide-react/dist/esm/icons/square-check-big.js","../node_modules/lucide-react/dist/esm/icons/square.js","../node_modules/lucide-react/dist/esm/icons/star.js","../node_modules/lucide-react/dist/esm/icons/table.js","../node_modules/lucide-react/dist/esm/icons/text-align-center.js","../node_modules/lucide-react/dist/esm/icons/text-align-end.js","../node_modules/lucide-react/dist/esm/icons/text-align-justify.js","../node_modules/lucide-react/dist/esm/icons/text-align-start.js","../node_modules/lucide-react/dist/esm/icons/trash-2.js","../node_modules/lucide-react/dist/esm/icons/triangle.js","../node_modules/lucide-react/dist/esm/icons/type.js","../node_modules/lucide-react/dist/esm/icons/underline.js","../node_modules/lucide-react/dist/esm/icons/undo-2.js","../node_modules/lucide-react/dist/esm/icons/upload.js","../node_modules/lucide-react/dist/esm/icons/x.js","../node_modules/lucide-react/dist/esm/icons/zoom-in.js","../node_modules/lucide-react/dist/esm/icons/zoom-out.js","../node_modules/@dnd-kit/utilities/dist/utilities.esm.js","../node_modules/@dnd-kit/accessibility/dist/accessibility.esm.js","../node_modules/@dnd-kit/core/dist/core.esm.js","../node_modules/@dnd-kit/sortable/dist/sortable.esm.js","../node_modules/@radix-ui/react-compose-refs/dist/index.mjs","../node_modules/@radix-ui/react-primitive/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-primitive/dist/index.mjs","../node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs","../node_modules/@radix-ui/react-presence/dist/index.mjs","../node_modules/@radix-ui/react-context/dist/index.mjs","../node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs","../node_modules/@radix-ui/react-direction/dist/index.mjs","../node_modules/@radix-ui/number/dist/index.mjs","../node_modules/@radix-ui/primitive/dist/index.mjs","../node_modules/@radix-ui/react-scroll-area/dist/index.mjs","../node_modules/clsx/dist/clsx.mjs","../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../src/lib/utils.ts","../src/components/ui/scroll-area.tsx","../node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-collection/dist/index.mjs","../node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs","../node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs","../node_modules/@radix-ui/react-focus-guards/dist/index.mjs","../node_modules/@radix-ui/react-focus-scope/dist/index.mjs","../node_modules/@radix-ui/react-id/dist/index.mjs","../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../node_modules/@radix-ui/react-arrow/dist/index.mjs","../node_modules/@radix-ui/react-use-size/dist/index.mjs","../node_modules/@radix-ui/react-popper/dist/index.mjs","../node_modules/@radix-ui/react-portal/dist/index.mjs","../node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs","../node_modules/@radix-ui/react-roving-focus/dist/index.mjs","../node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/aria-hidden/dist/es2015/index.js","../node_modules/tslib/tslib.es6.mjs","../node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../node_modules/use-callback-ref/dist/es2015/assignRef.js","../node_modules/use-callback-ref/dist/es2015/useRef.js","../node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../node_modules/use-sidecar/dist/es2015/medium.js","../node_modules/use-sidecar/dist/es2015/exports.js","../node_modules/react-remove-scroll/dist/es2015/medium.js","../node_modules/react-remove-scroll/dist/es2015/UI.js","../node_modules/get-nonce/dist/es2015/index.js","../node_modules/react-style-singleton/dist/es2015/singleton.js","../node_modules/react-style-singleton/dist/es2015/hook.js","../node_modules/react-style-singleton/dist/es2015/component.js","../node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../node_modules/react-remove-scroll-bar/dist/es2015/component.js","../node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../node_modules/react-remove-scroll/dist/es2015/sidecar.js","../node_modules/react-remove-scroll/dist/es2015/Combination.js","../node_modules/@radix-ui/react-menu/dist/index.mjs","../node_modules/@radix-ui/react-context-menu/dist/index.mjs","../src/components/ui/context-menu.tsx","../src/components/slides/SlideThumbnail.tsx","../node_modules/@radix-ui/react-popover/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-popover/dist/index.mjs","../src/components/ui/popover.tsx","../node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/class-variance-authority/dist/index.mjs","../src/components/ui/button.tsx","../src/components/slides/SlideLayoutPicker.tsx","../src/components/slides/SlidePanel.tsx","../src/components/elements/ElementWrapper.tsx","../src/utils/textFormatting.ts","../src/components/elements/TextBox/RichTextEditor.tsx","../src/components/elements/TextBox/TextBox.tsx","../src/components/elements/Shape/Shape.tsx","../src/components/elements/Table/TableCell.tsx","../src/components/elements/Table/Table.tsx","../src/components/elements/Table/TableGridPicker.tsx","../src/components/elements/ElementRenderer.tsx","../src/components/canvas/SlideCanvas.tsx","../node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs","../src/components/ui/dropdown-menu.tsx","../node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-visually-hidden/dist/index.mjs","../node_modules/@radix-ui/react-tooltip/dist/index.mjs","../src/components/ui/tooltip.tsx","../node_modules/@radix-ui/react-separator/node_modules/@radix-ui/react-primitive/dist/index.mjs","../node_modules/@radix-ui/react-separator/dist/index.mjs","../src/components/ui/separator.tsx","../src/components/toolbar/MainToolbar.tsx","../node_modules/react-colorful/dist/index.mjs","../src/components/toolbar/FormattingToolbar.tsx","../node_modules/@radix-ui/react-select/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-use-previous/dist/index.mjs","../node_modules/@radix-ui/react-select/dist/index.mjs","../src/components/ui/select.tsx","../src/components/properties/PropertiesPanel.tsx","../node_modules/@radix-ui/react-dialog/node_modules/@radix-ui/react-slot/dist/index.mjs","../node_modules/@radix-ui/react-dialog/dist/index.mjs","../src/components/ui/dialog.tsx","../src/components/dialogs/ThemePickerDialog.tsx","../src/components/ui/input.tsx","../src/components/ui/label.tsx","../node_modules/@radix-ui/react-tabs/dist/index.mjs","../src/components/ui/tabs.tsx","../src/components/dialogs/ThemeEditorDialog.tsx","../node_modules/jszip/dist/jszip.min.js","../src/services/pptx/parser/utils.ts","../src/services/pptx/parser/textParser.ts","../src/services/pptx/parser/shapeParser.ts","../src/services/pptx/parser/imageParser.ts","../src/services/pptx/parser/slideParser.ts","../src/services/pptx/parser/themeParser.ts","../src/services/pptx/importer.ts","../node_modules/pptxgenjs/dist/pptxgen.es.js","../src/services/pptx/exporter.ts","../src/utils/htmlToTextContent.ts","../src/components/layout/EditorLayout.tsx","../src/components/PresentationEditor.tsx"],"sourcesContent":["import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction _v4(options, buf, offset) {\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    return _v4(options, buf, offset);\n}\nexport default v4;\n","import { v4 as uuidv4 } from 'uuid'\n\n/**\n * Generate a unique ID for elements, slides, etc.\n */\nexport function generateId(): string {\n  return uuidv4()\n}\n\n/**\n * Generate a short ID for display purposes\n */\nexport function generateShortId(): string {\n  return uuidv4().slice(0, 8)\n}\n","import { Position, Size, SelectionBounds } from '@/types'\n\n// EMU (English Metric Units) conversions\n// 1 inch = 914400 EMU, 1 inch = 96 pixels (at 96 DPI)\nexport const EMU_PER_INCH = 914400\nexport const PIXELS_PER_INCH = 96\nexport const EMU_PER_PIXEL = EMU_PER_INCH / PIXELS_PER_INCH\n\n/**\n * Convert EMU to pixels\n */\nexport function emuToPixels(emu: number): number {\n  return Math.round(emu / EMU_PER_PIXEL)\n}\n\n/**\n * Convert pixels to EMU\n */\nexport function pixelsToEmu(pixels: number): number {\n  return Math.round(pixels * EMU_PER_PIXEL)\n}\n\n/**\n * PPTX uses percentages * 100000 for some values\n */\nexport function pptxPercentToDecimal(value: number): number {\n  return value / 100000\n}\n\n/**\n * Convert decimal to PPTX percentage format\n */\nexport function decimalToPptxPercent(value: number): number {\n  return Math.round(value * 100000)\n}\n\n/**\n * Calculate the bounding box of multiple elements\n */\nexport function calculateBounds(\n  positions: Position[],\n  sizes: Size[]\n): SelectionBounds | null {\n  if (positions.length === 0 || positions.length !== sizes.length) {\n    return null\n  }\n\n  let minX = Infinity\n  let minY = Infinity\n  let maxX = -Infinity\n  let maxY = -Infinity\n\n  for (let i = 0; i < positions.length; i++) {\n    const pos = positions[i]\n    const size = sizes[i]\n\n    minX = Math.min(minX, pos.x)\n    minY = Math.min(minY, pos.y)\n    maxX = Math.max(maxX, pos.x + size.width)\n    maxY = Math.max(maxY, pos.y + size.height)\n  }\n\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY,\n  }\n}\n\n/**\n * Check if a point is inside a rectangle\n */\nexport function isPointInRect(\n  point: Position,\n  rect: SelectionBounds\n): boolean {\n  return (\n    point.x >= rect.x &&\n    point.x <= rect.x + rect.width &&\n    point.y >= rect.y &&\n    point.y <= rect.y + rect.height\n  )\n}\n\n/**\n * Check if two rectangles intersect\n */\nexport function doRectsIntersect(\n  rect1: SelectionBounds,\n  rect2: SelectionBounds\n): boolean {\n  return !(\n    rect1.x + rect1.width < rect2.x ||\n    rect2.x + rect2.width < rect1.x ||\n    rect1.y + rect1.height < rect2.y ||\n    rect2.y + rect2.height < rect1.y\n  )\n}\n\n/**\n * Clamp a value between min and max\n */\nexport function clamp(value: number, min: number, max: number): number {\n  return Math.min(Math.max(value, min), max)\n}\n\n/**\n * Snap a value to a grid\n */\nexport function snapToGrid(value: number, gridSize: number): number {\n  return Math.round(value / gridSize) * gridSize\n}\n\n/**\n * Convert degrees to radians\n */\nexport function degreesToRadians(degrees: number): number {\n  return (degrees * Math.PI) / 180\n}\n\n/**\n * Convert radians to degrees\n */\nexport function radiansToDegrees(radians: number): number {\n  return (radians * 180) / Math.PI\n}\n\n/**\n * Rotate a point around an origin\n */\nexport function rotatePoint(\n  point: Position,\n  origin: Position,\n  angleDegrees: number\n): Position {\n  const angleRadians = degreesToRadians(angleDegrees)\n  const cos = Math.cos(angleRadians)\n  const sin = Math.sin(angleRadians)\n\n  const dx = point.x - origin.x\n  const dy = point.y - origin.y\n\n  return {\n    x: origin.x + dx * cos - dy * sin,\n    y: origin.y + dx * sin + dy * cos,\n  }\n}\n\n/**\n * Get the center point of a rectangle\n */\nexport function getRectCenter(rect: SelectionBounds): Position {\n  return {\n    x: rect.x + rect.width / 2,\n    y: rect.y + rect.height / 2,\n  }\n}\n\n/**\n * Calculate distance between two points\n */\nexport function distance(p1: Position, p2: Position): number {\n  const dx = p2.x - p1.x\n  const dy = p2.y - p1.y\n  return Math.sqrt(dx * dx + dy * dy)\n}\n","import React, { createContext, useContext, useState, useCallback, useRef } from 'react'\nimport { Presentation } from '@/types'\nimport { generateId } from '@/utils'\n\ninterface HistoryEntry {\n  id: string\n  timestamp: Date\n  action: string\n  state: Presentation\n}\n\ninterface HistoryContextValue {\n  canUndo: boolean\n  canRedo: boolean\n  undoStackLength: number\n  redoStackLength: number\n  undo: () => Presentation | null\n  redo: () => Presentation | null\n  pushState: (action: string, state: Presentation) => void\n  clearHistory: () => void\n  getCurrentState: () => Presentation | null\n}\n\nconst HistoryContext = createContext<HistoryContextValue | null>(null)\n\ninterface HistoryProviderProps {\n  children: React.ReactNode\n  maxStackSize?: number\n}\n\nexport function HistoryProvider({ children, maxStackSize = 50 }: HistoryProviderProps) {\n  const [undoStack, setUndoStack] = useState<HistoryEntry[]>([])\n  const [redoStack, setRedoStack] = useState<HistoryEntry[]>([])\n  const currentStateRef = useRef<Presentation | null>(null)\n\n  const canUndo = undoStack.length > 0\n  const canRedo = redoStack.length > 0\n\n  const pushState = useCallback((action: string, state: Presentation) => {\n    const entry: HistoryEntry = {\n      id: generateId(),\n      timestamp: new Date(),\n      action,\n      state: JSON.parse(JSON.stringify(state)), // Deep clone\n    }\n\n    // If there's a current state, push it to undo stack\n    if (currentStateRef.current) {\n      setUndoStack(prev => {\n        const newStack = [...prev, {\n          id: generateId(),\n          timestamp: new Date(),\n          action,\n          state: JSON.parse(JSON.stringify(currentStateRef.current)),\n        }]\n        // Limit stack size\n        if (newStack.length > maxStackSize) {\n          return newStack.slice(-maxStackSize)\n        }\n        return newStack\n      })\n    }\n\n    // Clear redo stack when new action is performed\n    setRedoStack([])\n\n    // Update current state reference\n    currentStateRef.current = entry.state\n  }, [maxStackSize])\n\n  const undo = useCallback((): Presentation | null => {\n    if (undoStack.length === 0) return null\n\n    const lastEntry = undoStack[undoStack.length - 1]\n\n    // Push current state to redo stack\n    if (currentStateRef.current) {\n      setRedoStack(prev => [...prev, {\n        id: generateId(),\n        timestamp: new Date(),\n        action: 'redo',\n        state: JSON.parse(JSON.stringify(currentStateRef.current)),\n      }])\n    }\n\n    // Pop from undo stack\n    setUndoStack(prev => prev.slice(0, -1))\n\n    // Update current state\n    currentStateRef.current = lastEntry.state\n\n    return lastEntry.state\n  }, [undoStack])\n\n  const redo = useCallback((): Presentation | null => {\n    if (redoStack.length === 0) return null\n\n    const lastEntry = redoStack[redoStack.length - 1]\n\n    // Push current state to undo stack\n    if (currentStateRef.current) {\n      setUndoStack(prev => [...prev, {\n        id: generateId(),\n        timestamp: new Date(),\n        action: 'undo',\n        state: JSON.parse(JSON.stringify(currentStateRef.current)),\n      }])\n    }\n\n    // Pop from redo stack\n    setRedoStack(prev => prev.slice(0, -1))\n\n    // Update current state\n    currentStateRef.current = lastEntry.state\n\n    return lastEntry.state\n  }, [redoStack])\n\n  const clearHistory = useCallback(() => {\n    setUndoStack([])\n    setRedoStack([])\n  }, [])\n\n  const getCurrentState = useCallback((): Presentation | null => {\n    return currentStateRef.current\n  }, [])\n\n  const value: HistoryContextValue = {\n    canUndo,\n    canRedo,\n    undoStackLength: undoStack.length,\n    redoStackLength: redoStack.length,\n    undo,\n    redo,\n    pushState,\n    clearHistory,\n    getCurrentState,\n  }\n\n  return (\n    <HistoryContext.Provider value={value}>\n      {children}\n    </HistoryContext.Provider>\n  )\n}\n\nexport function useHistory() {\n  const context = useContext(HistoryContext)\n  if (!context) {\n    throw new Error('useHistory must be used within a HistoryProvider')\n  }\n  return context\n}\n","import { Slide } from './slide'\n\nexport interface Presentation {\n  id: string\n  name: string\n  createdAt: Date\n  updatedAt: Date\n  slides: Slide[]\n  theme: PresentationTheme\n  metadata: PresentationMetadata\n}\n\nexport interface PresentationMetadata {\n  author?: string\n  title?: string\n  subject?: string\n  company?: string\n  revision?: number\n}\n\nexport interface PresentationTheme {\n  id: string\n  name: string\n  colorScheme: ColorScheme\n  fontScheme: FontScheme\n  defaultBackground: Background\n}\n\nexport interface ColorScheme {\n  // Primary text/object colors (Office standard)\n  dark1: string\n  light1: string\n  dark2: string\n  light2: string\n  // Accent colors\n  accent1: string\n  accent2: string\n  accent3: string\n  accent4: string\n  accent5: string\n  accent6: string\n  // Links\n  hyperlink: string\n  followedHyperlink: string\n  // Semantic aliases (for convenience)\n  background1: string\n  text1: string\n  background2: string\n  text2: string\n}\n\nexport interface FontScheme {\n  majorFont: FontDefinition\n  minorFont: FontDefinition\n}\n\nexport interface FontDefinition {\n  latin: string\n  eastAsian?: string\n  complexScript?: string\n}\n\nexport interface Background {\n  type: 'solid' | 'gradient' | 'image' | 'pattern'\n  color?: string\n  gradient?: GradientFill\n  imageUrl?: string\n  imageFit?: 'cover' | 'contain' | 'stretch' | 'tile'\n}\n\nexport interface GradientFill {\n  type: 'linear' | 'radial'\n  angle?: number\n  stops: GradientStop[]\n}\n\nexport interface GradientStop {\n  position: number\n  color: string\n}\n\n// Default theme for new presentations\nexport const DEFAULT_THEME: PresentationTheme = {\n  id: 'default',\n  name: 'Default',\n  colorScheme: {\n    dark1: '#000000',\n    light1: '#FFFFFF',\n    dark2: '#44546A',\n    light2: '#E7E6E6',\n    accent1: '#4472C4',\n    accent2: '#ED7D31',\n    accent3: '#A5A5A5',\n    accent4: '#FFC000',\n    accent5: '#5B9BD5',\n    accent6: '#70AD47',\n    hyperlink: '#0563C1',\n    followedHyperlink: '#954F72',\n    background1: '#FFFFFF',\n    text1: '#000000',\n    background2: '#E7E6E6',\n    text2: '#44546A',\n  },\n  fontScheme: {\n    majorFont: { latin: 'Calibri Light' },\n    minorFont: { latin: 'Calibri' },\n  },\n  defaultBackground: {\n    type: 'solid',\n    color: '#FFFFFF',\n  },\n}\n\n// Default metadata\nexport const DEFAULT_METADATA: PresentationMetadata = {\n  author: '',\n  title: 'Untitled Presentation',\n  subject: '',\n  company: '',\n  revision: 1,\n}\n","import { Background, GradientFill } from './presentation'\n\nexport interface Slide {\n  id: string\n  order: number\n  elements: SlideElement[]\n  background: Background\n  layoutId?: string\n  masterSlideId?: string\n  notes?: string\n  transition?: SlideTransition\n  hidden?: boolean\n}\n\nexport interface SlideTransition {\n  type: 'none' | 'fade' | 'push' | 'wipe' | 'split' | 'reveal'\n  duration: number\n  direction?: 'left' | 'right' | 'up' | 'down'\n}\n\n// Element types\nexport type SlideElement =\n  | TextElement\n  | ShapeElement\n  | ImageElement\n  | TableElement\n  | GroupElement\n\nexport type ElementType = 'text' | 'shape' | 'image' | 'table' | 'group'\n\nexport interface Position {\n  x: number\n  y: number\n}\n\nexport interface Size {\n  width: number\n  height: number\n}\n\nexport interface BaseElement {\n  id: string\n  type: ElementType\n  position: Position\n  size: Size\n  rotation?: number\n  opacity?: number\n  locked?: boolean\n  zIndex: number\n  name?: string\n}\n\n// Text Element\nexport interface TextElement extends BaseElement {\n  type: 'text'\n  content: TextContent\n  style: TextBoxStyle\n}\n\nexport interface TextContent {\n  paragraphs: Paragraph[]\n}\n\nexport interface Paragraph {\n  id: string\n  runs: TextRun[]\n  alignment: 'left' | 'center' | 'right' | 'justify'\n  lineSpacing?: number\n  spaceBefore?: number\n  spaceAfter?: number\n  bulletType?: 'none' | 'bullet' | 'number'\n  bulletChar?: string\n  indentLevel?: number\n}\n\nexport interface TextRun {\n  id: string\n  text: string\n  style: TextStyle\n}\n\nexport interface TextStyle {\n  fontFamily: string\n  fontSize: number\n  fontWeight: 'normal' | 'bold' | number\n  fontStyle: 'normal' | 'italic'\n  textDecoration?: 'none' | 'underline' | 'line-through'\n  color: string\n  backgroundColor?: string\n  letterSpacing?: number\n  textShadow?: TextShadow\n}\n\nexport interface TextShadow {\n  offsetX: number\n  offsetY: number\n  blur: number\n  color: string\n}\n\nexport interface TextBoxStyle {\n  padding: Padding\n  verticalAlign: 'top' | 'middle' | 'bottom'\n  autoFit: boolean\n  wordWrap: boolean\n  fill?: Fill\n  stroke?: Stroke\n}\n\nexport interface Padding {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\n// Shape Element\nexport interface ShapeElement extends BaseElement {\n  type: 'shape'\n  shapeType: ShapeType\n  fill?: Fill\n  stroke?: Stroke\n  shadow?: Shadow\n  text?: TextContent\n}\n\nexport type ShapeType =\n  | 'rectangle'\n  | 'roundedRectangle'\n  | 'ellipse'\n  | 'triangle'\n  | 'rightTriangle'\n  | 'diamond'\n  | 'pentagon'\n  | 'hexagon'\n  | 'octagon'\n  | 'star5'\n  | 'star6'\n  | 'arrow'\n  | 'arrowLeft'\n  | 'arrowRight'\n  | 'arrowUp'\n  | 'arrowDown'\n  | 'line'\n  | 'callout'\n  | 'cloud'\n  | 'heart'\n  | 'lightning'\n  | 'plus'\n  | 'minus'\n  | 'custom'\n\nexport interface Fill {\n  type: 'none' | 'solid' | 'gradient' | 'pattern' | 'image'\n  color?: string\n  gradient?: GradientFill\n  imageUrl?: string\n  patternType?: string\n}\n\nexport interface Stroke {\n  color: string\n  width: number\n  style: 'solid' | 'dashed' | 'dotted' | 'none'\n  dashArray?: number[]\n  lineCap?: 'butt' | 'round' | 'square'\n  lineJoin?: 'miter' | 'round' | 'bevel'\n}\n\nexport interface Shadow {\n  offsetX: number\n  offsetY: number\n  blur: number\n  spread?: number\n  color: string\n  opacity?: number\n}\n\n// Image Element\nexport interface ImageElement extends BaseElement {\n  type: 'image'\n  src: string\n  alt?: string\n  originalSize?: Size\n  crop?: ImageCrop\n  filters?: ImageFilters\n  stroke?: Stroke\n  shadow?: Shadow\n  clipShape?: 'ellipse' | 'rectangle'\n}\n\nexport interface ImageCrop {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\nexport interface ImageFilters {\n  brightness?: number\n  contrast?: number\n  saturation?: number\n  blur?: number\n  grayscale?: number\n  sepia?: number\n  opacity?: number\n}\n\n// Table Element\nexport interface TableElement extends BaseElement {\n  type: 'table'\n  rows: number\n  columns: number\n  cells: TableCell[][]\n  columnWidths: number[]\n  rowHeights: number[]\n  style: TableStyle\n}\n\nexport interface TableCell {\n  id: string\n  content: TextContent\n  rowSpan?: number\n  colSpan?: number\n  fill?: Fill\n  borders?: CellBorders\n  padding?: Padding\n  verticalAlign?: 'top' | 'middle' | 'bottom'\n  // Extended cell content types\n  contentType?: 'text' | 'image' | 'checkbox'\n  imageUrl?: string\n  imageFit?: 'cover' | 'contain' | 'stretch'\n  checked?: boolean\n}\n\nexport interface CellBorders {\n  top?: Stroke\n  right?: Stroke\n  bottom?: Stroke\n  left?: Stroke\n}\n\nexport interface TableStyle {\n  borderCollapse: boolean\n  defaultCellFill?: Fill\n  headerRowFill?: Fill\n  alternateRowFill?: Fill\n  firstColumnFill?: Fill\n  lastColumnFill?: Fill\n}\n\n// Group Element\nexport interface GroupElement extends BaseElement {\n  type: 'group'\n  children: SlideElement[]\n}\n\n// Default values\nexport const DEFAULT_TEXT_STYLE: TextStyle = {\n  fontFamily: 'Calibri',\n  fontSize: 18,\n  fontWeight: 'normal',\n  fontStyle: 'normal',\n  textDecoration: 'none',\n  color: '#000000',\n}\n\nexport const DEFAULT_TEXTBOX_STYLE: TextBoxStyle = {\n  padding: { top: 5, right: 10, bottom: 5, left: 10 },\n  verticalAlign: 'top',\n  autoFit: false,\n  wordWrap: true,\n}\n\nexport const DEFAULT_FILL: Fill = {\n  type: 'solid',\n  color: '#4472C4',\n}\n\nexport const DEFAULT_STROKE: Stroke = {\n  color: '#2F528F',\n  width: 1,\n  style: 'solid',\n}\n\nexport const DEFAULT_BACKGROUND: Background = {\n  type: 'solid',\n  color: '#FFFFFF',\n}\n","import { Presentation } from './presentation'\nimport { SlideElement } from './slide'\n\nexport interface EditorState {\n  zoom: number\n  currentSlideId: string | null\n  viewMode: 'edit' | 'preview' | 'slideshow'\n  activeTool: EditorTool\n  gridEnabled: boolean\n  guidesEnabled: boolean\n  snapToGrid: boolean\n  snapToGuides: boolean\n  panelVisibility: PanelVisibility\n}\n\nexport type EditorTool =\n  | 'select'\n  | 'text'\n  | 'shape'\n  | 'image'\n  | 'table'\n  | 'pan'\n  | 'zoom'\n\nexport interface PanelVisibility {\n  leftSidebar: boolean\n  rightSidebar: boolean\n  toolbar: boolean\n  statusBar: boolean\n}\n\nexport interface SelectionState {\n  selectedElementIds: string[]\n  selectionBounds: SelectionBounds | null\n  isMultiSelect: boolean\n  isDragging: boolean\n  isResizing: boolean\n  resizeHandle: ResizeHandle | null\n  isRotating: boolean\n}\n\nexport interface SelectionBounds {\n  x: number\n  y: number\n  width: number\n  height: number\n}\n\nexport type ResizeHandle =\n  | 'top-left'\n  | 'top'\n  | 'top-right'\n  | 'right'\n  | 'bottom-right'\n  | 'bottom'\n  | 'bottom-left'\n  | 'left'\n  | 'rotate'\n\nexport interface HistoryState {\n  undoStack: HistoryEntry[]\n  redoStack: HistoryEntry[]\n  maxStackSize: number\n}\n\nexport interface HistoryEntry {\n  id: string\n  timestamp: Date\n  action: string\n  previousState: Partial<Presentation>\n  nextState: Partial<Presentation>\n}\n\nexport interface ClipboardState {\n  elements: SlideElement[]\n  sourceSlideId: string\n}\n\n// Default editor state\nexport const DEFAULT_EDITOR_STATE: EditorState = {\n  zoom: 1,\n  currentSlideId: null,\n  viewMode: 'edit',\n  activeTool: 'select',\n  gridEnabled: false,\n  guidesEnabled: true,\n  snapToGrid: true,\n  snapToGuides: true,\n  panelVisibility: {\n    leftSidebar: true,\n    rightSidebar: true,\n    toolbar: true,\n    statusBar: true,\n  },\n}\n\nexport const DEFAULT_SELECTION_STATE: SelectionState = {\n  selectedElementIds: [],\n  selectionBounds: null,\n  isMultiSelect: false,\n  isDragging: false,\n  isResizing: false,\n  resizeHandle: null,\n  isRotating: false,\n}\n\n// Slide dimensions (16:9 aspect ratio)\nexport const SLIDE_WIDTH = 960\nexport const SLIDE_HEIGHT = 540\n\n// Zoom constraints\nexport const MIN_ZOOM = 0.1\nexport const MAX_ZOOM = 4.0\nexport const ZOOM_STEP = 0.1\n","import React, { createContext, useContext, useState, useCallback, useEffect, useRef } from 'react'\nimport {\n  Presentation,\n  PresentationMetadata,\n  PresentationTheme,\n  Slide,\n  SlideElement,\n  DEFAULT_THEME,\n  DEFAULT_METADATA,\n  DEFAULT_BACKGROUND,\n  Background,\n} from '@/types'\nimport { generateId } from '@/utils'\nimport { useHistory } from './HistoryContext'\n\ninterface PresentationContextValue {\n  // State\n  presentation: Presentation | null\n  isLoading: boolean\n  isDirty: boolean\n  error: Error | null\n  lastSaved: Date | null\n\n  // Presentation operations\n  createNewPresentation: (name?: string) => void\n  loadPresentation: (data: Presentation) => void\n  updatePresentationMeta: (meta: Partial<PresentationMetadata>) => void\n  setTheme: (theme: PresentationTheme) => void\n  setPresentationName: (name: string) => void\n\n  // Slide operations\n  addSlide: (afterSlideId?: string, layoutElements?: SlideElement[]) => Slide\n  deleteSlide: (slideId: string) => void\n  duplicateSlide: (slideId: string) => Slide | null\n  reorderSlides: (fromIndex: number, toIndex: number) => void\n  updateSlide: (slideId: string, updates: Partial<Slide>) => void\n  updateSlideBackground: (slideId: string, background: Background) => void\n\n  // Element operations\n  addElement: (slideId: string, element: SlideElement) => void\n  updateElement: (slideId: string, elementId: string, updates: Partial<SlideElement>) => void\n  deleteElements: (slideId: string, elementIds: string[]) => void\n  duplicateElements: (slideId: string, elementIds: string[]) => SlideElement[]\n  bringToFront: (slideId: string, elementId: string) => void\n  sendToBack: (slideId: string, elementId: string) => void\n  bringForward: (slideId: string, elementId: string) => void\n  sendBackward: (slideId: string, elementId: string) => void\n\n  // Save operation\n  requestSave: () => void\n}\n\nconst PresentationContext = createContext<PresentationContextValue | null>(null)\n\nexport interface PresentationProviderProps {\n  children: React.ReactNode\n  data?: Presentation | null\n  initialData?: Presentation | null\n  onChange?: (data: Presentation) => void\n  onSave?: (data: Presentation) => void\n  onDirtyChange?: (isDirty: boolean) => void\n}\n\nfunction createEmptySlide(order: number): Slide {\n  return {\n    id: generateId(),\n    order,\n    elements: [],\n    background: { ...DEFAULT_BACKGROUND },\n  }\n}\n\nexport function PresentationProvider({\n  children,\n  data,\n  initialData,\n  onChange,\n  onSave,\n  onDirtyChange,\n}: PresentationProviderProps) {\n  const isControlled = data !== undefined\n\n  const [internalPresentation, setInternalPresentation] = useState<Presentation | null>(\n    initialData ?? null\n  )\n  const [isLoading] = useState(false)\n  const [isDirty, setIsDirty] = useState(false)\n  const [error, setError] = useState<Error | null>(null)\n  const [lastSaved, setLastSaved] = useState<Date | null>(null)\n\n  const { pushState } = useHistory()\n\n  // The active presentation: controlled uses props, uncontrolled uses internal state\n  const presentation = isControlled ? (data ?? null) : internalPresentation\n\n  // Sync controlled data into history when it changes externally\n  const prevDataRef = useRef<Presentation | null | undefined>(data)\n  useEffect(() => {\n    if (isControlled && data && data !== prevDataRef.current) {\n      pushState('External update', data)\n      prevDataRef.current = data\n    }\n  }, [isControlled, data, pushState])\n\n  // Notify consumer when dirty state changes\n  useEffect(() => {\n    onDirtyChange?.(isDirty)\n  }, [isDirty, onDirtyChange])\n\n  // Apply a mutation: updates state and notifies consumer\n  const applyMutation = useCallback((newPresentation: Presentation) => {\n    if (isControlled) {\n      // Controlled: notify parent, they update `data` prop\n      onChange?.(newPresentation)\n    } else {\n      // Uncontrolled: update internal state and notify\n      setInternalPresentation(newPresentation)\n      onChange?.(newPresentation)\n    }\n  }, [isControlled, onChange])\n\n  // Helper to update presentation and track history\n  const updatePresentation = useCallback((\n    updater: (prev: Presentation) => Presentation,\n    action: string\n  ) => {\n    const current = isControlled ? (data ?? null) : internalPresentation\n    if (!current) return\n\n    const newState = updater(current)\n    newState.updatedAt = new Date()\n    pushState(action, newState)\n    setIsDirty(true)\n    applyMutation(newState)\n  }, [isControlled, data, internalPresentation, pushState, applyMutation])\n\n  // Save: calls the consumer's onSave callback\n  const requestSave = useCallback(() => {\n    const current = isControlled ? (data ?? null) : internalPresentation\n    if (!current) return\n    onSave?.(current)\n    setLastSaved(new Date())\n    setIsDirty(false)\n  }, [isControlled, data, internalPresentation, onSave])\n\n  // Presentation operations\n  const createNewPresentation = useCallback((name: string = 'Untitled Presentation') => {\n    const newPresentation: Presentation = {\n      id: generateId(),\n      name,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      slides: [createEmptySlide(0)],\n      theme: { ...DEFAULT_THEME },\n      metadata: { ...DEFAULT_METADATA, title: name },\n    }\n    pushState('Create presentation', newPresentation)\n    setIsDirty(false)\n    setError(null)\n    applyMutation(newPresentation)\n  }, [pushState, applyMutation])\n\n  const loadPresentation = useCallback((loaded: Presentation) => {\n    pushState('Load presentation', loaded)\n    setIsDirty(false)\n    setError(null)\n    applyMutation(loaded)\n  }, [pushState, applyMutation])\n\n  const updatePresentationMeta = useCallback((meta: Partial<PresentationMetadata>) => {\n    updatePresentation(prev => ({\n      ...prev,\n      metadata: { ...prev.metadata, ...meta },\n    }), 'Update metadata')\n  }, [updatePresentation])\n\n  const setTheme = useCallback((theme: PresentationTheme, applyToSlides: boolean = true) => {\n    updatePresentation(prev => {\n      const updated = { ...prev, theme }\n      if (applyToSlides && theme.defaultBackground) {\n        updated.slides = prev.slides.map(slide => ({\n          ...slide,\n          background: { ...theme.defaultBackground },\n        }))\n      }\n      return updated\n    }, 'Change theme')\n  }, [updatePresentation])\n\n  const setPresentationName = useCallback((name: string) => {\n    updatePresentation(prev => ({ ...prev, name }), 'Rename presentation')\n  }, [updatePresentation])\n\n  // Slide operations\n  const addSlide = useCallback((afterSlideId?: string, layoutElements?: SlideElement[]): Slide => {\n    const newSlide = createEmptySlide(0)\n    if (layoutElements && layoutElements.length > 0) {\n      newSlide.elements = layoutElements\n    }\n    const current = isControlled ? (data ?? null) : internalPresentation\n    if (!current) return newSlide\n\n    let insertIndex = current.slides.length\n    if (afterSlideId) {\n      const afterIndex = current.slides.findIndex(s => s.id === afterSlideId)\n      if (afterIndex !== -1) insertIndex = afterIndex + 1\n    }\n\n    const newSlides = [...current.slides]\n    newSlide.order = insertIndex\n    newSlides.splice(insertIndex, 0, newSlide)\n\n    for (let i = insertIndex + 1; i < newSlides.length; i++) {\n      newSlides[i] = { ...newSlides[i], order: i }\n    }\n\n    const newState = { ...current, slides: newSlides, updatedAt: new Date() }\n    pushState('Add slide', newState)\n    setIsDirty(true)\n    applyMutation(newState)\n\n    return newSlide\n  }, [isControlled, data, internalPresentation, pushState, applyMutation])\n\n  const deleteSlide = useCallback((slideId: string) => {\n    updatePresentation(prev => {\n      const newSlides = prev.slides.filter(s => s.id !== slideId)\n      if (newSlides.length === 0) {\n        newSlides.push(createEmptySlide(0))\n      }\n      newSlides.forEach((slide, index) => { slide.order = index })\n      return { ...prev, slides: newSlides }\n    }, 'Delete slide')\n  }, [updatePresentation])\n\n  const duplicateSlide = useCallback((slideId: string): Slide | null => {\n    const current = isControlled ? (data ?? null) : internalPresentation\n    if (!current) return null\n\n    const slideIndex = current.slides.findIndex(s => s.id === slideId)\n    if (slideIndex === -1) return null\n\n    const originalSlide = current.slides[slideIndex]\n    const newSlide: Slide = {\n      ...JSON.parse(JSON.stringify(originalSlide)),\n      id: generateId(),\n      order: slideIndex + 1,\n    }\n    newSlide.elements = newSlide.elements.map((el: SlideElement) => ({\n      ...el,\n      id: generateId(),\n    }))\n\n    const newSlides = [...current.slides]\n    newSlides.splice(slideIndex + 1, 0, newSlide)\n    for (let i = slideIndex + 2; i < newSlides.length; i++) {\n      newSlides[i] = { ...newSlides[i], order: i }\n    }\n\n    const newState = { ...current, slides: newSlides, updatedAt: new Date() }\n    pushState('Duplicate slide', newState)\n    setIsDirty(true)\n    applyMutation(newState)\n\n    return newSlide\n  }, [isControlled, data, internalPresentation, pushState, applyMutation])\n\n  const reorderSlides = useCallback((fromIndex: number, toIndex: number) => {\n    updatePresentation(prev => {\n      const newSlides = [...prev.slides]\n      const [movedSlide] = newSlides.splice(fromIndex, 1)\n      newSlides.splice(toIndex, 0, movedSlide)\n      newSlides.forEach((slide, index) => { slide.order = index })\n      return { ...prev, slides: newSlides }\n    }, 'Reorder slides')\n  }, [updatePresentation])\n\n  const updateSlide = useCallback((slideId: string, updates: Partial<Slide>) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide =>\n        slide.id === slideId ? { ...slide, ...updates } : slide\n      ),\n    }), 'Update slide')\n  }, [updatePresentation])\n\n  const updateSlideBackground = useCallback((slideId: string, background: Background) => {\n    updateSlide(slideId, { background })\n  }, [updateSlide])\n\n  // Element operations\n  const addElement = useCallback((slideId: string, element: SlideElement) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        const maxZIndex = Math.max(0, ...slide.elements.map(el => el.zIndex))\n        return {\n          ...slide,\n          elements: [...slide.elements, { ...element, zIndex: maxZIndex + 1 }],\n        }\n      }),\n    }), 'Add element')\n  }, [updatePresentation])\n\n  const updateElement = useCallback((\n    slideId: string,\n    elementId: string,\n    updates: Partial<SlideElement>\n  ) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        return {\n          ...slide,\n          elements: slide.elements.map(el =>\n            el.id === elementId ? { ...el, ...updates } as SlideElement : el\n          ),\n        }\n      }),\n    }), 'Update element')\n  }, [updatePresentation])\n\n  const deleteElements = useCallback((slideId: string, elementIds: string[]) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        return {\n          ...slide,\n          elements: slide.elements.filter(el => !elementIds.includes(el.id)),\n        }\n      }),\n    }), 'Delete elements')\n  }, [updatePresentation])\n\n  const duplicateElements = useCallback((slideId: string, elementIds: string[]): SlideElement[] => {\n    const current = isControlled ? (data ?? null) : internalPresentation\n    if (!current) return []\n\n    const duplicated: SlideElement[] = []\n    const newSlides = current.slides.map(slide => {\n      if (slide.id !== slideId) return slide\n\n      const elementsToDuplicate = slide.elements.filter(el => elementIds.includes(el.id))\n      const maxZIndex = Math.max(0, ...slide.elements.map(el => el.zIndex))\n\n      const newElements = elementsToDuplicate.map((el, index) => {\n        const newEl = {\n          ...JSON.parse(JSON.stringify(el)),\n          id: generateId(),\n          position: { x: el.position.x + 20, y: el.position.y + 20 },\n          zIndex: maxZIndex + index + 1,\n        }\n        duplicated.push(newEl)\n        return newEl\n      })\n\n      return { ...slide, elements: [...slide.elements, ...newElements] }\n    })\n\n    const newState = { ...current, slides: newSlides, updatedAt: new Date() }\n    pushState('Duplicate elements', newState)\n    setIsDirty(true)\n    applyMutation(newState)\n\n    return duplicated\n  }, [isControlled, data, internalPresentation, pushState, applyMutation])\n\n  const bringToFront = useCallback((slideId: string, elementId: string) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        const maxZIndex = Math.max(...slide.elements.map(el => el.zIndex))\n        return {\n          ...slide,\n          elements: slide.elements.map(el =>\n            el.id === elementId ? { ...el, zIndex: maxZIndex + 1 } : el\n          ),\n        }\n      }),\n    }), 'Bring to front')\n  }, [updatePresentation])\n\n  const sendToBack = useCallback((slideId: string, elementId: string) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        const minZIndex = Math.min(...slide.elements.map(el => el.zIndex))\n        return {\n          ...slide,\n          elements: slide.elements.map(el =>\n            el.id === elementId ? { ...el, zIndex: minZIndex - 1 } : el\n          ),\n        }\n      }),\n    }), 'Send to back')\n  }, [updatePresentation])\n\n  const bringForward = useCallback((slideId: string, elementId: string) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        const element = slide.elements.find(el => el.id === elementId)\n        if (!element) return slide\n        const nextHigher = slide.elements\n          .filter(el => el.zIndex > element.zIndex)\n          .sort((a, b) => a.zIndex - b.zIndex)[0]\n        if (!nextHigher) return slide\n        return {\n          ...slide,\n          elements: slide.elements.map(el => {\n            if (el.id === elementId) return { ...el, zIndex: nextHigher.zIndex }\n            if (el.id === nextHigher.id) return { ...el, zIndex: element.zIndex }\n            return el\n          }),\n        }\n      }),\n    }), 'Bring forward')\n  }, [updatePresentation])\n\n  const sendBackward = useCallback((slideId: string, elementId: string) => {\n    updatePresentation(prev => ({\n      ...prev,\n      slides: prev.slides.map(slide => {\n        if (slide.id !== slideId) return slide\n        const element = slide.elements.find(el => el.id === elementId)\n        if (!element) return slide\n        const nextLower = slide.elements\n          .filter(el => el.zIndex < element.zIndex)\n          .sort((a, b) => b.zIndex - a.zIndex)[0]\n        if (!nextLower) return slide\n        return {\n          ...slide,\n          elements: slide.elements.map(el => {\n            if (el.id === elementId) return { ...el, zIndex: nextLower.zIndex }\n            if (el.id === nextLower.id) return { ...el, zIndex: element.zIndex }\n            return el\n          }),\n        }\n      }),\n    }), 'Send backward')\n  }, [updatePresentation])\n\n  const value: PresentationContextValue = {\n    presentation,\n    isLoading,\n    isDirty,\n    error,\n    lastSaved,\n    createNewPresentation,\n    loadPresentation,\n    updatePresentationMeta,\n    setTheme,\n    setPresentationName,\n    addSlide,\n    deleteSlide,\n    duplicateSlide,\n    reorderSlides,\n    updateSlide,\n    updateSlideBackground,\n    addElement,\n    updateElement,\n    deleteElements,\n    duplicateElements,\n    bringToFront,\n    sendToBack,\n    bringForward,\n    sendBackward,\n    requestSave,\n  }\n\n  return (\n    <PresentationContext.Provider value={value}>\n      {children}\n    </PresentationContext.Provider>\n  )\n}\n\nexport function usePresentation() {\n  const context = useContext(PresentationContext)\n  if (!context) {\n    throw new Error('usePresentation must be used within a PresentationProvider')\n  }\n  return context\n}\n","import React, { createContext, useContext, useState, useCallback } from 'react'\nimport {\n  EditorState,\n  EditorTool,\n  PanelVisibility,\n  DEFAULT_EDITOR_STATE,\n  MIN_ZOOM,\n  MAX_ZOOM,\n  ZOOM_STEP,\n  TextStyle,\n} from '@/types'\nimport { clamp } from '@/utils/geometry'\nimport { TextSelection } from '@/utils/textFormatting'\n\n// Text editing state\ninterface TextEditingState {\n  elementId: string | null\n  selection: TextSelection | null\n  selectionStyle: Partial<TextStyle> | null\n}\n\ninterface EditorContextValue {\n  // State\n  editorState: EditorState\n  textEditingState: TextEditingState\n\n  // Zoom operations\n  setZoom: (zoom: number) => void\n  zoomIn: () => void\n  zoomOut: () => void\n  zoomToFit: () => void\n  zoomTo100: () => void\n\n  // Navigation\n  setCurrentSlide: (slideId: string | null) => void\n\n  // Tool operations\n  setActiveTool: (tool: EditorTool) => void\n\n  // View options\n  toggleGrid: () => void\n  toggleGuides: () => void\n  toggleSnapToGrid: () => void\n  toggleSnapToGuides: () => void\n  setViewMode: (mode: 'edit' | 'preview' | 'slideshow') => void\n\n  // Panel operations\n  toggleLeftSidebar: () => void\n  toggleRightSidebar: () => void\n  setLeftSidebarVisible: (visible: boolean) => void\n  setRightSidebarVisible: (visible: boolean) => void\n\n  // Text editing operations\n  setTextEditing: (elementId: string | null) => void\n  setTextSelection: (selection: TextSelection | null, style: Partial<TextStyle> | null) => void\n}\n\nconst EditorContext = createContext<EditorContextValue | null>(null)\n\nexport interface EditorProviderProps {\n  children: React.ReactNode\n  panels?: Partial<PanelVisibility>\n  initialZoom?: number\n}\n\nconst DEFAULT_TEXT_EDITING_STATE: TextEditingState = {\n  elementId: null,\n  selection: null,\n  selectionStyle: null,\n}\n\nexport function EditorProvider({ children, panels, initialZoom }: EditorProviderProps) {\n  const [editorState, setEditorState] = useState<EditorState>(() => {\n    const state = { ...DEFAULT_EDITOR_STATE }\n    if (panels) {\n      state.panelVisibility = { ...DEFAULT_EDITOR_STATE.panelVisibility, ...panels }\n    }\n    if (initialZoom !== undefined) {\n      state.zoom = clamp(initialZoom, MIN_ZOOM, MAX_ZOOM)\n    }\n    return state\n  })\n  const [textEditingState, setTextEditingState] = useState<TextEditingState>(DEFAULT_TEXT_EDITING_STATE)\n\n  // Zoom operations\n  const setZoom = useCallback((zoom: number) => {\n    setEditorState(prev => ({\n      ...prev,\n      zoom: clamp(zoom, MIN_ZOOM, MAX_ZOOM),\n    }))\n  }, [])\n\n  const zoomIn = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      zoom: clamp(prev.zoom + ZOOM_STEP, MIN_ZOOM, MAX_ZOOM),\n    }))\n  }, [])\n\n  const zoomOut = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      zoom: clamp(prev.zoom - ZOOM_STEP, MIN_ZOOM, MAX_ZOOM),\n    }))\n  }, [])\n\n  const zoomToFit = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      zoom: 0.75,\n    }))\n  }, [])\n\n  const zoomTo100 = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      zoom: 1,\n    }))\n  }, [])\n\n  // Navigation\n  const setCurrentSlide = useCallback((slideId: string | null) => {\n    setEditorState(prev => ({\n      ...prev,\n      currentSlideId: slideId,\n    }))\n  }, [])\n\n  // Tool operations\n  const setActiveTool = useCallback((tool: EditorTool) => {\n    setEditorState(prev => ({\n      ...prev,\n      activeTool: tool,\n    }))\n  }, [])\n\n  // View options\n  const toggleGrid = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      gridEnabled: !prev.gridEnabled,\n    }))\n  }, [])\n\n  const toggleGuides = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      guidesEnabled: !prev.guidesEnabled,\n    }))\n  }, [])\n\n  const toggleSnapToGrid = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      snapToGrid: !prev.snapToGrid,\n    }))\n  }, [])\n\n  const toggleSnapToGuides = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      snapToGuides: !prev.snapToGuides,\n    }))\n  }, [])\n\n  const setViewMode = useCallback((mode: 'edit' | 'preview' | 'slideshow') => {\n    setEditorState(prev => ({\n      ...prev,\n      viewMode: mode,\n    }))\n  }, [])\n\n  // Panel operations\n  const toggleLeftSidebar = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      panelVisibility: {\n        ...prev.panelVisibility,\n        leftSidebar: !prev.panelVisibility.leftSidebar,\n      },\n    }))\n  }, [])\n\n  const toggleRightSidebar = useCallback(() => {\n    setEditorState(prev => ({\n      ...prev,\n      panelVisibility: {\n        ...prev.panelVisibility,\n        rightSidebar: !prev.panelVisibility.rightSidebar,\n      },\n    }))\n  }, [])\n\n  const setLeftSidebarVisible = useCallback((visible: boolean) => {\n    setEditorState(prev => ({\n      ...prev,\n      panelVisibility: {\n        ...prev.panelVisibility,\n        leftSidebar: visible,\n      },\n    }))\n  }, [])\n\n  const setRightSidebarVisible = useCallback((visible: boolean) => {\n    setEditorState(prev => ({\n      ...prev,\n      panelVisibility: {\n        ...prev.panelVisibility,\n        rightSidebar: visible,\n      },\n    }))\n  }, [])\n\n  // Text editing operations\n  const setTextEditing = useCallback((elementId: string | null) => {\n    setTextEditingState(prev => ({\n      ...prev,\n      elementId,\n      selection: elementId ? prev.selection : null,\n      selectionStyle: elementId ? prev.selectionStyle : null,\n    }))\n  }, [])\n\n  const setTextSelection = useCallback((selection: TextSelection | null, style: Partial<TextStyle> | null) => {\n    setTextEditingState(prev => ({\n      ...prev,\n      selection,\n      selectionStyle: style,\n    }))\n  }, [])\n\n  const value: EditorContextValue = {\n    editorState,\n    textEditingState,\n    setZoom,\n    zoomIn,\n    zoomOut,\n    zoomToFit,\n    zoomTo100,\n    setCurrentSlide,\n    setActiveTool,\n    toggleGrid,\n    toggleGuides,\n    toggleSnapToGrid,\n    toggleSnapToGuides,\n    setViewMode,\n    toggleLeftSidebar,\n    toggleRightSidebar,\n    setLeftSidebarVisible,\n    setRightSidebarVisible,\n    setTextEditing,\n    setTextSelection,\n  }\n\n  return (\n    <EditorContext.Provider value={value}>\n      {children}\n    </EditorContext.Provider>\n  )\n}\n\nexport function useEditor() {\n  const context = useContext(EditorContext)\n  if (!context) {\n    throw new Error('useEditor must be used within an EditorProvider')\n  }\n  return context\n}\n","import React, { createContext, useContext, useState, useCallback } from 'react'\nimport {\n  SelectionState,\n  DEFAULT_SELECTION_STATE,\n  ResizeHandle,\n  SlideElement,\n} from '@/types'\nimport { usePresentation } from './PresentationContext'\nimport { useEditor } from './EditorContext'\n\ninterface ClipboardData {\n  elements: SlideElement[]\n  sourceSlideId: string\n}\n\ninterface SelectionContextValue {\n  // State\n  selection: SelectionState\n  clipboard: ClipboardData | null\n\n  // Selection operations\n  selectElement: (elementId: string, addToSelection?: boolean) => void\n  selectElements: (elementIds: string[]) => void\n  deselectAll: () => void\n  selectAll: () => void\n  isSelected: (elementId: string) => boolean\n\n  // Drag operations\n  startDrag: () => void\n  endDrag: () => void\n\n  // Resize operations\n  startResize: (handle: ResizeHandle) => void\n  endResize: () => void\n\n  // Rotation operations\n  startRotate: () => void\n  endRotate: () => void\n\n  // Clipboard operations\n  copy: () => void\n  cut: () => void\n  paste: () => void\n  hasClipboard: boolean\n\n  // Delete\n  deleteSelected: () => void\n\n  // Get selected elements\n  getSelectedElements: () => SlideElement[]\n}\n\nconst SelectionContext = createContext<SelectionContextValue | null>(null)\n\ninterface SelectionProviderProps {\n  children: React.ReactNode\n}\n\nexport function SelectionProvider({ children }: SelectionProviderProps) {\n  const [selection, setSelection] = useState<SelectionState>(DEFAULT_SELECTION_STATE)\n  const [clipboard, setClipboard] = useState<ClipboardData | null>(null)\n\n  const { presentation, deleteElements, duplicateElements } = usePresentation()\n  const { editorState } = useEditor()\n\n  // Get current slide\n  const getCurrentSlide = useCallback(() => {\n    if (!presentation || !editorState.currentSlideId) return null\n    return presentation.slides.find(s => s.id === editorState.currentSlideId) || null\n  }, [presentation, editorState.currentSlideId])\n\n  // Selection operations\n  const selectElement = useCallback((elementId: string, addToSelection: boolean = false) => {\n    setSelection(prev => {\n      if (addToSelection) {\n        // Toggle selection if already selected\n        if (prev.selectedElementIds.includes(elementId)) {\n          const newIds = prev.selectedElementIds.filter(id => id !== elementId)\n          return {\n            ...prev,\n            selectedElementIds: newIds,\n            isMultiSelect: newIds.length > 1,\n          }\n        }\n        return {\n          ...prev,\n          selectedElementIds: [...prev.selectedElementIds, elementId],\n          isMultiSelect: true,\n        }\n      }\n      return {\n        ...prev,\n        selectedElementIds: [elementId],\n        isMultiSelect: false,\n      }\n    })\n  }, [])\n\n  const selectElements = useCallback((elementIds: string[]) => {\n    setSelection(prev => ({\n      ...prev,\n      selectedElementIds: elementIds,\n      isMultiSelect: elementIds.length > 1,\n    }))\n  }, [])\n\n  const deselectAll = useCallback(() => {\n    setSelection(prev => ({\n      ...prev,\n      selectedElementIds: [],\n      selectionBounds: null,\n      isMultiSelect: false,\n    }))\n  }, [])\n\n  const selectAll = useCallback(() => {\n    const slide = getCurrentSlide()\n    if (!slide) return\n\n    const allIds = slide.elements.map(el => el.id)\n    setSelection(prev => ({\n      ...prev,\n      selectedElementIds: allIds,\n      isMultiSelect: allIds.length > 1,\n    }))\n  }, [getCurrentSlide])\n\n  const isSelected = useCallback((elementId: string): boolean => {\n    return selection.selectedElementIds.includes(elementId)\n  }, [selection.selectedElementIds])\n\n  // Drag operations\n  const startDrag = useCallback(() => {\n    setSelection(prev => ({ ...prev, isDragging: true }))\n  }, [])\n\n  const endDrag = useCallback(() => {\n    setSelection(prev => ({ ...prev, isDragging: false }))\n  }, [])\n\n  // Resize operations\n  const startResize = useCallback((handle: ResizeHandle) => {\n    setSelection(prev => ({\n      ...prev,\n      isResizing: true,\n      resizeHandle: handle,\n    }))\n  }, [])\n\n  const endResize = useCallback(() => {\n    setSelection(prev => ({\n      ...prev,\n      isResizing: false,\n      resizeHandle: null,\n    }))\n  }, [])\n\n  // Rotation operations\n  const startRotate = useCallback(() => {\n    setSelection(prev => ({ ...prev, isRotating: true }))\n  }, [])\n\n  const endRotate = useCallback(() => {\n    setSelection(prev => ({ ...prev, isRotating: false }))\n  }, [])\n\n  // Clipboard operations\n  const copy = useCallback(() => {\n    const slide = getCurrentSlide()\n    if (!slide || selection.selectedElementIds.length === 0) return\n\n    const elementsToCopy = slide.elements.filter(el =>\n      selection.selectedElementIds.includes(el.id)\n    )\n\n    setClipboard({\n      elements: JSON.parse(JSON.stringify(elementsToCopy)),\n      sourceSlideId: slide.id,\n    })\n  }, [getCurrentSlide, selection.selectedElementIds])\n\n  const cut = useCallback(() => {\n    copy()\n    deleteSelected()\n  }, []) // We'll define deleteSelected below\n\n  const paste = useCallback(() => {\n    if (!clipboard || !editorState.currentSlideId) return\n\n    const newElements = duplicateElements(\n      editorState.currentSlideId,\n      clipboard.elements.map(el => el.id)\n    )\n\n    // Select the pasted elements\n    if (newElements.length > 0) {\n      selectElements(newElements.map(el => el.id))\n    }\n  }, [clipboard, editorState.currentSlideId, duplicateElements, selectElements])\n\n  // Delete\n  const deleteSelected = useCallback(() => {\n    if (!editorState.currentSlideId || selection.selectedElementIds.length === 0) return\n\n    deleteElements(editorState.currentSlideId, selection.selectedElementIds)\n    deselectAll()\n  }, [editorState.currentSlideId, selection.selectedElementIds, deleteElements, deselectAll])\n\n  // Get selected elements\n  const getSelectedElements = useCallback((): SlideElement[] => {\n    const slide = getCurrentSlide()\n    if (!slide) return []\n\n    return slide.elements.filter(el => selection.selectedElementIds.includes(el.id))\n  }, [getCurrentSlide, selection.selectedElementIds])\n\n  const value: SelectionContextValue = {\n    selection,\n    clipboard,\n    selectElement,\n    selectElements,\n    deselectAll,\n    selectAll,\n    isSelected,\n    startDrag,\n    endDrag,\n    startResize,\n    endResize,\n    startRotate,\n    endRotate,\n    copy,\n    cut,\n    paste,\n    hasClipboard: clipboard !== null && clipboard.elements.length > 0,\n    deleteSelected,\n    getSelectedElements,\n  }\n\n  return (\n    <SelectionContext.Provider value={value}>\n      {children}\n    </SelectionContext.Provider>\n  )\n}\n\nexport function useSelection() {\n  const context = useContext(SelectionContext)\n  if (!context) {\n    throw new Error('useSelection must be used within a SelectionProvider')\n  }\n  return context\n}\n","import { PresentationTheme, ColorScheme, FontScheme } from '@/types'\nimport { generateId } from '@/utils'\n\n// Default color scheme\nconst defaultColorScheme: ColorScheme = {\n  dark1: '#000000',\n  light1: '#FFFFFF',\n  dark2: '#44546A',\n  light2: '#E7E6E6',\n  accent1: '#4472C4',\n  accent2: '#ED7D31',\n  accent3: '#A5A5A5',\n  accent4: '#FFC000',\n  accent5: '#5B9BD5',\n  accent6: '#70AD47',\n  hyperlink: '#0563C1',\n  followedHyperlink: '#954F72',\n  background1: '#FFFFFF',\n  text1: '#000000',\n  background2: '#E7E6E6',\n  text2: '#44546A',\n}\n\n// Dark theme color scheme\nconst darkColorScheme: ColorScheme = {\n  dark1: '#FFFFFF',\n  light1: '#1E1E1E',\n  dark2: '#E0E0E0',\n  light2: '#2D2D2D',\n  accent1: '#5B9BD5',\n  accent2: '#ED7D31',\n  accent3: '#A5A5A5',\n  accent4: '#FFC000',\n  accent5: '#4472C4',\n  accent6: '#70AD47',\n  hyperlink: '#58A6FF',\n  followedHyperlink: '#B392F0',\n  background1: '#1E1E1E',\n  text1: '#FFFFFF',\n  background2: '#2D2D2D',\n  text2: '#E0E0E0',\n}\n\n// Corporate color scheme\nconst corporateColorScheme: ColorScheme = {\n  dark1: '#1C3A5E',\n  light1: '#FFFFFF',\n  dark2: '#1C3A5E',\n  light2: '#F5F5F5',\n  accent1: '#1C3A5E',\n  accent2: '#4A7C59',\n  accent3: '#BFB8A5',\n  accent4: '#D4A84B',\n  accent5: '#7C9FB0',\n  accent6: '#6B4E71',\n  hyperlink: '#1C3A5E',\n  followedHyperlink: '#6B4E71',\n  background1: '#FFFFFF',\n  text1: '#1C3A5E',\n  background2: '#F5F5F5',\n  text2: '#1C3A5E',\n}\n\n// Creative color scheme\nconst creativeColorScheme: ColorScheme = {\n  dark1: '#2D2D2D',\n  light1: '#FFFEF9',\n  dark2: '#4A4A4A',\n  light2: '#FFF8E7',\n  accent1: '#FF6B6B',\n  accent2: '#4ECDC4',\n  accent3: '#45B7D1',\n  accent4: '#96CEB4',\n  accent5: '#FFEAA7',\n  accent6: '#DDA0DD',\n  hyperlink: '#FF6B6B',\n  followedHyperlink: '#4ECDC4',\n  background1: '#FFFEF9',\n  text1: '#2D2D2D',\n  background2: '#FFF8E7',\n  text2: '#4A4A4A',\n}\n\n// Minimal color scheme\nconst minimalColorScheme: ColorScheme = {\n  dark1: '#222222',\n  light1: '#FAFAFA',\n  dark2: '#555555',\n  light2: '#EEEEEE',\n  accent1: '#222222',\n  accent2: '#666666',\n  accent3: '#999999',\n  accent4: '#CCCCCC',\n  accent5: '#444444',\n  accent6: '#888888',\n  hyperlink: '#222222',\n  followedHyperlink: '#666666',\n  background1: '#FAFAFA',\n  text1: '#222222',\n  background2: '#EEEEEE',\n  text2: '#555555',\n}\n\n// Font schemes\nconst defaultFontScheme: FontScheme = {\n  majorFont: { latin: 'Calibri Light' },\n  minorFont: { latin: 'Calibri' },\n}\n\nconst corporateFontScheme: FontScheme = {\n  majorFont: { latin: 'Georgia' },\n  minorFont: { latin: 'Arial' },\n}\n\nconst creativeFontScheme: FontScheme = {\n  majorFont: { latin: 'Playfair Display' },\n  minorFont: { latin: 'Open Sans' },\n}\n\nconst minimalFontScheme: FontScheme = {\n  majorFont: { latin: 'Helvetica' },\n  minorFont: { latin: 'Helvetica' },\n}\n\n// Built-in themes\nexport const BUILT_IN_THEMES: PresentationTheme[] = [\n  {\n    id: 'default',\n    name: 'Default',\n    colorScheme: defaultColorScheme,\n    fontScheme: defaultFontScheme,\n    defaultBackground: { type: 'solid', color: '#FFFFFF' },\n  },\n  {\n    id: 'dark',\n    name: 'Dark',\n    colorScheme: darkColorScheme,\n    fontScheme: defaultFontScheme,\n    defaultBackground: { type: 'solid', color: '#1E1E1E' },\n  },\n  {\n    id: 'corporate',\n    name: 'Corporate',\n    colorScheme: corporateColorScheme,\n    fontScheme: corporateFontScheme,\n    defaultBackground: { type: 'solid', color: '#FFFFFF' },\n  },\n  {\n    id: 'creative',\n    name: 'Creative',\n    colorScheme: creativeColorScheme,\n    fontScheme: creativeFontScheme,\n    defaultBackground: { type: 'solid', color: '#FFFEF9' },\n  },\n  {\n    id: 'minimal',\n    name: 'Minimal',\n    colorScheme: minimalColorScheme,\n    fontScheme: minimalFontScheme,\n    defaultBackground: { type: 'solid', color: '#FAFAFA' },\n  },\n]\n\n/**\n * Create a new theme with default values\n */\nexport function createNewTheme(name: string = 'New Theme'): PresentationTheme {\n  return {\n    id: generateId(),\n    name,\n    colorScheme: { ...defaultColorScheme },\n    fontScheme: { ...defaultFontScheme },\n    defaultBackground: { type: 'solid', color: '#FFFFFF' },\n  }\n}\n","import React, { createContext, useContext, useState, useCallback, useEffect } from 'react'\nimport { PresentationTheme } from '@/types'\nimport { BUILT_IN_THEMES, createNewTheme } from '@/data/builtInThemes'\n\ninterface ThemeContextValue {\n  // Built-in themes\n  builtInThemes: PresentationTheme[]\n\n  // Custom themes (user-created)\n  customThemes: PresentationTheme[]\n\n  // All themes combined\n  allThemes: PresentationTheme[]\n\n  // Theme operations\n  saveTheme: (theme: PresentationTheme) => void\n  deleteTheme: (themeId: string) => void\n  getTheme: (themeId: string) => PresentationTheme | undefined\n  createTheme: (name?: string) => PresentationTheme\n  duplicateTheme: (themeId: string, newName?: string) => PresentationTheme | undefined\n}\n\nconst ThemeContext = createContext<ThemeContextValue | null>(null)\n\nexport interface ThemeProviderProps {\n  children: React.ReactNode\n  customThemes?: PresentationTheme[]\n  onThemeChange?: (themes: PresentationTheme[]) => void\n}\n\nexport function ThemeProvider({ children, customThemes: customThemesProp, onThemeChange }: ThemeProviderProps) {\n  const [customThemes, setCustomThemes] = useState<PresentationTheme[]>(customThemesProp ?? [])\n\n  // Sync from external prop when it changes\n  useEffect(() => {\n    if (customThemesProp !== undefined) {\n      setCustomThemes(customThemesProp)\n    }\n  }, [customThemesProp])\n\n  // Combine built-in and custom themes\n  const allThemes = [...BUILT_IN_THEMES, ...customThemes]\n\n  // Save or update a theme\n  const saveTheme = useCallback((theme: PresentationTheme) => {\n    setCustomThemes(prev => {\n      // Check if this is an update to an existing custom theme\n      const existingIndex = prev.findIndex(t => t.id === theme.id)\n\n      let updated: PresentationTheme[]\n      if (existingIndex >= 0) {\n        // Update existing theme\n        updated = [...prev]\n        updated[existingIndex] = theme\n      } else if (BUILT_IN_THEMES.some(t => t.id === theme.id)) {\n        // If trying to save a built-in theme, create a copy with new ID\n        updated = [...prev, { ...theme, id: `custom_${Date.now()}` }]\n      } else {\n        updated = [...prev, theme]\n      }\n\n      onThemeChange?.(updated)\n      return updated\n    })\n  }, [onThemeChange])\n\n  // Delete a custom theme\n  const deleteTheme = useCallback((themeId: string) => {\n    // Can't delete built-in themes\n    if (BUILT_IN_THEMES.some(t => t.id === themeId)) {\n      console.warn('Cannot delete built-in theme')\n      return\n    }\n\n    setCustomThemes(prev => {\n      const updated = prev.filter(t => t.id !== themeId)\n      onThemeChange?.(updated)\n      return updated\n    })\n  }, [onThemeChange])\n\n  // Get a theme by ID\n  const getTheme = useCallback((themeId: string): PresentationTheme | undefined => {\n    return allThemes.find(t => t.id === themeId)\n  }, [allThemes])\n\n  // Create a new theme\n  const createTheme = useCallback((name?: string): PresentationTheme => {\n    return createNewTheme(name)\n  }, [])\n\n  // Duplicate an existing theme\n  const duplicateTheme = useCallback((themeId: string, newName?: string): PresentationTheme | undefined => {\n    const sourceTheme = getTheme(themeId)\n    if (!sourceTheme) return undefined\n\n    const duplicated: PresentationTheme = {\n      ...sourceTheme,\n      id: `custom_${Date.now()}`,\n      name: newName || `${sourceTheme.name} (Copy)`,\n      colorScheme: { ...sourceTheme.colorScheme },\n      fontScheme: {\n        majorFont: { ...sourceTheme.fontScheme.majorFont },\n        minorFont: { ...sourceTheme.fontScheme.minorFont },\n      },\n      defaultBackground: { ...sourceTheme.defaultBackground },\n    }\n\n    return duplicated\n  }, [getTheme])\n\n  const value: ThemeContextValue = {\n    builtInThemes: BUILT_IN_THEMES,\n    customThemes,\n    allThemes,\n    saveTheme,\n    deleteTheme,\n    getTheme,\n    createTheme,\n    duplicateTheme,\n  }\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\nexport function useThemes() {\n  const context = useContext(ThemeContext)\n  if (!context) {\n    throw new Error('useThemes must be used within a ThemeProvider')\n  }\n  return context\n}\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n\nexport { hasA11yProp, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses, hasA11yProp } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => createElement(\n    \"svg\",\n    {\n      ref,\n      ...defaultAttributes,\n      width: size,\n      height: size,\n      stroke: color,\n      strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n      className: mergeClasses(\"lucide\", className),\n      ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n      ...rest\n    },\n    [\n      ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n      ...Array.isArray(children) ? children : [children]\n    ]\n  )\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"arrow-right\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8\", key: \"mg9rjx\" }\n  ]\n];\nconst Bold = createLucideIcon(\"bold\", __iconNode);\n\nexport { __iconNode, Bold as default };\n//# sourceMappingURL=bold.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]];\nconst Check = createLucideIcon(\"check\", __iconNode);\n\nexport { __iconNode, Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode);\n\nexport { __iconNode, ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]];\nconst ChevronRight = createLucideIcon(\"chevron-right\", __iconNode);\n\nexport { __iconNode, ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode);\n\nexport { __iconNode, ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]];\nconst Circle = createLucideIcon(\"circle\", __iconNode);\n\nexport { __iconNode, Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 15V3\", key: \"m9g1x1\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"path\", { d: \"m7 10 5 5 5-5\", key: \"brsn70\" }]\n];\nconst Download = createLucideIcon(\"download\", __iconNode);\n\nexport { __iconNode, Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n];\nconst EyeOff = createLucideIcon(\"eye-off\", __iconNode);\n\nexport { __iconNode, EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Eye = createLucideIcon(\"eye\", __iconNode);\n\nexport { __iconNode, Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n];\nconst FolderOpen = createLucideIcon(\"folder-open\", __iconNode);\n\nexport { __iconNode, FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n];\nconst Grid3x3 = createLucideIcon(\"grid-3x3\", __iconNode);\n\nexport { __iconNode, Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"19\", x2: \"10\", y1: \"4\", y2: \"4\", key: \"15jd3p\" }],\n  [\"line\", { x1: \"14\", x2: \"5\", y1: \"20\", y2: \"20\", key: \"bu0au3\" }],\n  [\"line\", { x1: \"15\", x2: \"9\", y1: \"4\", y2: \"20\", key: \"uljnxc\" }]\n];\nconst Italic = createLucideIcon(\"italic\", __iconNode);\n\nexport { __iconNode, Italic as default };\n//# sourceMappingURL=italic.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]];\nconst Minus = createLucideIcon(\"minus\", __iconNode);\n\nexport { __iconNode, Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12.586 12.586 19 19\", key: \"ea5xo7\" }],\n  [\n    \"path\",\n    {\n      d: \"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z\",\n      key: \"277e5u\"\n    }\n  ]\n];\nconst MousePointer = createLucideIcon(\"mouse-pointer\", __iconNode);\n\nexport { __iconNode, MousePointer as default };\n//# sourceMappingURL=mouse-pointer.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z\",\n      key: \"e79jfc\"\n    }\n  ],\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }]\n];\nconst Palette = createLucideIcon(\"palette\", __iconNode);\n\nexport { __iconNode, Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }],\n  [\"path\", { d: \"m8 9 3 3-3 3\", key: \"12hl5m\" }]\n];\nconst PanelRightClose = createLucideIcon(\"panel-right-close\", __iconNode);\n\nexport { __iconNode, PanelRightClose as default };\n//# sourceMappingURL=panel-right-close.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }],\n  [\"path\", { d: \"m10 15-3-3 3-3\", key: \"1pgupc\" }]\n];\nconst PanelRightOpen = createLucideIcon(\"panel-right-open\", __iconNode);\n\nexport { __iconNode, PanelRightOpen as default };\n//# sourceMappingURL=panel-right-open.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ],\n  [\"path\", { d: \"m15 5 4 4\", key: \"1mk7zo\" }]\n];\nconst Pencil = createLucideIcon(\"pencil\", __iconNode);\n\nexport { __iconNode, Pencil as default };\n//# sourceMappingURL=pencil.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n];\nconst Plus = createLucideIcon(\"plus\", __iconNode);\n\nexport { __iconNode, Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m15 14 5-5-5-5\", key: \"12vg1m\" }],\n  [\"path\", { d: \"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13\", key: \"6uklza\" }]\n];\nconst Redo2 = createLucideIcon(\"redo-2\", __iconNode);\n\nexport { __iconNode, Redo2 as default };\n//# sourceMappingURL=redo-2.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344\", key: \"2acyp4\" }\n  ],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst SquareCheckBig = createLucideIcon(\"square-check-big\", __iconNode);\n\nexport { __iconNode, SquareCheckBig as default };\n//# sourceMappingURL=square-check-big.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }]\n];\nconst Square = createLucideIcon(\"square\", __iconNode);\n\nexport { __iconNode, Square as default };\n//# sourceMappingURL=square.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z\",\n      key: \"r04s7s\"\n    }\n  ]\n];\nconst Star = createLucideIcon(\"star\", __iconNode);\n\nexport { __iconNode, Star as default };\n//# sourceMappingURL=star.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }]\n];\nconst Table = createLucideIcon(\"table\", __iconNode);\n\nexport { __iconNode, Table as default };\n//# sourceMappingURL=table.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 5H3\", key: \"1fi0y6\" }],\n  [\"path\", { d: \"M17 12H7\", key: \"16if0g\" }],\n  [\"path\", { d: \"M19 19H5\", key: \"vjpgq2\" }]\n];\nconst TextAlignCenter = createLucideIcon(\"text-align-center\", __iconNode);\n\nexport { __iconNode, TextAlignCenter as default };\n//# sourceMappingURL=text-align-center.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 5H3\", key: \"1fi0y6\" }],\n  [\"path\", { d: \"M21 12H9\", key: \"dn1m92\" }],\n  [\"path\", { d: \"M21 19H7\", key: \"4cu937\" }]\n];\nconst TextAlignEnd = createLucideIcon(\"text-align-end\", __iconNode);\n\nexport { __iconNode, TextAlignEnd as default };\n//# sourceMappingURL=text-align-end.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 5h18\", key: \"1u36vt\" }],\n  [\"path\", { d: \"M3 12h18\", key: \"1i2n21\" }],\n  [\"path\", { d: \"M3 19h18\", key: \"awlh7x\" }]\n];\nconst TextAlignJustify = createLucideIcon(\"text-align-justify\", __iconNode);\n\nexport { __iconNode, TextAlignJustify as default };\n//# sourceMappingURL=text-align-justify.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 5H3\", key: \"1fi0y6\" }],\n  [\"path\", { d: \"M15 12H3\", key: \"6jk70r\" }],\n  [\"path\", { d: \"M17 19H3\", key: \"z6ezky\" }]\n];\nconst TextAlignStart = createLucideIcon(\"text-align-start\", __iconNode);\n\nexport { __iconNode, TextAlignStart as default };\n//# sourceMappingURL=text-align-start.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n\nexport { __iconNode, Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\", key: \"14u9p9\" }\n  ]\n];\nconst Triangle = createLucideIcon(\"triangle\", __iconNode);\n\nexport { __iconNode, Triangle as default };\n//# sourceMappingURL=triangle.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 4v16\", key: \"1654pz\" }],\n  [\"path\", { d: \"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2\", key: \"e0r10z\" }],\n  [\"path\", { d: \"M9 20h6\", key: \"s66wpe\" }]\n];\nconst Type = createLucideIcon(\"type\", __iconNode);\n\nexport { __iconNode, Type as default };\n//# sourceMappingURL=type.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M6 4v6a6 6 0 0 0 12 0V4\", key: \"9kb039\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"20\", y2: \"20\", key: \"nun2al\" }]\n];\nconst Underline = createLucideIcon(\"underline\", __iconNode);\n\nexport { __iconNode, Underline as default };\n//# sourceMappingURL=underline.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M9 14 4 9l5-5\", key: \"102s5s\" }],\n  [\"path\", { d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11\", key: \"f3b9sd\" }]\n];\nconst Undo2 = createLucideIcon(\"undo-2\", __iconNode);\n\nexport { __iconNode, Undo2 as default };\n//# sourceMappingURL=undo-2.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v12\", key: \"1x0j5s\" }],\n  [\"path\", { d: \"m17 8-5-5-5 5\", key: \"7q97r8\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"11\", x2: \"11\", y1: \"8\", y2: \"14\", key: \"1vmskp\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n];\nconst ZoomIn = createLucideIcon(\"zoom-in\", __iconNode);\n\nexport { __iconNode, ZoomIn as default };\n//# sourceMappingURL=zoom-in.js.map\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n];\nconst ZoomOut = createLucideIcon(\"zoom-out\", __iconNode);\n\nexport { __iconNode, ZoomOut as default };\n//# sourceMappingURL=zoom-out.js.map\n","import { useMemo, useLayoutEffect, useEffect, useRef, useCallback } from 'react';\n\nfunction useCombinedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return useMemo(() => node => {\n    refs.forEach(ref => ref(node));\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs);\n}\n\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nconst canUseDOM = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined';\n\nfunction isWindow(element) {\n  const elementString = Object.prototype.toString.call(element);\n  return elementString === '[object Window]' || // In Electron context the Window object serializes to [object global]\n  elementString === '[object global]';\n}\n\nfunction isNode(node) {\n  return 'nodeType' in node;\n}\n\nfunction getWindow(target) {\n  var _target$ownerDocument, _target$ownerDocument2;\n\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return (_target$ownerDocument = (_target$ownerDocument2 = target.ownerDocument) == null ? void 0 : _target$ownerDocument2.defaultView) != null ? _target$ownerDocument : window;\n}\n\nfunction isDocument(node) {\n  const {\n    Document\n  } = getWindow(node);\n  return node instanceof Document;\n}\n\nfunction isHTMLElement(node) {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n\nfunction isSVGElement(node) {\n  return node instanceof getWindow(node).SVGElement;\n}\n\nfunction getOwnerDocument(target) {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n\n/**\r\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\r\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\r\n */\n\nconst useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;\n\nfunction useEvent(handler) {\n  const handlerRef = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n  return useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return handlerRef.current == null ? void 0 : handlerRef.current(...args);\n  }, []);\n}\n\nfunction useInterval() {\n  const intervalRef = useRef(null);\n  const set = useCallback((listener, duration) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n  return [set, clear];\n}\n\nfunction useLatestValue(value, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [value];\n  }\n\n  const valueRef = useRef(value);\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n  return valueRef;\n}\n\nfunction useLazyMemo(callback, dependencies) {\n  const valueRef = useRef();\n  return useMemo(() => {\n    const newValue = callback(valueRef.current);\n    valueRef.current = newValue;\n    return newValue;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...dependencies]);\n}\n\nfunction useNodeRef(onChange) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef(null);\n  const setNodeRef = useCallback(element => {\n    if (element !== node.current) {\n      onChangeHandler == null ? void 0 : onChangeHandler(element, node.current);\n    }\n\n    node.current = element;\n  }, //eslint-disable-next-line\n  []);\n  return [node, setNodeRef];\n}\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\nlet ids = {};\nfunction useUniqueId(prefix, value) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n    return prefix + \"-\" + id;\n  }, [prefix, value]);\n}\n\nfunction createAdjustmentFn(modifier) {\n  return function (object) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((accumulator, adjustment) => {\n      const entries = Object.entries(adjustment);\n\n      for (const [key, valueAdjustment] of entries) {\n        const value = accumulator[key];\n\n        if (value != null) {\n          accumulator[key] = value + modifier * valueAdjustment;\n        }\n      }\n\n      return accumulator;\n    }, { ...object\n    });\n  };\n}\n\nconst add = /*#__PURE__*/createAdjustmentFn(1);\nconst subtract = /*#__PURE__*/createAdjustmentFn(-1);\n\nfunction hasViewportRelativeCoordinates(event) {\n  return 'clientX' in event && 'clientY' in event;\n}\n\nfunction isKeyboardEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    KeyboardEvent\n  } = getWindow(event.target);\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n\nfunction isTouchEvent(event) {\n  if (!event) {\n    return false;\n  }\n\n  const {\n    TouchEvent\n  } = getWindow(event.target);\n  return TouchEvent && event instanceof TouchEvent;\n}\n\n/**\r\n * Returns the normalized x and y coordinates for mouse and touch events.\r\n */\n\nfunction getEventCoordinates(event) {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.touches[0];\n      return {\n        x,\n        y\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {\n        clientX: x,\n        clientY: y\n      } = event.changedTouches[0];\n      return {\n        x,\n        y\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY\n    };\n  }\n\n  return null;\n}\n\nconst CSS = /*#__PURE__*/Object.freeze({\n  Translate: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        x,\n        y\n      } = transform;\n      return \"translate3d(\" + (x ? Math.round(x) : 0) + \"px, \" + (y ? Math.round(y) : 0) + \"px, 0)\";\n    }\n\n  },\n  Scale: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      const {\n        scaleX,\n        scaleY\n      } = transform;\n      return \"scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\";\n    }\n\n  },\n  Transform: {\n    toString(transform) {\n      if (!transform) {\n        return;\n      }\n\n      return [CSS.Translate.toString(transform), CSS.Scale.toString(transform)].join(' ');\n    }\n\n  },\n  Transition: {\n    toString(_ref) {\n      let {\n        property,\n        duration,\n        easing\n      } = _ref;\n      return property + \" \" + duration + \"ms \" + easing;\n    }\n\n  }\n});\n\nconst SELECTOR = 'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\nfunction findFirstFocusableNode(element) {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n\nexport { CSS, add, canUseDOM, findFirstFocusableNode, getEventCoordinates, getOwnerDocument, getWindow, hasViewportRelativeCoordinates, isDocument, isHTMLElement, isKeyboardEvent, isNode, isSVGElement, isTouchEvent, isWindow, subtract, useCombinedRefs, useEvent, useInterval, useIsomorphicLayoutEffect, useLatestValue, useLazyMemo, useNodeRef, usePrevious, useUniqueId };\n//# sourceMappingURL=utilities.esm.js.map\n","import React, { useState, useCallback } from 'react';\n\nconst hiddenStyles = {\n  display: 'none'\n};\nfunction HiddenText(_ref) {\n  let {\n    id,\n    value\n  } = _ref;\n  return React.createElement(\"div\", {\n    id: id,\n    style: hiddenStyles\n  }, value);\n}\n\nfunction LiveRegion(_ref) {\n  let {\n    id,\n    announcement,\n    ariaLiveType = \"assertive\"\n  } = _ref;\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap'\n  };\n  return React.createElement(\"div\", {\n    id: id,\n    style: visuallyHidden,\n    role: \"status\",\n    \"aria-live\": ariaLiveType,\n    \"aria-atomic\": true\n  }, announcement);\n}\n\nfunction useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback(value => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n  return {\n    announce,\n    announcement\n  };\n}\n\nexport { HiddenText, LiveRegion, useAnnouncement };\n//# sourceMappingURL=accessibility.esm.js.map\n","import React, { createContext, useContext, useEffect, useState, useCallback, useMemo, useRef, memo, useReducer, cloneElement, forwardRef } from 'react';\nimport { createPortal, unstable_batchedUpdates } from 'react-dom';\nimport { useUniqueId, getEventCoordinates, getWindow, isDocument, isHTMLElement, isSVGElement, canUseDOM, isWindow, isNode, getOwnerDocument, add, isKeyboardEvent, subtract, useLazyMemo, useInterval, usePrevious, useLatestValue, useEvent, useIsomorphicLayoutEffect, useNodeRef, findFirstFocusableNode, CSS } from '@dnd-kit/utilities';\nimport { useAnnouncement, HiddenText, LiveRegion } from '@dnd-kit/accessibility';\n\nconst DndMonitorContext = /*#__PURE__*/createContext(null);\n\nfunction useDndMonitor(listener) {\n  const registerListener = useContext(DndMonitorContext);\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error('useDndMonitor must be used within a children of <DndContext>');\n    }\n\n    const unsubscribe = registerListener(listener);\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n\nfunction useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set());\n  const registerListener = useCallback(listener => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  }, [listeners]);\n  const dispatch = useCallback(_ref => {\n    let {\n      type,\n      event\n    } = _ref;\n    listeners.forEach(listener => {\n      var _listener$type;\n\n      return (_listener$type = listener[type]) == null ? void 0 : _listener$type.call(listener, event);\n    });\n  }, [listeners]);\n  return [dispatch, registerListener];\n}\n\nconst defaultScreenReaderInstructions = {\n  draggable: \"\\n    To pick up a draggable item, press the space bar.\\n    While dragging, use the arrow keys to move the item.\\n    Press space again to drop the item in its new position, or press escape to cancel.\\n  \"\n};\nconst defaultAnnouncements = {\n  onDragStart(_ref) {\n    let {\n      active\n    } = _ref;\n    return \"Picked up draggable item \" + active.id + \".\";\n  },\n\n  onDragOver(_ref2) {\n    let {\n      active,\n      over\n    } = _ref2;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was moved over droppable area \" + over.id + \".\";\n    }\n\n    return \"Draggable item \" + active.id + \" is no longer over a droppable area.\";\n  },\n\n  onDragEnd(_ref3) {\n    let {\n      active,\n      over\n    } = _ref3;\n\n    if (over) {\n      return \"Draggable item \" + active.id + \" was dropped over droppable area \" + over.id;\n    }\n\n    return \"Draggable item \" + active.id + \" was dropped.\";\n  },\n\n  onDragCancel(_ref4) {\n    let {\n      active\n    } = _ref4;\n    return \"Dragging was cancelled. Draggable item \" + active.id + \" was dropped.\";\n  }\n\n};\n\nfunction Accessibility(_ref) {\n  let {\n    announcements = defaultAnnouncements,\n    container,\n    hiddenTextDescribedById,\n    screenReaderInstructions = defaultScreenReaderInstructions\n  } = _ref;\n  const {\n    announce,\n    announcement\n  } = useAnnouncement();\n  const liveRegionId = useUniqueId(\"DndLiveRegion\");\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n  useDndMonitor(useMemo(() => ({\n    onDragStart(_ref2) {\n      let {\n        active\n      } = _ref2;\n      announce(announcements.onDragStart({\n        active\n      }));\n    },\n\n    onDragMove(_ref3) {\n      let {\n        active,\n        over\n      } = _ref3;\n\n      if (announcements.onDragMove) {\n        announce(announcements.onDragMove({\n          active,\n          over\n        }));\n      }\n    },\n\n    onDragOver(_ref4) {\n      let {\n        active,\n        over\n      } = _ref4;\n      announce(announcements.onDragOver({\n        active,\n        over\n      }));\n    },\n\n    onDragEnd(_ref5) {\n      let {\n        active,\n        over\n      } = _ref5;\n      announce(announcements.onDragEnd({\n        active,\n        over\n      }));\n    },\n\n    onDragCancel(_ref6) {\n      let {\n        active,\n        over\n      } = _ref6;\n      announce(announcements.onDragCancel({\n        active,\n        over\n      }));\n    }\n\n  }), [announce, announcements]));\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = React.createElement(React.Fragment, null, React.createElement(HiddenText, {\n    id: hiddenTextDescribedById,\n    value: screenReaderInstructions.draggable\n  }), React.createElement(LiveRegion, {\n    id: liveRegionId,\n    announcement: announcement\n  }));\n  return container ? createPortal(markup, container) : markup;\n}\n\nvar Action;\n\n(function (Action) {\n  Action[\"DragStart\"] = \"dragStart\";\n  Action[\"DragMove\"] = \"dragMove\";\n  Action[\"DragEnd\"] = \"dragEnd\";\n  Action[\"DragCancel\"] = \"dragCancel\";\n  Action[\"DragOver\"] = \"dragOver\";\n  Action[\"RegisterDroppable\"] = \"registerDroppable\";\n  Action[\"SetDroppableDisabled\"] = \"setDroppableDisabled\";\n  Action[\"UnregisterDroppable\"] = \"unregisterDroppable\";\n})(Action || (Action = {}));\n\nfunction noop() {}\n\nfunction useSensor(sensor, options) {\n  return useMemo(() => ({\n    sensor,\n    options: options != null ? options : {}\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [sensor, options]);\n}\n\nfunction useSensors() {\n  for (var _len = arguments.length, sensors = new Array(_len), _key = 0; _key < _len; _key++) {\n    sensors[_key] = arguments[_key];\n  }\n\n  return useMemo(() => [...sensors].filter(sensor => sensor != null), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [...sensors]);\n}\n\nconst defaultCoordinates = /*#__PURE__*/Object.freeze({\n  x: 0,\n  y: 0\n});\n\n/**\r\n * Returns the distance between two points\r\n */\nfunction distanceBetween(p1, p2) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n\nfunction getRelativeTransformOrigin(event, rect) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: (eventCoordinates.x - rect.left) / rect.width * 100,\n    y: (eventCoordinates.y - rect.top) / rect.height * 100\n  };\n  return transformOrigin.x + \"% \" + transformOrigin.y + \"%\";\n}\n\n/**\r\n * Sort collisions from smallest to greatest value\r\n */\nfunction sortCollisionsAsc(_ref, _ref2) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref2;\n  return a - b;\n}\n/**\r\n * Sort collisions from greatest to smallest value\r\n */\n\nfunction sortCollisionsDesc(_ref3, _ref4) {\n  let {\n    data: {\n      value: a\n    }\n  } = _ref3;\n  let {\n    data: {\n      value: b\n    }\n  } = _ref4;\n  return b - a;\n}\n/**\r\n * Returns the coordinates of the corners of a given rectangle:\r\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\r\n */\n\nfunction cornersOfRectangle(_ref5) {\n  let {\n    left,\n    top,\n    height,\n    width\n  } = _ref5;\n  return [{\n    x: left,\n    y: top\n  }, {\n    x: left + width,\n    y: top\n  }, {\n    x: left,\n    y: top + height\n  }, {\n    x: left + width,\n    y: top + height\n  }];\n}\nfunction getFirstCollision(collisions, property) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n  return property ? firstCollision[property] : firstCollision;\n}\n\n/**\r\n * Returns the coordinates of the center of a given ClientRect\r\n */\n\nfunction centerOfRectangle(rect, left, top) {\n  if (left === void 0) {\n    left = rect.left;\n  }\n\n  if (top === void 0) {\n    top = rect.top;\n  }\n\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5\n  };\n}\n/**\r\n * Returns the closest rectangles from an array of rectangles to the center of a given\r\n * rectangle.\r\n */\n\n\nconst closestCenter = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const centerRect = centerOfRectangle(collisionRect, collisionRect.left, collisionRect.top);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: distBetween\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the closest rectangles from an array of rectangles to the corners of\r\n * another rectangle.\r\n */\n\nconst closestCorners = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\n/**\r\n * Returns the intersecting rectangle area between two rectangles\r\n */\n\nfunction getIntersectionRatio(entry, target) {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio = intersectionArea / (targetArea + entryArea - intersectionArea);\n    return Number(intersectionRatio.toFixed(4));\n  } // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n\n\n  return 0;\n}\n/**\r\n * Returns the rectangles that has the greatest intersection area with a given\r\n * rectangle in an array of rectangles.\r\n */\n\nconst rectIntersection = _ref => {\n  let {\n    collisionRect,\n    droppableRects,\n    droppableContainers\n  } = _ref;\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {\n            droppableContainer,\n            value: intersectionRatio\n          }\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n\n/**\r\n * Check if a given point is contained within a bounding rectangle\r\n */\n\nfunction isPointWithinRect(point, rect) {\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = rect;\n  return top <= point.y && point.y <= bottom && left <= point.x && point.x <= right;\n}\n/**\r\n * Returns the rectangles that the pointer is hovering over\r\n */\n\n\nconst pointerWithin = _ref => {\n  let {\n    droppableContainers,\n    droppableRects,\n    pointerCoordinates\n  } = _ref;\n\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {\n      id\n    } = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\r\n       * with the pointer coordinates. In order to sort the\r\n       * colliding rectangles, we measure the distance between\r\n       * the pointer and the corners of the intersecting rectangle\r\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n      collisions.push({\n        id,\n        data: {\n          droppableContainer,\n          value: effectiveDistance\n        }\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n\nfunction adjustScale(transform, rect1, rect2) {\n  return { ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1\n  };\n}\n\nfunction getRectDelta(rect1, rect2) {\n  return rect1 && rect2 ? {\n    x: rect1.left - rect2.left,\n    y: rect1.top - rect2.top\n  } : defaultCoordinates;\n}\n\nfunction createRectAdjustmentFn(modifier) {\n  return function adjustClientRect(rect) {\n    for (var _len = arguments.length, adjustments = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      adjustments[_key - 1] = arguments[_key];\n    }\n\n    return adjustments.reduce((acc, adjustment) => ({ ...acc,\n      top: acc.top + modifier * adjustment.y,\n      bottom: acc.bottom + modifier * adjustment.y,\n      left: acc.left + modifier * adjustment.x,\n      right: acc.right + modifier * adjustment.x\n    }), { ...rect\n    });\n  };\n}\nconst getAdjustedRect = /*#__PURE__*/createRectAdjustmentFn(1);\n\nfunction parseTransform(transform) {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5]\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3]\n    };\n  }\n\n  return null;\n}\n\nfunction inverseTransform(rect, transform, transformOrigin) {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {\n    scaleX,\n    scaleY,\n    x: translateX,\n    y: translateY\n  } = parsedTransform;\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y = rect.top - translateY - (1 - scaleY) * parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x\n  };\n}\n\nconst defaultOptions = {\n  ignoreTransform: false\n};\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n */\n\nfunction getClientRect(element, options) {\n  if (options === void 0) {\n    options = defaultOptions;\n  }\n\n  let rect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {\n      transform,\n      transformOrigin\n    } = getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  } = rect;\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right\n  };\n}\n/**\r\n * Returns the bounding client rect of an element relative to the viewport.\r\n *\r\n * @remarks\r\n * The ClientRect returned by this method does not take into account transforms\r\n * applied to the element it measures.\r\n *\r\n */\n\nfunction getTransformAgnosticClientRect(element) {\n  return getClientRect(element, {\n    ignoreTransform: true\n  });\n}\n\nfunction getWindowClientRect(element) {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height\n  };\n}\n\nfunction isFixed(node, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(node).getComputedStyle(node);\n  }\n\n  return computedStyle.position === 'fixed';\n}\n\nfunction isScrollable(element, computedStyle) {\n  if (computedStyle === void 0) {\n    computedStyle = getWindow(element).getComputedStyle(element);\n  }\n\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.some(property => {\n    const value = computedStyle[property];\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n\nfunction getScrollableAncestors(element, limit) {\n  const scrollParents = [];\n\n  function findScrollableAncestors(node) {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (isDocument(node) && node.scrollingElement != null && !scrollParents.includes(node.scrollingElement)) {\n      scrollParents.push(node.scrollingElement);\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\nfunction getFirstScrollableAncestor(node) {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n  return firstScrollableAncestor != null ? firstScrollableAncestor : null;\n}\n\nfunction getScrollableElement(element) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (isDocument(element) || element === getOwnerDocument(element).scrollingElement) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n\nfunction getScrollXCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\nfunction getScrollYCoordinate(element) {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\nfunction getScrollCoordinates(element) {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element)\n  };\n}\n\nvar Direction;\n\n(function (Direction) {\n  Direction[Direction[\"Forward\"] = 1] = \"Forward\";\n  Direction[Direction[\"Backward\"] = -1] = \"Backward\";\n})(Direction || (Direction = {}));\n\nfunction isDocumentScrollingElement(element) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n\nfunction getScrollPosition(scrollingContainer) {\n  const minScroll = {\n    x: 0,\n    y: 0\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer) ? {\n    height: window.innerHeight,\n    width: window.innerWidth\n  } : {\n    height: scrollingContainer.clientHeight,\n    width: scrollingContainer.clientWidth\n  };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height\n  };\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll\n  };\n}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2\n};\nfunction getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, _ref, acceleration, thresholdPercentage) {\n  let {\n    top,\n    left,\n    right,\n    bottom\n  } = _ref;\n\n  if (acceleration === void 0) {\n    acceleration = 10;\n  }\n\n  if (thresholdPercentage === void 0) {\n    thresholdPercentage = defaultThreshold;\n  }\n\n  const {\n    isTop,\n    isBottom,\n    isLeft,\n    isRight\n  } = getScrollPosition(scrollContainer);\n  const direction = {\n    x: 0,\n    y: 0\n  };\n  const speed = {\n    x: 0,\n    y: 0\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.top + threshold.height - top) / threshold.height);\n  } else if (!isBottom && bottom >= scrollContainerRect.bottom - threshold.height) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y = acceleration * Math.abs((scrollContainerRect.bottom - threshold.height - bottom) / threshold.height);\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.right - threshold.width - right) / threshold.width);\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x = acceleration * Math.abs((scrollContainerRect.left + threshold.width - left) / threshold.width);\n  }\n\n  return {\n    direction,\n    speed\n  };\n}\n\nfunction getScrollElementRect(element) {\n  if (element === document.scrollingElement) {\n    const {\n      innerWidth,\n      innerHeight\n    } = window;\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight\n    };\n  }\n\n  const {\n    top,\n    left,\n    right,\n    bottom\n  } = element.getBoundingClientRect();\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight\n  };\n}\n\nfunction getScrollOffsets(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\nfunction getScrollXOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\nfunction getScrollYOffset(scrollableAncestors) {\n  return scrollableAncestors.reduce((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n\nfunction scrollIntoViewIfNeeded(element, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  if (!element) {\n    return;\n  }\n\n  const {\n    top,\n    left,\n    bottom,\n    right\n  } = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (bottom <= 0 || right <= 0 || top >= window.innerHeight || left >= window.innerWidth) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center'\n    });\n  }\n}\n\nconst properties = [['x', ['left', 'right'], getScrollXOffset], ['y', ['top', 'bottom'], getScrollYOffset]];\nclass Rect {\n  constructor(rect, element) {\n    this.rect = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.right = void 0;\n    this.left = void 0;\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n    this.rect = { ...rect\n    };\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {\n      enumerable: false\n    });\n  }\n\n}\n\nclass Listeners {\n  constructor(target) {\n    this.target = void 0;\n    this.listeners = [];\n\n    this.removeAll = () => {\n      this.listeners.forEach(listener => {\n        var _this$target;\n\n        return (_this$target = this.target) == null ? void 0 : _this$target.removeEventListener(...listener);\n      });\n    };\n\n    this.target = target;\n  }\n\n  add(eventName, handler, options) {\n    var _this$target2;\n\n    (_this$target2 = this.target) == null ? void 0 : _this$target2.addEventListener(eventName, handler, options);\n    this.listeners.push([eventName, handler, options]);\n  }\n\n}\n\nfunction getEventListenerTarget(target) {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n  const {\n    EventTarget\n  } = getWindow(target);\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n\nfunction hasExceededDistance(delta, measurement) {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n\nvar EventName;\n\n(function (EventName) {\n  EventName[\"Click\"] = \"click\";\n  EventName[\"DragStart\"] = \"dragstart\";\n  EventName[\"Keydown\"] = \"keydown\";\n  EventName[\"ContextMenu\"] = \"contextmenu\";\n  EventName[\"Resize\"] = \"resize\";\n  EventName[\"SelectionChange\"] = \"selectionchange\";\n  EventName[\"VisibilityChange\"] = \"visibilitychange\";\n})(EventName || (EventName = {}));\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\nfunction stopPropagation(event) {\n  event.stopPropagation();\n}\n\nvar KeyboardCode;\n\n(function (KeyboardCode) {\n  KeyboardCode[\"Space\"] = \"Space\";\n  KeyboardCode[\"Down\"] = \"ArrowDown\";\n  KeyboardCode[\"Right\"] = \"ArrowRight\";\n  KeyboardCode[\"Left\"] = \"ArrowLeft\";\n  KeyboardCode[\"Up\"] = \"ArrowUp\";\n  KeyboardCode[\"Esc\"] = \"Escape\";\n  KeyboardCode[\"Enter\"] = \"Enter\";\n  KeyboardCode[\"Tab\"] = \"Tab\";\n})(KeyboardCode || (KeyboardCode = {}));\n\nconst defaultKeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab]\n};\nconst defaultKeyboardCoordinateGetter = (event, _ref) => {\n  let {\n    currentCoordinates\n  } = _ref;\n\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x + 25\n      };\n\n    case KeyboardCode.Left:\n      return { ...currentCoordinates,\n        x: currentCoordinates.x - 25\n      };\n\n    case KeyboardCode.Down:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y + 25\n      };\n\n    case KeyboardCode.Up:\n      return { ...currentCoordinates,\n        y: currentCoordinates.y - 25\n      };\n  }\n\n  return undefined;\n};\n\nclass KeyboardSensor {\n  constructor(props) {\n    this.props = void 0;\n    this.autoScrollEnabled = false;\n    this.referenceCoordinates = void 0;\n    this.listeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    const {\n      event: {\n        target\n      }\n    } = props;\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    this.handleStart();\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  handleStart() {\n    const {\n      activeNode,\n      onStart\n    } = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  handleKeyDown(event) {\n    if (isKeyboardEvent(event)) {\n      const {\n        active,\n        context,\n        options\n      } = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth'\n      } = options;\n      const {\n        code\n      } = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {\n        collisionRect\n      } = context.current;\n      const currentCoordinates = collisionRect ? {\n        x: collisionRect.left,\n        y: collisionRect.top\n      } : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = subtract(newCoordinates, currentCoordinates);\n        const scrollDelta = {\n          x: 0,\n          y: 0\n        };\n        const {\n          scrollableAncestors\n        } = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {\n            isTop,\n            isRight,\n            isLeft,\n            isBottom,\n            maxScroll,\n            minScroll\n          } = getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n          const clampedCoordinates = {\n            x: Math.min(direction === KeyboardCode.Right ? scrollElementRect.right - scrollElementRect.width / 2 : scrollElementRect.right, Math.max(direction === KeyboardCode.Right ? scrollElementRect.left : scrollElementRect.left + scrollElementRect.width / 2, newCoordinates.x)),\n            y: Math.min(direction === KeyboardCode.Down ? scrollElementRect.bottom - scrollElementRect.height / 2 : scrollElementRect.bottom, Math.max(direction === KeyboardCode.Down ? scrollElementRect.top : scrollElementRect.top + scrollElementRect.height / 2, newCoordinates.y))\n          };\n          const canScrollX = direction === KeyboardCode.Right && !isRight || direction === KeyboardCode.Left && !isLeft;\n          const canScrollY = direction === KeyboardCode.Down && !isBottom || direction === KeyboardCode.Up && !isTop;\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates = scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Right && newScrollCoordinates <= maxScroll.x || direction === KeyboardCode.Left && newScrollCoordinates >= minScroll.x;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x = direction === KeyboardCode.Right ? scrollContainer.scrollLeft - maxScroll.x : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates = scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates = direction === KeyboardCode.Down && newScrollCoordinates <= maxScroll.y || direction === KeyboardCode.Up && newScrollCoordinates >= minScroll.y;\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y = direction === KeyboardCode.Down ? scrollContainer.scrollTop - maxScroll.y : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(event, add(subtract(newCoordinates, this.referenceCoordinates), scrollDelta));\n      }\n    }\n  }\n\n  handleMove(event, coordinates) {\n    const {\n      onMove\n    } = this.props;\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  handleEnd(event) {\n    const {\n      onEnd\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  handleCancel(event) {\n    const {\n      onCancel\n    } = this.props;\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n}\nKeyboardSensor.activators = [{\n  eventName: 'onKeyDown',\n  handler: (event, _ref, _ref2) => {\n    let {\n      keyboardCodes = defaultKeyboardCodes,\n      onActivation\n    } = _ref;\n    let {\n      active\n    } = _ref2;\n    const {\n      code\n    } = event.nativeEvent;\n\n    if (keyboardCodes.start.includes(code)) {\n      const activator = active.activatorNode.current;\n\n      if (activator && event.target !== activator) {\n        return false;\n      }\n\n      event.preventDefault();\n      onActivation == null ? void 0 : onActivation({\n        event: event.nativeEvent\n      });\n      return true;\n    }\n\n    return false;\n  }\n}];\n\nfunction isDistanceConstraint(constraint) {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(constraint) {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nclass AbstractPointerSensor {\n  constructor(props, events, listenerTarget) {\n    var _getEventCoordinates;\n\n    if (listenerTarget === void 0) {\n      listenerTarget = getEventListenerTarget(props.event.target);\n    }\n\n    this.props = void 0;\n    this.events = void 0;\n    this.autoScrollEnabled = true;\n    this.document = void 0;\n    this.activated = false;\n    this.initialCoordinates = void 0;\n    this.timeoutId = null;\n    this.listeners = void 0;\n    this.documentListeners = void 0;\n    this.windowListeners = void 0;\n    this.props = props;\n    this.events = events;\n    const {\n      event\n    } = props;\n    const {\n      target\n    } = event;\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = (_getEventCoordinates = getEventCoordinates(event)) != null ? _getEventCoordinates : defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n    this.attach();\n  }\n\n  attach() {\n    const {\n      events,\n      props: {\n        options: {\n          activationConstraint,\n          bypassActivationConstraint\n        }\n      }\n    } = this;\n    this.listeners.add(events.move.name, this.handleMove, {\n      passive: false\n    });\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (bypassActivationConstraint != null && bypassActivationConstraint({\n        event: this.props.event,\n        activeNode: this.props.activeNode,\n        options: this.props.options\n      })) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(this.handleStart, activationConstraint.delay);\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll(); // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  handlePending(constraint, offset) {\n    const {\n      active,\n      onPending\n    } = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  handleStart() {\n    const {\n      initialCoordinates\n    } = this;\n    const {\n      onStart\n    } = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true; // Stop propagation of click events once activation constraints are met\n\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true\n      }); // Remove any text selection from the document\n\n      this.removeTextSelection(); // Prevent further text selection while dragging\n\n      this.documentListeners.add(EventName.SelectionChange, this.removeTextSelection);\n      onStart(initialCoordinates);\n    }\n  }\n\n  handleMove(event) {\n    var _getEventCoordinates2;\n\n    const {\n      activated,\n      initialCoordinates,\n      props\n    } = this;\n    const {\n      onMove,\n      options: {\n        activationConstraint\n      }\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = (_getEventCoordinates2 = getEventCoordinates(event)) != null ? _getEventCoordinates2 : defaultCoordinates;\n    const delta = subtract(initialCoordinates, coordinates); // Constraint validation\n\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (activationConstraint.tolerance != null && hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  handleEnd() {\n    const {\n      onAbort,\n      onEnd\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onEnd();\n  }\n\n  handleCancel() {\n    const {\n      onAbort,\n      onCancel\n    } = this.props;\n    this.detach();\n\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n\n    onCancel();\n  }\n\n  handleKeydown(event) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  removeTextSelection() {\n    var _this$document$getSel;\n\n    (_this$document$getSel = this.document.getSelection()) == null ? void 0 : _this$document$getSel.removeAllRanges();\n  }\n\n}\n\nconst events = {\n  cancel: {\n    name: 'pointercancel'\n  },\n  move: {\n    name: 'pointermove'\n  },\n  end: {\n    name: 'pointerup'\n  }\n};\nclass PointerSensor extends AbstractPointerSensor {\n  constructor(props) {\n    const {\n      event\n    } = props; // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n\n    const listenerTarget = getOwnerDocument(event.target);\n    super(props, events, listenerTarget);\n  }\n\n}\nPointerSensor.activators = [{\n  eventName: 'onPointerDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (!event.isPrimary || event.button !== 0) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$1 = {\n  move: {\n    name: 'mousemove'\n  },\n  end: {\n    name: 'mouseup'\n  }\n};\nvar MouseButton;\n\n(function (MouseButton) {\n  MouseButton[MouseButton[\"RightClick\"] = 2] = \"RightClick\";\n})(MouseButton || (MouseButton = {}));\n\nclass MouseSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$1, getOwnerDocument(props.event.target));\n  }\n\n}\nMouseSensor.activators = [{\n  eventName: 'onMouseDown',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n\n    if (event.button === MouseButton.RightClick) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nconst events$2 = {\n  cancel: {\n    name: 'touchcancel'\n  },\n  move: {\n    name: 'touchmove'\n  },\n  end: {\n    name: 'touchend'\n  }\n};\nclass TouchSensor extends AbstractPointerSensor {\n  constructor(props) {\n    super(props, events$2);\n  }\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events$2.move.name, noop, {\n      capture: false,\n      passive: false\n    });\n    return function teardown() {\n      window.removeEventListener(events$2.move.name, noop);\n    }; // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n\n    function noop() {}\n  }\n\n}\nTouchSensor.activators = [{\n  eventName: 'onTouchStart',\n  handler: (_ref, _ref2) => {\n    let {\n      nativeEvent: event\n    } = _ref;\n    let {\n      onActivation\n    } = _ref2;\n    const {\n      touches\n    } = event;\n\n    if (touches.length > 1) {\n      return false;\n    }\n\n    onActivation == null ? void 0 : onActivation({\n      event\n    });\n    return true;\n  }\n}];\n\nvar AutoScrollActivator;\n\n(function (AutoScrollActivator) {\n  AutoScrollActivator[AutoScrollActivator[\"Pointer\"] = 0] = \"Pointer\";\n  AutoScrollActivator[AutoScrollActivator[\"DraggableRect\"] = 1] = \"DraggableRect\";\n})(AutoScrollActivator || (AutoScrollActivator = {}));\n\nvar TraversalOrder;\n\n(function (TraversalOrder) {\n  TraversalOrder[TraversalOrder[\"TreeOrder\"] = 0] = \"TreeOrder\";\n  TraversalOrder[TraversalOrder[\"ReversedTreeOrder\"] = 1] = \"ReversedTreeOrder\";\n})(TraversalOrder || (TraversalOrder = {}));\n\nfunction useAutoScroller(_ref) {\n  let {\n    acceleration,\n    activator = AutoScrollActivator.Pointer,\n    canScroll,\n    draggingRect,\n    enabled,\n    interval = 5,\n    order = TraversalOrder.TreeOrder,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    delta,\n    threshold\n  } = _ref;\n  const scrollIntent = useScrollIntent({\n    delta,\n    disabled: !enabled\n  });\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef({\n    x: 0,\n    y: 0\n  });\n  const scrollDirection = useRef({\n    x: 0,\n    y: 0\n  });\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates ? {\n          top: pointerCoordinates.y,\n          bottom: pointerCoordinates.y,\n          left: pointerCoordinates.x,\n          right: pointerCoordinates.x\n        } : null;\n\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(() => order === TraversalOrder.TreeOrder ? [...scrollableAncestors].reverse() : scrollableAncestors, [order, scrollableAncestors]);\n  useEffect(() => {\n    if (!enabled || !scrollableAncestors.length || !rect) {\n      clearAutoScrollInterval();\n      return;\n    }\n\n    for (const scrollContainer of sortedScrollableAncestors) {\n      if ((canScroll == null ? void 0 : canScroll(scrollContainer)) === false) {\n        continue;\n      }\n\n      const index = scrollableAncestors.indexOf(scrollContainer);\n      const scrollContainerRect = scrollableAncestorRects[index];\n\n      if (!scrollContainerRect) {\n        continue;\n      }\n\n      const {\n        direction,\n        speed\n      } = getScrollDirectionAndSpeed(scrollContainer, scrollContainerRect, rect, acceleration, threshold);\n\n      for (const axis of ['x', 'y']) {\n        if (!scrollIntent[axis][direction[axis]]) {\n          speed[axis] = 0;\n          direction[axis] = 0;\n        }\n      }\n\n      if (speed.x > 0 || speed.y > 0) {\n        clearAutoScrollInterval();\n        scrollContainerRef.current = scrollContainer;\n        setAutoScrollInterval(autoScroll, interval);\n        scrollSpeed.current = speed;\n        scrollDirection.current = direction;\n        return;\n      }\n    }\n\n    scrollSpeed.current = {\n      x: 0,\n      y: 0\n    };\n    scrollDirection.current = {\n      x: 0,\n      y: 0\n    };\n    clearAutoScrollInterval();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [acceleration, autoScroll, canScroll, clearAutoScrollInterval, enabled, interval, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(rect), // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(scrollIntent), setAutoScrollInterval, scrollableAncestors, sortedScrollableAncestors, scrollableAncestorRects, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(threshold)]);\n}\nconst defaultScrollIntent = {\n  x: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  },\n  y: {\n    [Direction.Backward]: false,\n    [Direction.Forward]: false\n  }\n};\n\nfunction useScrollIntent(_ref2) {\n  let {\n    delta,\n    disabled\n  } = _ref2;\n  const previousDelta = usePrevious(delta);\n  return useLazyMemo(previousIntent => {\n    if (disabled || !previousDelta || !previousIntent) {\n      // Reset scroll intent tracking when auto-scrolling is disabled\n      return defaultScrollIntent;\n    }\n\n    const direction = {\n      x: Math.sign(delta.x - previousDelta.x),\n      y: Math.sign(delta.y - previousDelta.y)\n    }; // Keep track of the user intent to scroll in each direction for both axis\n\n    return {\n      x: {\n        [Direction.Backward]: previousIntent.x[Direction.Backward] || direction.x === -1,\n        [Direction.Forward]: previousIntent.x[Direction.Forward] || direction.x === 1\n      },\n      y: {\n        [Direction.Backward]: previousIntent.y[Direction.Backward] || direction.y === -1,\n        [Direction.Forward]: previousIntent.y[Direction.Forward] || direction.y === 1\n      }\n    };\n  }, [disabled, delta, previousDelta]);\n}\n\nfunction useCachedNode(draggableNodes, id) {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n  return useLazyMemo(cachedNode => {\n    var _ref;\n\n    if (id == null) {\n      return null;\n    } // In some cases, the draggable node can unmount while dragging\n    // This is the case for virtualized lists. In those situations,\n    // we fall back to the last known value for that node.\n\n\n    return (_ref = node != null ? node : cachedNode) != null ? _ref : null;\n  }, [node, id]);\n}\n\nfunction useCombineActivators(sensors, getSyntheticHandler) {\n  return useMemo(() => sensors.reduce((accumulator, sensor) => {\n    const {\n      sensor: Sensor\n    } = sensor;\n    const sensorActivators = Sensor.activators.map(activator => ({\n      eventName: activator.eventName,\n      handler: getSyntheticHandler(activator.handler, sensor)\n    }));\n    return [...accumulator, ...sensorActivators];\n  }, []), [sensors, getSyntheticHandler]);\n}\n\nvar MeasuringStrategy;\n\n(function (MeasuringStrategy) {\n  MeasuringStrategy[MeasuringStrategy[\"Always\"] = 0] = \"Always\";\n  MeasuringStrategy[MeasuringStrategy[\"BeforeDragging\"] = 1] = \"BeforeDragging\";\n  MeasuringStrategy[MeasuringStrategy[\"WhileDragging\"] = 2] = \"WhileDragging\";\n})(MeasuringStrategy || (MeasuringStrategy = {}));\n\nvar MeasuringFrequency;\n\n(function (MeasuringFrequency) {\n  MeasuringFrequency[\"Optimized\"] = \"optimized\";\n})(MeasuringFrequency || (MeasuringFrequency = {}));\n\nconst defaultValue = /*#__PURE__*/new Map();\nfunction useDroppableMeasuring(containers, _ref) {\n  let {\n    dragging,\n    dependencies,\n    config\n  } = _ref;\n  const [queue, setQueue] = useState(null);\n  const {\n    frequency,\n    measure,\n    strategy\n  } = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(function (ids) {\n    if (ids === void 0) {\n      ids = [];\n    }\n\n    if (disabledRef.current) {\n      return;\n    }\n\n    setQueue(value => {\n      if (value === null) {\n        return ids;\n      }\n\n      return value.concat(ids.filter(id => !value.includes(id)));\n    });\n  }, [disabledRef]);\n  const timeoutId = useRef(null);\n  const droppableRects = useLazyMemo(previousValue => {\n    if (disabled && !dragging) {\n      return defaultValue;\n    }\n\n    if (!previousValue || previousValue === defaultValue || containersRef.current !== containers || queue != null) {\n      const map = new Map();\n\n      for (let container of containers) {\n        if (!container) {\n          continue;\n        }\n\n        if (queue && queue.length > 0 && !queue.includes(container.id) && container.rect.current) {\n          // This container does not need to be re-measured\n          map.set(container.id, container.rect.current);\n          continue;\n        }\n\n        const node = container.node.current;\n        const rect = node ? new Rect(measure(node), node) : null;\n        container.rect.current = rect;\n\n        if (rect) {\n          map.set(container.id, rect);\n        }\n      }\n\n      return map;\n    }\n\n    return previousValue;\n  }, [containers, queue, dragging, disabled, measure]);\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    measureDroppableContainers();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dragging, disabled]);\n  useEffect(() => {\n    if (queue && queue.length > 0) {\n      setQueue(null);\n    }\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [JSON.stringify(queue)]);\n  useEffect(() => {\n    if (disabled || typeof frequency !== 'number' || timeoutId.current !== null) {\n      return;\n    }\n\n    timeoutId.current = setTimeout(() => {\n      measureDroppableContainers();\n      timeoutId.current = null;\n    }, frequency);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [frequency, disabled, measureDroppableContainers, ...dependencies]);\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n\n      default:\n        return !dragging;\n    }\n  }\n}\n\nfunction useInitialValue(value, computeFn) {\n  return useLazyMemo(previousValue => {\n    if (!value) {\n      return null;\n    }\n\n    if (previousValue) {\n      return previousValue;\n    }\n\n    return typeof computeFn === 'function' ? computeFn(value) : value;\n  }, [computeFn, value]);\n}\n\nfunction useInitialRect(node, measure) {\n  return useInitialValue(node, measure);\n}\n\n/**\r\n * Returns a new MutationObserver instance.\r\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useMutationObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.MutationObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      MutationObserver\n    } = window;\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n  useEffect(() => {\n    return () => mutationObserver == null ? void 0 : mutationObserver.disconnect();\n  }, [mutationObserver]);\n  return mutationObserver;\n}\n\n/**\r\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\r\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\r\n */\n\nfunction useResizeObserver(_ref) {\n  let {\n    callback,\n    disabled\n  } = _ref;\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(() => {\n    if (disabled || typeof window === 'undefined' || typeof window.ResizeObserver === 'undefined') {\n      return undefined;\n    }\n\n    const {\n      ResizeObserver\n    } = window;\n    return new ResizeObserver(handleResize);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled]);\n  useEffect(() => {\n    return () => resizeObserver == null ? void 0 : resizeObserver.disconnect();\n  }, [resizeObserver]);\n  return resizeObserver;\n}\n\nfunction defaultMeasure(element) {\n  return new Rect(getClientRect(element), element);\n}\n\nfunction useRect(element, measure, fallbackRect) {\n  if (measure === void 0) {\n    measure = defaultMeasure;\n  }\n\n  const [rect, setRect] = useState(null);\n\n  function measureRect() {\n    setRect(currentRect => {\n      if (!element) {\n        return null;\n      }\n\n      if (element.isConnected === false) {\n        var _ref;\n\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return (_ref = currentRect != null ? currentRect : fallbackRect) != null ? _ref : null;\n      }\n\n      const newRect = measure(element);\n\n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n\n      return newRect;\n    });\n  }\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {\n          type,\n          target\n        } = record;\n\n        if (type === 'childList' && target instanceof HTMLElement && target.contains(element)) {\n          measureRect();\n          break;\n        }\n      }\n    }\n\n  });\n  const resizeObserver = useResizeObserver({\n    callback: measureRect\n  });\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(element);\n      mutationObserver == null ? void 0 : mutationObserver.observe(document.body, {\n        childList: true,\n        subtree: true\n      });\n    } else {\n      resizeObserver == null ? void 0 : resizeObserver.disconnect();\n      mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    }\n  }, [element]);\n  return rect;\n}\n\nfunction useRectDelta(rect) {\n  const initialRect = useInitialValue(rect);\n  return getRectDelta(rect, initialRect);\n}\n\nconst defaultValue$1 = [];\nfunction useScrollableAncestors(node) {\n  const previousNode = useRef(node);\n  const ancestors = useLazyMemo(previousValue => {\n    if (!node) {\n      return defaultValue$1;\n    }\n\n    if (previousValue && previousValue !== defaultValue$1 && node && previousNode.current && node.parentNode === previousNode.current.parentNode) {\n      return previousValue;\n    }\n\n    return getScrollableAncestors(node);\n  }, [node]);\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n  return ancestors;\n}\n\nfunction useScrollOffsets(elements) {\n  const [scrollCoordinates, setScrollCoordinates] = useState(null);\n  const prevElements = useRef(elements); // To-do: Throttle the handleScroll callback\n\n  const handleScroll = useCallback(event => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates(scrollCoordinates => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(scrollingElement, getScrollCoordinates(scrollingElement));\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n      const entries = elements.map(element => {\n        const scrollableElement = getScrollableElement(element);\n\n        if (scrollableElement) {\n          scrollableElement.addEventListener('scroll', handleScroll, {\n            passive: true\n          });\n          return [scrollableElement, getScrollCoordinates(scrollableElement)];\n        }\n\n        return null;\n      }).filter(entry => entry != null);\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements) {\n      elements.forEach(element => {\n        const scrollableElement = getScrollableElement(element);\n        scrollableElement == null ? void 0 : scrollableElement.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates ? Array.from(scrollCoordinates.values()).reduce((acc, coordinates) => add(acc, coordinates), defaultCoordinates) : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n\nfunction useScrollOffsetsDelta(scrollOffsets, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  const initialScrollOffsets = useRef(null);\n  useEffect(() => {\n    initialScrollOffsets.current = null;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  dependencies);\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n  return initialScrollOffsets.current ? subtract(scrollOffsets, initialScrollOffsets.current) : defaultCoordinates;\n}\n\nfunction useSensorSetup(sensors) {\n  useEffect(() => {\n    if (!canUseDOM) {\n      return;\n    }\n\n    const teardownFns = sensors.map(_ref => {\n      let {\n        sensor\n      } = _ref;\n      return sensor.setup == null ? void 0 : sensor.setup();\n    });\n    return () => {\n      for (const teardown of teardownFns) {\n        teardown == null ? void 0 : teardown();\n      }\n    };\n  }, // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  sensors.map(_ref2 => {\n    let {\n      sensor\n    } = _ref2;\n    return sensor;\n  }));\n}\n\nfunction useSyntheticListeners(listeners, id) {\n  return useMemo(() => {\n    return listeners.reduce((acc, _ref) => {\n      let {\n        eventName,\n        handler\n      } = _ref;\n\n      acc[eventName] = event => {\n        handler(event, id);\n      };\n\n      return acc;\n    }, {});\n  }, [listeners, id]);\n}\n\nfunction useWindowRect(element) {\n  return useMemo(() => element ? getWindowClientRect(element) : null, [element]);\n}\n\nconst defaultValue$2 = [];\nfunction useRects(elements, measure) {\n  if (measure === void 0) {\n    measure = getClientRect;\n  }\n\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(firstElement ? getWindow(firstElement) : null);\n  const [rects, setRects] = useState(defaultValue$2);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue$2;\n      }\n\n      return elements.map(element => isDocumentScrollingElement(element) ? windowRect : new Rect(measure(element), element));\n    });\n  }\n\n  const resizeObserver = useResizeObserver({\n    callback: measureRects\n  });\n  useIsomorphicLayoutEffect(() => {\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n    measureRects();\n    elements.forEach(element => resizeObserver == null ? void 0 : resizeObserver.observe(element));\n  }, [elements]);\n  return rects;\n}\n\nfunction getMeasurableNode(node) {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n\n  const firstChild = node.children[0];\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n\nfunction useDragOverlayMeasuring(_ref) {\n  let {\n    measure\n  } = _ref;\n  const [rect, setRect] = useState(null);\n  const handleResize = useCallback(entries => {\n    for (const {\n      target\n    } of entries) {\n      if (isHTMLElement(target)) {\n        setRect(rect => {\n          const newRect = measure(target);\n          return rect ? { ...rect,\n            width: newRect.width,\n            height: newRect.height\n          } : newRect;\n        });\n        break;\n      }\n    }\n  }, [measure]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize\n  });\n  const handleNodeChange = useCallback(element => {\n    const node = getMeasurableNode(element);\n    resizeObserver == null ? void 0 : resizeObserver.disconnect();\n\n    if (node) {\n      resizeObserver == null ? void 0 : resizeObserver.observe(node);\n    }\n\n    setRect(node ? measure(node) : null);\n  }, [measure, resizeObserver]);\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n  return useMemo(() => ({\n    nodeRef,\n    rect,\n    setRef\n  }), [rect, nodeRef, setRef]);\n}\n\nconst defaultSensors = [{\n  sensor: PointerSensor,\n  options: {}\n}, {\n  sensor: KeyboardSensor,\n  options: {}\n}];\nconst defaultData = {\n  current: {}\n};\nconst defaultMeasuringConfiguration = {\n  draggable: {\n    measure: getTransformAgnosticClientRect\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized\n  },\n  dragOverlay: {\n    measure: getClientRect\n  }\n};\n\nclass DroppableContainersMap extends Map {\n  get(id) {\n    var _super$get;\n\n    return id != null ? (_super$get = super.get(id)) != null ? _super$get : undefined : undefined;\n  }\n\n  toArray() {\n    return Array.from(this.values());\n  }\n\n  getEnabled() {\n    return this.toArray().filter(_ref => {\n      let {\n        disabled\n      } = _ref;\n      return !disabled;\n    });\n  }\n\n  getNodeFor(id) {\n    var _this$get$node$curren, _this$get;\n\n    return (_this$get$node$curren = (_this$get = this.get(id)) == null ? void 0 : _this$get.node.current) != null ? _this$get$node$curren : undefined;\n  }\n\n}\n\nconst defaultPublicContext = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: /*#__PURE__*/new Map(),\n  droppableRects: /*#__PURE__*/new Map(),\n  droppableContainers: /*#__PURE__*/new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null\n    },\n    rect: null,\n    setRef: noop\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false\n};\nconst defaultInternalContext = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: ''\n  },\n  dispatch: noop,\n  draggableNodes: /*#__PURE__*/new Map(),\n  over: null,\n  measureDroppableContainers: noop\n};\nconst InternalContext = /*#__PURE__*/createContext(defaultInternalContext);\nconst PublicContext = /*#__PURE__*/createContext(defaultPublicContext);\n\nfunction getInitialState() {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {\n        x: 0,\n        y: 0\n      },\n      nodes: new Map(),\n      translate: {\n        x: 0,\n        y: 0\n      }\n    },\n    droppable: {\n      containers: new DroppableContainersMap()\n    }\n  };\n}\nfunction reducer(state, action) {\n  switch (action.type) {\n    case Action.DragStart:\n      return { ...state,\n        draggable: { ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active\n        }\n      };\n\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return { ...state,\n        draggable: { ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y\n          }\n        }\n      };\n\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return { ...state,\n        draggable: { ...state.draggable,\n          active: null,\n          initialCoordinates: {\n            x: 0,\n            y: 0\n          },\n          translate: {\n            x: 0,\n            y: 0\n          }\n        }\n      };\n\n    case Action.RegisterDroppable:\n      {\n        const {\n          element\n        } = action;\n        const {\n          id\n        } = element;\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, element);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.SetDroppableDisabled:\n      {\n        const {\n          id,\n          key,\n          disabled\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.set(id, { ...element,\n          disabled\n        });\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    case Action.UnregisterDroppable:\n      {\n        const {\n          id,\n          key\n        } = action;\n        const element = state.droppable.containers.get(id);\n\n        if (!element || key !== element.key) {\n          return state;\n        }\n\n        const containers = new DroppableContainersMap(state.droppable.containers);\n        containers.delete(id);\n        return { ...state,\n          droppable: { ...state.droppable,\n            containers\n          }\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\nfunction RestoreFocus(_ref) {\n  let {\n    disabled\n  } = _ref;\n  const {\n    active,\n    activatorEvent,\n    draggableNodes\n  } = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active == null ? void 0 : active.id); // Restore keyboard focus on the activator node\n\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {\n        activatorNode,\n        node\n      } = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [activatorEvent, disabled, draggableNodes, previousActiveId, previousActivatorEvent]);\n  return null;\n}\n\nfunction applyModifiers(modifiers, _ref) {\n  let {\n    transform,\n    ...args\n  } = _ref;\n  return modifiers != null && modifiers.length ? modifiers.reduce((accumulator, modifier) => {\n    return modifier({\n      transform: accumulator,\n      ...args\n    });\n  }, transform) : transform;\n}\n\nfunction useMeasuringConfiguration(config) {\n  return useMemo(() => ({\n    draggable: { ...defaultMeasuringConfiguration.draggable,\n      ...(config == null ? void 0 : config.draggable)\n    },\n    droppable: { ...defaultMeasuringConfiguration.droppable,\n      ...(config == null ? void 0 : config.droppable)\n    },\n    dragOverlay: { ...defaultMeasuringConfiguration.dragOverlay,\n      ...(config == null ? void 0 : config.dragOverlay)\n    }\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [config == null ? void 0 : config.draggable, config == null ? void 0 : config.droppable, config == null ? void 0 : config.dragOverlay]);\n}\n\nfunction useLayoutShiftScrollCompensation(_ref) {\n  let {\n    activeNode,\n    measure,\n    initialRect,\n    config = true\n  } = _ref;\n  const initialized = useRef(false);\n  const {\n    x,\n    y\n  } = typeof config === 'boolean' ? {\n    x: config,\n    y: config\n  } : config;\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    } // Get the most up to date node ref for the active draggable\n\n\n    const node = activeNode == null ? void 0 : activeNode.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    } // Only perform layout shift scroll compensation once\n\n\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n\nconst ActiveDraggableContext = /*#__PURE__*/createContext({ ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1\n});\nvar Status;\n\n(function (Status) {\n  Status[Status[\"Uninitialized\"] = 0] = \"Uninitialized\";\n  Status[Status[\"Initializing\"] = 1] = \"Initializing\";\n  Status[Status[\"Initialized\"] = 2] = \"Initialized\";\n})(Status || (Status = {}));\n\nconst DndContext = /*#__PURE__*/memo(function DndContext(_ref) {\n  var _sensorContext$curren, _dragOverlay$nodeRef$, _dragOverlay$rect, _over$rect;\n\n  let {\n    id,\n    accessibility,\n    autoScroll = true,\n    children,\n    sensors = defaultSensors,\n    collisionDetection = rectIntersection,\n    measuring,\n    modifiers,\n    ...props\n  } = _ref;\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] = useDndMonitorProvider();\n  const [status, setStatus] = useState(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {\n      active: activeId,\n      nodes: draggableNodes,\n      translate\n    },\n    droppable: {\n      containers: droppableContainers\n    }\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef({\n    initial: null,\n    translated: null\n  });\n  const active = useMemo(() => {\n    var _node$data;\n\n    return activeId != null ? {\n      id: activeId,\n      // It's possible for the active node to unmount while dragging\n      data: (_node$data = node == null ? void 0 : node.data) != null ? _node$data : defaultData,\n      rect: activeRects\n    } : null;\n  }, [activeId, node]);\n  const activeRef = useRef(null);\n  const [activeSensor, setActiveSensor] = useState(null);\n  const [activatorEvent, setActivatorEvent] = useState(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(\"DndDescribedBy\", id);\n  const enabledDroppableContainers = useMemo(() => droppableContainers.getEnabled(), [droppableContainers]);\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled\n  } = useDroppableMeasuring(enabledDroppableContainers, {\n    dragging: isInitialized,\n    dependencies: [translate.x, translate.y],\n    config: measuringConfiguration.droppable\n  });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(() => activatorEvent ? getEventCoordinates(activatorEvent) : null, [activatorEvent]);\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(activeNode, measuringConfiguration.draggable.measure);\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure\n  });\n  const activeNodeRect = useRect(activeNode, measuringConfiguration.draggable.measure, initialActiveNodeRect);\n  const containerNodeRect = useRect(activeNode ? activeNode.parentElement : null);\n  const sensorContext = useRef({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null\n  });\n  const overNode = droppableContainers.getNodeFor((_sensorContext$curren = sensorContext.current.over) == null ? void 0 : _sensorContext$curren.id);\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure\n  }); // Use the rect of the drag overlay if it is mounted\n\n  const draggingNode = (_dragOverlay$nodeRef$ = dragOverlay.nodeRef.current) != null ? _dragOverlay$nodeRef$ : activeNode;\n  const draggingNodeRect = isInitialized ? (_dragOverlay$rect = dragOverlay.rect) != null ? _dragOverlay$rect : activeNodeRect : null;\n  const usesDragOverlay = Boolean(dragOverlay.nodeRef.current && dragOverlay.rect); // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect); // Get the window rect of the dragging node\n\n  const windowRect = useWindowRect(draggingNode ? getWindow(draggingNode) : null); // Get scrollable ancestors of the dragging node\n\n  const scrollableAncestors = useScrollableAncestors(isInitialized ? overNode != null ? overNode : activeNode : null);\n  const scrollableAncestorRects = useRects(scrollableAncestors); // Apply modifiers\n\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  });\n  const pointerCoordinates = activationCoordinates ? add(activationCoordinates, translate) : null;\n  const scrollOffsets = useScrollOffsets(scrollableAncestors); // Represents the scroll delta since dragging was initiated\n\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets); // Represents the scroll delta since the last time the active node rect was measured\n\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [activeNodeRect]);\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n  const collisionRect = draggingNodeRect ? getAdjustedRect(draggingNodeRect, modifiedTranslate) : null;\n  const collisions = active && collisionRect ? collisionDetection({\n    active,\n    collisionRect,\n    droppableRects,\n    droppableContainers: enabledDroppableContainers,\n    pointerCoordinates\n  }) : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState(null); // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n\n  const appliedTranslate = usesDragOverlay ? modifiedTranslate : add(modifiedTranslate, activeNodeScrollDelta);\n  const transform = adjustScale(appliedTranslate, (_over$rect = over == null ? void 0 : over.rect) != null ? _over$rect : null, activeNodeRect);\n  const activeSensorRef = useRef(null);\n  const instantiateSensor = useCallback((event, _ref2) => {\n    let {\n      sensor: Sensor,\n      options\n    } = _ref2;\n\n    if (activeRef.current == null) {\n      return;\n    }\n\n    const activeNode = draggableNodes.get(activeRef.current);\n\n    if (!activeNode) {\n      return;\n    }\n\n    const activatorEvent = event.nativeEvent;\n    const sensorInstance = new Sensor({\n      active: activeRef.current,\n      activeNode,\n      event: activatorEvent,\n      options,\n      // Sensors need to be instantiated with refs for arguments that change over time\n      // otherwise they are frozen in time with the stale arguments\n      context: sensorContext,\n\n      onAbort(id) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragAbort\n        } = latestProps.current;\n        const event = {\n          id\n        };\n        onDragAbort == null ? void 0 : onDragAbort(event);\n        dispatchMonitorEvent({\n          type: 'onDragAbort',\n          event\n        });\n      },\n\n      onPending(id, constraint, initialCoordinates, offset) {\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragPending\n        } = latestProps.current;\n        const event = {\n          id,\n          constraint,\n          initialCoordinates,\n          offset\n        };\n        onDragPending == null ? void 0 : onDragPending(event);\n        dispatchMonitorEvent({\n          type: 'onDragPending',\n          event\n        });\n      },\n\n      onStart(initialCoordinates) {\n        const id = activeRef.current;\n\n        if (id == null) {\n          return;\n        }\n\n        const draggableNode = draggableNodes.get(id);\n\n        if (!draggableNode) {\n          return;\n        }\n\n        const {\n          onDragStart\n        } = latestProps.current;\n        const event = {\n          activatorEvent,\n          active: {\n            id,\n            data: draggableNode.data,\n            rect: activeRects\n          }\n        };\n        unstable_batchedUpdates(() => {\n          onDragStart == null ? void 0 : onDragStart(event);\n          setStatus(Status.Initializing);\n          dispatch({\n            type: Action.DragStart,\n            initialCoordinates,\n            active: id\n          });\n          dispatchMonitorEvent({\n            type: 'onDragStart',\n            event\n          });\n          setActiveSensor(activeSensorRef.current);\n          setActivatorEvent(activatorEvent);\n        });\n      },\n\n      onMove(coordinates) {\n        dispatch({\n          type: Action.DragMove,\n          coordinates\n        });\n      },\n\n      onEnd: createHandler(Action.DragEnd),\n      onCancel: createHandler(Action.DragCancel)\n    });\n    activeSensorRef.current = sensorInstance;\n\n    function createHandler(type) {\n      return async function handler() {\n        const {\n          active,\n          collisions,\n          over,\n          scrollAdjustedTranslate\n        } = sensorContext.current;\n        let event = null;\n\n        if (active && scrollAdjustedTranslate) {\n          const {\n            cancelDrop\n          } = latestProps.current;\n          event = {\n            activatorEvent,\n            active: active,\n            collisions,\n            delta: scrollAdjustedTranslate,\n            over\n          };\n\n          if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n            const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n            if (shouldCancel) {\n              type = Action.DragCancel;\n            }\n          }\n        }\n\n        activeRef.current = null;\n        unstable_batchedUpdates(() => {\n          dispatch({\n            type\n          });\n          setStatus(Status.Uninitialized);\n          setOver(null);\n          setActiveSensor(null);\n          setActivatorEvent(null);\n          activeSensorRef.current = null;\n          const eventName = type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n          if (event) {\n            const handler = latestProps.current[eventName];\n            handler == null ? void 0 : handler(event);\n            dispatchMonitorEvent({\n              type: eventName,\n              event\n            });\n          }\n        });\n      };\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes]);\n  const bindActivatorToSensorInstantiator = useCallback((handler, sensor) => {\n    return (event, active) => {\n      const nativeEvent = event.nativeEvent;\n      const activeDraggableNode = draggableNodes.get(active);\n\n      if ( // Another sensor is already instantiating\n      activeRef.current !== null || // No active draggable\n      !activeDraggableNode || // Event has already been captured\n      nativeEvent.dndKit || nativeEvent.defaultPrevented) {\n        return;\n      }\n\n      const activationContext = {\n        active: activeDraggableNode\n      };\n      const shouldActivate = handler(event, sensor.options, activationContext);\n\n      if (shouldActivate === true) {\n        nativeEvent.dndKit = {\n          capturedBy: sensor.sensor\n        };\n        activeRef.current = active;\n        instantiateSensor(event, sensor);\n      }\n    };\n  }, [draggableNodes, instantiateSensor]);\n  const activators = useCombineActivators(sensors, bindActivatorToSensorInstantiator);\n  useSensorSetup(sensors);\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n  useEffect(() => {\n    const {\n      onDragMove\n    } = latestProps.current;\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      over\n    } = sensorContext.current;\n\n    if (!active || !activatorEvent) {\n      return;\n    }\n\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    unstable_batchedUpdates(() => {\n      onDragMove == null ? void 0 : onDragMove(event);\n      dispatchMonitorEvent({\n        type: 'onDragMove',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]);\n  useEffect(() => {\n    const {\n      active,\n      activatorEvent,\n      collisions,\n      droppableContainers,\n      scrollAdjustedTranslate\n    } = sensorContext.current;\n\n    if (!active || activeRef.current == null || !activatorEvent || !scrollAdjustedTranslate) {\n      return;\n    }\n\n    const {\n      onDragOver\n    } = latestProps.current;\n    const overContainer = droppableContainers.get(overId);\n    const over = overContainer && overContainer.rect.current ? {\n      id: overContainer.id,\n      rect: overContainer.rect.current,\n      data: overContainer.data,\n      disabled: overContainer.disabled\n    } : null;\n    const event = {\n      active,\n      activatorEvent,\n      collisions,\n      delta: {\n        x: scrollAdjustedTranslate.x,\n        y: scrollAdjustedTranslate.y\n      },\n      over\n    };\n    unstable_batchedUpdates(() => {\n      setOver(over);\n      onDragOver == null ? void 0 : onDragOver(event);\n      dispatchMonitorEvent({\n        type: 'onDragOver',\n        event\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [overId]);\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate\n    };\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect\n    };\n  }, [active, activeNode, collisions, collisionRect, draggableNodes, draggingNode, draggingNodeRect, droppableRects, droppableContainers, over, scrollableAncestors, scrollAdjustedTranslate]);\n  useAutoScroller({ ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects\n  });\n  const publicContext = useMemo(() => {\n    const context = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect\n    };\n    return context;\n  }, [active, activeNode, activeNodeRect, activatorEvent, collisions, containerNodeRect, dragOverlay, draggableNodes, droppableContainers, droppableRects, over, measureDroppableContainers, scrollableAncestors, scrollableAncestorRects, measuringConfiguration, measuringScheduled, windowRect]);\n  const internalContext = useMemo(() => {\n    const context = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers\n    };\n    return context;\n  }, [activatorEvent, activators, active, activeNodeRect, dispatch, draggableDescribedById, draggableNodes, over, measureDroppableContainers]);\n  return React.createElement(DndMonitorContext.Provider, {\n    value: registerMonitorListener\n  }, React.createElement(InternalContext.Provider, {\n    value: internalContext\n  }, React.createElement(PublicContext.Provider, {\n    value: publicContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: transform\n  }, children)), React.createElement(RestoreFocus, {\n    disabled: (accessibility == null ? void 0 : accessibility.restoreFocus) === false\n  })), React.createElement(Accessibility, { ...accessibility,\n    hiddenTextDescribedById: draggableDescribedById\n  }));\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll = (activeSensor == null ? void 0 : activeSensor.autoScrollEnabled) === false;\n    const autoScrollGloballyDisabled = typeof autoScroll === 'object' ? autoScroll.enabled === false : autoScroll === false;\n    const enabled = isInitialized && !activeSensorDisablesAutoscroll && !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return { ...autoScroll,\n        enabled\n      };\n    }\n\n    return {\n      enabled\n    };\n  }\n});\n\nconst NullContext = /*#__PURE__*/createContext(null);\nconst defaultRole = 'button';\nconst ID_PREFIX = 'Draggable';\nfunction useDraggable(_ref) {\n  let {\n    id,\n    data,\n    disabled = false,\n    attributes\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0\n  } = attributes != null ? attributes : {};\n  const isDragging = (active == null ? void 0 : active.id) === id;\n  const transform = useContext(isDragging ? ActiveDraggableContext : NullContext);\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n  useIsomorphicLayoutEffect(() => {\n    draggableNodes.set(id, {\n      id,\n      key,\n      node,\n      activatorNode,\n      data: dataRef\n    });\n    return () => {\n      const node = draggableNodes.get(id);\n\n      if (node && node.key === key) {\n        draggableNodes.delete(id);\n      }\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [draggableNodes, id]);\n  const memoizedAttributes = useMemo(() => ({\n    role,\n    tabIndex,\n    'aria-disabled': disabled,\n    'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n    'aria-roledescription': roleDescription,\n    'aria-describedby': ariaDescribedById.draggable\n  }), [disabled, role, tabIndex, isDragging, roleDescription, ariaDescribedById.draggable]);\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform\n  };\n}\n\nfunction useDndContext() {\n  return useContext(PublicContext);\n}\n\nconst ID_PREFIX$1 = 'Droppable';\nconst defaultResizeObserverConfig = {\n  timeout: 25\n};\nfunction useDroppable(_ref) {\n  let {\n    data,\n    disabled = false,\n    id,\n    resizeObserverConfig\n  } = _ref;\n  const key = useUniqueId(ID_PREFIX$1);\n  const {\n    active,\n    dispatch,\n    over,\n    measureDroppableContainers\n  } = useContext(InternalContext);\n  const previous = useRef({\n    disabled\n  });\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef(null);\n  const callbackId = useRef(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout\n  } = { ...defaultResizeObserverConfig,\n    ...resizeObserverConfig\n  };\n  const ids = useLatestValue(updateMeasurementsFor != null ? updateMeasurementsFor : id);\n  const handleResize = useCallback(() => {\n    if (!resizeObserverConnected.current) {\n      // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n      // assuming the element is rendered and displayed.\n      resizeObserverConnected.current = true;\n      return;\n    }\n\n    if (callbackId.current != null) {\n      clearTimeout(callbackId.current);\n    }\n\n    callbackId.current = setTimeout(() => {\n      measureDroppableContainers(Array.isArray(ids.current) ? ids.current : [ids.current]);\n      callbackId.current = null;\n    }, resizeObserverTimeout);\n  }, //eslint-disable-next-line react-hooks/exhaustive-deps\n  [resizeObserverTimeout]);\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active\n  });\n  const handleNodeChange = useCallback((newElement, previousElement) => {\n    if (!resizeObserver) {\n      return;\n    }\n\n    if (previousElement) {\n      resizeObserver.unobserve(previousElement);\n      resizeObserverConnected.current = false;\n    }\n\n    if (newElement) {\n      resizeObserver.observe(newElement);\n    }\n  }, [resizeObserver]);\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n  useEffect(() => {\n    dispatch({\n      type: Action.RegisterDroppable,\n      element: {\n        id,\n        key,\n        disabled,\n        node: nodeRef,\n        rect,\n        data: dataRef\n      }\n    });\n    return () => dispatch({\n      type: Action.UnregisterDroppable,\n      key,\n      id\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [id]);\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled\n      });\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n  return {\n    active,\n    rect,\n    isOver: (over == null ? void 0 : over.id) === id,\n    node: nodeRef,\n    over,\n    setNodeRef\n  };\n}\n\nfunction AnimationManager(_ref) {\n  let {\n    animation,\n    children\n  } = _ref;\n  const [clonedChildren, setClonedChildren] = useState(null);\n  const [element, setElement] = useState(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren == null ? void 0 : clonedChildren.key;\n    const id = clonedChildren == null ? void 0 : clonedChildren.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n  return React.createElement(React.Fragment, null, children, clonedChildren ? cloneElement(clonedChildren, {\n    ref: setElement\n  }) : null);\n}\n\nconst defaultTransform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction NullifiedContextProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  return React.createElement(InternalContext.Provider, {\n    value: defaultInternalContext\n  }, React.createElement(ActiveDraggableContext.Provider, {\n    value: defaultTransform\n  }, children));\n}\n\nconst baseStyles = {\n  position: 'fixed',\n  touchAction: 'none'\n};\n\nconst defaultTransition = activatorEvent => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nconst PositionedOverlay = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    as,\n    activatorEvent,\n    adjustScale,\n    children,\n    className,\n    rect,\n    style,\n    transform,\n    transition = defaultTransition\n  } = _ref;\n\n  if (!rect) {\n    return null;\n  }\n\n  const scaleAdjustedTransform = adjustScale ? transform : { ...transform,\n    scaleX: 1,\n    scaleY: 1\n  };\n  const styles = { ...baseStyles,\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    left: rect.left,\n    transform: CSS.Transform.toString(scaleAdjustedTransform),\n    transformOrigin: adjustScale && activatorEvent ? getRelativeTransformOrigin(activatorEvent, rect) : undefined,\n    transition: typeof transition === 'function' ? transition(activatorEvent) : transition,\n    ...style\n  };\n  return React.createElement(as, {\n    className,\n    style: styles,\n    ref\n  }, children);\n});\n\nconst defaultDropAnimationSideEffects = options => _ref => {\n  let {\n    active,\n    dragOverlay\n  } = _ref;\n  const originalStyles = {};\n  const {\n    styles,\n    className\n  } = options;\n\n  if (styles != null && styles.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles != null && styles.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className != null && className.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className != null && className.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className != null && className.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver = _ref2 => {\n  let {\n    transform: {\n      initial,\n      final\n    }\n  } = _ref2;\n  return [{\n    transform: CSS.Transform.toString(initial)\n  }, {\n    transform: CSS.Transform.toString(final)\n  }];\n};\n\nconst defaultDropAnimationConfiguration = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: /*#__PURE__*/defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0'\n      }\n    }\n  })\n};\nfunction useDropAnimation(_ref3) {\n  let {\n    config,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  } = _ref3;\n  return useEvent((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n\n    const {\n      transform\n    } = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation = typeof config === 'function' ? config : createDefaultDropAnimation(config);\n    scrollIntoViewIfNeeded(activeNode, measuringConfiguration.draggable.measure);\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode)\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode)\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(options) {\n  const {\n    duration,\n    easing,\n    sideEffects,\n    keyframes\n  } = { ...defaultDropAnimationConfiguration,\n    ...options\n  };\n  return _ref4 => {\n    let {\n      active,\n      dragOverlay,\n      transform,\n      ...rest\n    } = _ref4;\n\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top\n    };\n    const scale = {\n      scaleX: transform.scaleX !== 1 ? active.rect.width * transform.scaleX / dragOverlay.rect.width : 1,\n      scaleY: transform.scaleY !== 1 ? active.rect.height * transform.scaleY / dragOverlay.rect.height : 1\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale\n    };\n    const animationKeyframes = keyframes({ ...rest,\n      active,\n      dragOverlay,\n      transform: {\n        initial: transform,\n        final: finalTransform\n      }\n    });\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects == null ? void 0 : sideEffects({\n      active,\n      dragOverlay,\n      ...rest\n    });\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards'\n    });\n    return new Promise(resolve => {\n      animation.onfinish = () => {\n        cleanup == null ? void 0 : cleanup();\n        resolve();\n      };\n    });\n  };\n}\n\nlet key = 0;\nfunction useKey(id) {\n  return useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n\nconst DragOverlay = /*#__PURE__*/React.memo(_ref => {\n  let {\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999\n  } = _ref;\n  const {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggableNodes,\n    droppableContainers,\n    dragOverlay,\n    over,\n    measuringConfiguration,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect\n  } = useDndContext();\n  const transform = useContext(ActiveDraggableContext);\n  const key = useKey(active == null ? void 0 : active.id);\n  const modifiedTransform = applyModifiers(modifiers, {\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect: dragOverlay.rect,\n    over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    transform,\n    windowRect\n  });\n  const initialRect = useInitialValue(activeNodeRect);\n  const dropAnimation = useDropAnimation({\n    config: dropAnimationConfig,\n    draggableNodes,\n    droppableContainers,\n    measuringConfiguration\n  }); // We need to wait for the active node to be measured before connecting the drag overlay ref\n  // otherwise collisions can be computed against a mispositioned drag overlay\n\n  const ref = initialRect ? dragOverlay.setRef : undefined;\n  return React.createElement(NullifiedContextProvider, null, React.createElement(AnimationManager, {\n    animation: dropAnimation\n  }, active && key ? React.createElement(PositionedOverlay, {\n    key: key,\n    id: active.id,\n    ref: ref,\n    as: wrapperElement,\n    activatorEvent: activatorEvent,\n    adjustScale: adjustScale,\n    className: className,\n    transition: transition,\n    rect: initialRect,\n    style: {\n      zIndex,\n      ...style\n    },\n    transform: modifiedTransform\n  }, children) : null));\n});\n\nexport { AutoScrollActivator, DndContext, DragOverlay, KeyboardCode, KeyboardSensor, MeasuringFrequency, MeasuringStrategy, MouseSensor, PointerSensor, TouchSensor, TraversalOrder, applyModifiers, closestCenter, closestCorners, defaultAnnouncements, defaultCoordinates, defaultDropAnimationConfiguration as defaultDropAnimation, defaultDropAnimationSideEffects, defaultKeyboardCoordinateGetter, defaultScreenReaderInstructions, getClientRect, getFirstCollision, getScrollableAncestors, pointerWithin, rectIntersection, useDndContext, useDndMonitor, useDraggable, useDroppable, useSensor, useSensors };\n//# sourceMappingURL=core.esm.js.map\n","import React, { useMemo, useRef, useEffect, useState, useContext } from 'react';\nimport { useDndContext, getClientRect, useDroppable, useDraggable, closestCorners, getFirstCollision, getScrollableAncestors, KeyboardCode } from '@dnd-kit/core';\nimport { useUniqueId, useIsomorphicLayoutEffect, CSS, useCombinedRefs, isKeyboardEvent, subtract } from '@dnd-kit/utilities';\n\n/**\r\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\r\n */\nfunction arrayMove(array, from, to) {\n  const newArray = array.slice();\n  newArray.splice(to < 0 ? newArray.length + to : to, 0, newArray.splice(from, 1)[0]);\n  return newArray;\n}\n\n/**\r\n * Swap an array item to a different position. Returns a new array with the item swapped to the new position.\r\n */\nfunction arraySwap(array, from, to) {\n  const newArray = array.slice();\n  newArray[from] = array[to];\n  newArray[to] = array[from];\n  return newArray;\n}\n\nfunction getSortedRects(items, rects) {\n  return items.reduce((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n\nfunction isValidIndex(index) {\n  return index !== null && index >= 0;\n}\n\nfunction itemsEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction normalizeDisabled(disabled) {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled\n    };\n  }\n\n  return disabled;\n}\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst horizontalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    rects,\n    activeNodeRect: fallbackActiveRect,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index === activeIndex) {\n    const newIndexRect = rects[overIndex];\n\n    if (!newIndexRect) {\n      return null;\n    }\n\n    return {\n      x: activeIndex < overIndex ? newIndexRect.left + newIndexRect.width - (activeNodeRect.left + activeNodeRect.width) : newIndexRect.left - activeNodeRect.left,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: -activeNodeRect.width - itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: activeNodeRect.width + itemGap,\n      y: 0,\n      ...defaultScale\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale\n  };\n};\n\nfunction getItemGap(rects, index, activeIndex) {\n  const currentRect = rects[index];\n  const previousRect = rects[index - 1];\n  const nextRect = rects[index + 1];\n\n  if (!currentRect || !previousRect && !nextRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.left - (previousRect.left + previousRect.width) : nextRect.left - (currentRect.left + currentRect.width);\n  }\n\n  return nextRect ? nextRect.left - (currentRect.left + currentRect.width) : currentRect.left - (previousRect.left + previousRect.width);\n}\n\nconst rectSortingStrategy = _ref => {\n  let {\n    rects,\n    activeIndex,\n    overIndex,\n    index\n  } = _ref;\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\nconst rectSwappingStrategy = _ref => {\n  let {\n    activeIndex,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  let oldRect;\n  let newRect;\n\n  if (index === activeIndex) {\n    oldRect = rects[index];\n    newRect = rects[overIndex];\n  }\n\n  if (index === overIndex) {\n    oldRect = rects[index];\n    newRect = rects[activeIndex];\n  }\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height\n  };\n};\n\n// To-do: We should be calculating scale transformation\nconst defaultScale$1 = {\n  scaleX: 1,\n  scaleY: 1\n};\nconst verticalListSortingStrategy = _ref => {\n  var _rects$activeIndex;\n\n  let {\n    activeIndex,\n    activeNodeRect: fallbackActiveRect,\n    index,\n    rects,\n    overIndex\n  } = _ref;\n  const activeNodeRect = (_rects$activeIndex = rects[activeIndex]) != null ? _rects$activeIndex : fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y: activeIndex < overIndex ? overIndexRect.top + overIndexRect.height - (activeNodeRect.top + activeNodeRect.height) : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale$1\n    };\n  }\n\n  const itemGap = getItemGap$1(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale$1\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale$1\n  };\n};\n\nfunction getItemGap$1(clientRects, index, activeIndex) {\n  const currentRect = clientRects[index];\n  const previousRect = clientRects[index - 1];\n  const nextRect = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect ? currentRect.top - (previousRect.top + previousRect.height) : nextRect ? nextRect.top - (currentRect.top + currentRect.height) : 0;\n  }\n\n  return nextRect ? nextRect.top - (currentRect.top + currentRect.height) : previousRect ? currentRect.top - (previousRect.top + previousRect.height) : 0;\n}\n\nconst ID_PREFIX = 'Sortable';\nconst Context = /*#__PURE__*/React.createContext({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false\n  }\n});\nfunction SortableContext(_ref) {\n  let {\n    children,\n    id,\n    items: userDefinedItems,\n    strategy = rectSortingStrategy,\n    disabled: disabledProp = false\n  } = _ref;\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo(() => userDefinedItems.map(item => typeof item === 'object' && 'id' in item ? item.id : item), [userDefinedItems]);\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms = overIndex !== -1 && activeIndex === -1 || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n  const contextValue = useMemo(() => ({\n    activeIndex,\n    containerId,\n    disabled,\n    disableTransforms,\n    items,\n    overIndex,\n    useDragOverlay,\n    sortedRects: getSortedRects(items, droppableRects),\n    strategy\n  }), // eslint-disable-next-line react-hooks/exhaustive-deps\n  [activeIndex, containerId, disabled.draggable, disabled.droppable, disableTransforms, items, overIndex, droppableRects, useDragOverlay, strategy]);\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nconst defaultNewIndexGetter = _ref => {\n  let {\n    id,\n    items,\n    activeIndex,\n    overIndex\n  } = _ref;\n  return arrayMove(items, activeIndex, overIndex).indexOf(id);\n};\nconst defaultAnimateLayoutChanges = _ref2 => {\n  let {\n    containerId,\n    isSorting,\n    wasDragging,\n    index,\n    items,\n    newIndex,\n    previousItems,\n    previousContainerId,\n    transition\n  } = _ref2;\n\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\nconst defaultTransition = {\n  duration: 200,\n  easing: 'ease'\n};\nconst transitionProperty = 'transform';\nconst disabledTransition = /*#__PURE__*/CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear'\n});\nconst defaultAttributes = {\n  roleDescription: 'sortable'\n};\n\n/*\r\n * When the index of an item changes while sorting,\r\n * we need to temporarily disable the transforms\r\n */\n\nfunction useDerivedTransform(_ref) {\n  let {\n    disabled,\n    index,\n    node,\n    rect\n  } = _ref;\n  const [derivedTransform, setDerivedtransform] = useState(null);\n  const previousIndex = useRef(index);\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true\n        });\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n  return derivedTransform;\n}\n\nfunction useSortable(_ref) {\n  let {\n    animateLayoutChanges = defaultAnimateLayoutChanges,\n    attributes: userDefinedAttributes,\n    disabled: localDisabled,\n    data: customData,\n    getNewIndex = defaultNewIndexGetter,\n    id,\n    strategy: localStrategy,\n    resizeObserverConfig,\n    transition = defaultTransition\n  } = _ref;\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy\n  } = useContext(Context);\n  const disabled = normalizeLocalDisabled(localDisabled, globalDisabled);\n  const index = items.indexOf(id);\n  const data = useMemo(() => ({\n    sortable: {\n      containerId,\n      index,\n      items\n    },\n    ...customData\n  }), [containerId, customData, index, items]);\n  const itemsAfterCurrentSortable = useMemo(() => items.slice(items.indexOf(id)), [items, id]);\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig\n    }\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform\n  } = useDraggable({\n    id,\n    data,\n    attributes: { ...defaultAttributes,\n      ...userDefinedAttributes\n    },\n    disabled: disabled.draggable\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem = isSorting && !disableTransforms && isValidIndex(activeIndex) && isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement = shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy != null ? localStrategy : globalStrategy;\n  const finalTransform = displaceItem ? dragSourceDisplacement != null ? dragSourceDisplacement : strategy({\n    rects: sortedRects,\n    activeNodeRect,\n    activeIndex,\n    overIndex,\n    index\n  }) : null;\n  const newIndex = isValidIndex(activeIndex) && isValidIndex(overIndex) ? getNewIndex({\n    id,\n    items,\n    activeIndex,\n    overIndex\n  }) : index;\n  const activeId = active == null ? void 0 : active.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null\n  });\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect\n  });\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId != null && previous.current.activeId == null) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform != null ? derivedTransform : finalTransform,\n    transition: getTransition()\n  };\n\n  function getTransition() {\n    if ( // Temporarily disable transitions for a single frame to set up derived transforms\n    derivedTransform || // Or to prevent items jumping to back to their \"new\" position when items change\n    itemsHaveChanged && previous.current.newIndex === index) {\n      return disabledTransition;\n    }\n\n    if (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent) || !transition) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({ ...transition,\n        property: transitionProperty\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(localDisabled, globalDisabled) {\n  var _localDisabled$dragga, _localDisabled$droppa;\n\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false\n    };\n  }\n\n  return {\n    draggable: (_localDisabled$dragga = localDisabled == null ? void 0 : localDisabled.draggable) != null ? _localDisabled$dragga : globalDisabled.draggable,\n    droppable: (_localDisabled$droppa = localDisabled == null ? void 0 : localDisabled.droppable) != null ? _localDisabled$droppa : globalDisabled.droppable\n  };\n}\n\nfunction hasSortableData(entry) {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (data && 'sortable' in data && typeof data.sortable === 'object' && 'containerId' in data.sortable && 'items' in data.sortable && 'index' in data.sortable) {\n    return true;\n  }\n\n  return false;\n}\n\nconst directions = [KeyboardCode.Down, KeyboardCode.Right, KeyboardCode.Up, KeyboardCode.Left];\nconst sortableKeyboardCoordinates = (event, _ref) => {\n  let {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors\n    }\n  } = _ref;\n\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers = [];\n    droppableContainers.getEnabled().forEach(entry => {\n      if (!entry || entry != null && entry.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n\n          break;\n      }\n    });\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === (over == null ? void 0 : over.id) && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable == null ? void 0 : newDroppable.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some((element, index) => scrollableAncestors[index] !== element);\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset = hasDifferentScrollAncestors || !hasSameContainer ? {\n          x: 0,\n          y: 0\n        } : {\n          x: isAfterActive ? collisionRect.width - newRect.width : 0,\n          y: isAfterActive ? collisionRect.height - newRect.height : 0\n        };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top\n        };\n        const newCoordinates = offset.x && offset.y ? rectCoordinates : subtract(rectCoordinates, offset);\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.containerId === b.data.current.sortable.containerId;\n}\n\nfunction isAfter(a, b) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n\nexport { SortableContext, arrayMove, arraySwap, defaultAnimateLayoutChanges, defaultNewIndexGetter, hasSortableData, horizontalListSortingStrategy, rectSortingStrategy, rectSwappingStrategy, sortableKeyboardCoordinates, useSortable, verticalListSortingStrategy };\n//# sourceMappingURL=sortable.esm.js.map\n","// packages/react/compose-refs/src/compose-refs.tsx\nimport * as React from \"react\";\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    return ref(value);\n  } else if (ref !== null && ref !== void 0) {\n    ref.current = value;\n  }\n}\nfunction composeRefs(...refs) {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == \"function\") {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == \"function\") {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\nfunction useComposedRefs(...refs) {\n  return React.useCallback(composeRefs(...refs), refs);\n}\nexport {\n  composeRefs,\n  useComposedRefs\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-layout-effect/src/use-layout-effect.tsx\nimport * as React from \"react\";\nvar useLayoutEffect2 = globalThis?.document ? React.useLayoutEffect : () => {\n};\nexport {\n  useLayoutEffect2 as useLayoutEffect\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/presence.tsx\nimport * as React2 from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\n\n// src/use-state-machine.tsx\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/presence.tsx\nvar Presence = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n  const child = typeof children === \"function\" ? children({ present: presence.isPresent }) : React2.Children.only(children);\n  const ref = useComposedRefs(presence.ref, getElementRef(child));\n  const forceMount = typeof children === \"function\";\n  return forceMount || presence.isPresent ? React2.cloneElement(child, { ref }) : null;\n};\nPresence.displayName = \"Presence\";\nfunction usePresence(present) {\n  const [node, setNode] = React2.useState();\n  const stylesRef = React2.useRef(null);\n  const prevPresentRef = React2.useRef(present);\n  const prevAnimationNameRef = React2.useRef(\"none\");\n  const initialState = present ? \"mounted\" : \"unmounted\";\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: \"unmounted\",\n      ANIMATION_OUT: \"unmountSuspended\"\n    },\n    unmountSuspended: {\n      MOUNT: \"mounted\",\n      ANIMATION_END: \"unmounted\"\n    },\n    unmounted: {\n      MOUNT: \"mounted\"\n    }\n  });\n  React2.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === \"mounted\" ? currentAnimationName : \"none\";\n  }, [state]);\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n      if (present) {\n        send(\"MOUNT\");\n      } else if (currentAnimationName === \"none\" || styles?.display === \"none\") {\n        send(\"UNMOUNT\");\n      } else {\n        const isAnimating = prevAnimationName !== currentAnimationName;\n        if (wasPresent && isAnimating) {\n          send(\"ANIMATION_OUT\");\n        } else {\n          send(\"UNMOUNT\");\n        }\n      }\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n  useLayoutEffect(() => {\n    if (node) {\n      let timeoutId;\n      const ownerWindow = node.ownerDocument.defaultView ?? window;\n      const handleAnimationEnd = (event) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        const isCurrentAnimation = currentAnimationName.includes(CSS.escape(event.animationName));\n        if (event.target === node && isCurrentAnimation) {\n          send(\"ANIMATION_END\");\n          if (!prevPresentRef.current) {\n            const currentFillMode = node.style.animationFillMode;\n            node.style.animationFillMode = \"forwards\";\n            timeoutId = ownerWindow.setTimeout(() => {\n              if (node.style.animationFillMode === \"forwards\") {\n                node.style.animationFillMode = currentFillMode;\n              }\n            });\n          }\n        }\n      };\n      const handleAnimationStart = (event) => {\n        if (event.target === node) {\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener(\"animationstart\", handleAnimationStart);\n      node.addEventListener(\"animationcancel\", handleAnimationEnd);\n      node.addEventListener(\"animationend\", handleAnimationEnd);\n      return () => {\n        ownerWindow.clearTimeout(timeoutId);\n        node.removeEventListener(\"animationstart\", handleAnimationStart);\n        node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n        node.removeEventListener(\"animationend\", handleAnimationEnd);\n      };\n    } else {\n      send(\"ANIMATION_END\");\n    }\n  }, [node, send]);\n  return {\n    isPresent: [\"mounted\", \"unmountSuspended\"].includes(state),\n    ref: React2.useCallback((node2) => {\n      stylesRef.current = node2 ? getComputedStyle(node2) : null;\n      setNode(node2);\n    }, [])\n  };\n}\nfunction getAnimationName(styles) {\n  return styles?.animationName || \"none\";\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nvar Root = Presence;\nexport {\n  Presence,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/context/src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-callback-ref/src/use-callback-ref.tsx\nimport * as React from \"react\";\nfunction useCallbackRef(callback) {\n  const callbackRef = React.useRef(callback);\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n  return React.useMemo(() => (...args) => callbackRef.current?.(...args), []);\n}\nexport {\n  useCallbackRef\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/direction/src/direction.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DirectionContext = React.createContext(void 0);\nvar DirectionProvider = (props) => {\n  const { dir, children } = props;\n  return /* @__PURE__ */ jsx(DirectionContext.Provider, { value: dir, children });\n};\nfunction useDirection(localDir) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || \"ltr\";\n}\nvar Provider = DirectionProvider;\nexport {\n  DirectionProvider,\n  Provider,\n  useDirection\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\nfunction getOwnerWindow(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access window outside of the DOM\");\n  }\n  return element?.ownerDocument?.defaultView ?? window;\n}\nfunction getOwnerDocument(element) {\n  if (!canUseDOM) {\n    throw new Error(\"Cannot access document outside of the DOM\");\n  }\n  return element?.ownerDocument ?? document;\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getOwnerDocument(node);\n  if (!activeElement?.nodeName) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(activeElement.contentDocument.body, activeDescendant);\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getOwnerDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\nexport {\n  canUseDOM,\n  composeEventHandlers,\n  getActiveElement,\n  getOwnerDocument,\n  getOwnerWindow,\n  isFrame\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/scroll-area.tsx\nimport * as React2 from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\n\n// src/use-state-machine.ts\nimport * as React from \"react\";\nfunction useStateMachine(initialState, machine) {\n  return React.useReducer((state, event) => {\n    const nextState = machine[state][event];\n    return nextState ?? state;\n  }, initialState);\n}\n\n// src/scroll-area.tsx\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar SCROLL_AREA_NAME = \"ScrollArea\";\nvar [createScrollAreaContext, createScrollAreaScope] = createContextScope(SCROLL_AREA_NAME);\nvar [ScrollAreaProvider, useScrollAreaContext] = createScrollAreaContext(SCROLL_AREA_NAME);\nvar ScrollArea = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeScrollArea,\n      type = \"hover\",\n      dir,\n      scrollHideDelay = 600,\n      ...scrollAreaProps\n    } = props;\n    const [scrollArea, setScrollArea] = React2.useState(null);\n    const [viewport, setViewport] = React2.useState(null);\n    const [content, setContent] = React2.useState(null);\n    const [scrollbarX, setScrollbarX] = React2.useState(null);\n    const [scrollbarY, setScrollbarY] = React2.useState(null);\n    const [cornerWidth, setCornerWidth] = React2.useState(0);\n    const [cornerHeight, setCornerHeight] = React2.useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = React2.useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = React2.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setScrollArea(node));\n    const direction = useDirection(dir);\n    return /* @__PURE__ */ jsx(\n      ScrollAreaProvider,\n      {\n        scope: __scopeScrollArea,\n        type,\n        dir: direction,\n        scrollHideDelay,\n        scrollArea,\n        viewport,\n        onViewportChange: setViewport,\n        content,\n        onContentChange: setContent,\n        scrollbarX,\n        onScrollbarXChange: setScrollbarX,\n        scrollbarXEnabled,\n        onScrollbarXEnabledChange: setScrollbarXEnabled,\n        scrollbarY,\n        onScrollbarYChange: setScrollbarY,\n        scrollbarYEnabled,\n        onScrollbarYEnabledChange: setScrollbarYEnabled,\n        onCornerWidthChange: setCornerWidth,\n        onCornerHeightChange: setCornerHeight,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            ...scrollAreaProps,\n            ref: composedRefs,\n            style: {\n              position: \"relative\",\n              // Pass corner sizes as CSS vars to reduce re-renders of context consumers\n              [\"--radix-scroll-area-corner-width\"]: cornerWidth + \"px\",\n              [\"--radix-scroll-area-corner-height\"]: cornerHeight + \"px\",\n              ...props.style\n            }\n          }\n        )\n      }\n    );\n  }\n);\nScrollArea.displayName = SCROLL_AREA_NAME;\nvar VIEWPORT_NAME = \"ScrollAreaViewport\";\nvar ScrollAreaViewport = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, children, nonce, ...viewportProps } = props;\n    const context = useScrollAreaContext(VIEWPORT_NAME, __scopeScrollArea);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onViewportChange);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-scroll-area-viewport\": \"\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            /**\n             * We don't support `visible` because the intention is to have at least one scrollbar\n             * if this component is used and `visible` will behave like `auto` in that case\n             * https://developer.mozilla.org/en-US/docs/Web/CSS/overflow#description\n             *\n             * We don't handle `auto` because the intention is for the native implementation\n             * to be hidden if using this component. We just want to ensure the node is scrollable\n             * so could have used either `scroll` or `auto` here. We picked `scroll` to prevent\n             * the browser from having to work out whether to render native scrollbars or not,\n             * we tell it to with the intention of hiding them in CSS.\n             */\n            overflowX: context.scrollbarXEnabled ? \"scroll\" : \"hidden\",\n            overflowY: context.scrollbarYEnabled ? \"scroll\" : \"hidden\",\n            ...props.style\n          },\n          children: /* @__PURE__ */ jsx(\"div\", { ref: context.onContentChange, style: { minWidth: \"100%\", display: \"table\" }, children })\n        }\n      )\n    ] });\n  }\n);\nScrollAreaViewport.displayName = VIEWPORT_NAME;\nvar SCROLLBAR_NAME = \"ScrollAreaScrollbar\";\nvar ScrollAreaScrollbar = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n    const { onScrollbarXEnabledChange, onScrollbarYEnabledChange } = context;\n    const isHorizontal = props.orientation === \"horizontal\";\n    React2.useEffect(() => {\n      isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n      return () => {\n        isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n      };\n    }, [isHorizontal, onScrollbarXEnabledChange, onScrollbarYEnabledChange]);\n    return context.type === \"hover\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarHover, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"scroll\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarScroll, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"auto\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarAuto, { ...scrollbarProps, ref: forwardedRef, forceMount }) : context.type === \"always\" ? /* @__PURE__ */ jsx(ScrollAreaScrollbarVisible, { ...scrollbarProps, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaScrollbar.displayName = SCROLLBAR_NAME;\nvar ScrollAreaScrollbarHover = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [visible, setVisible] = React2.useState(false);\n  React2.useEffect(() => {\n    const scrollArea = context.scrollArea;\n    let hideTimer = 0;\n    if (scrollArea) {\n      const handlePointerEnter = () => {\n        window.clearTimeout(hideTimer);\n        setVisible(true);\n      };\n      const handlePointerLeave = () => {\n        hideTimer = window.setTimeout(() => setVisible(false), context.scrollHideDelay);\n      };\n      scrollArea.addEventListener(\"pointerenter\", handlePointerEnter);\n      scrollArea.addEventListener(\"pointerleave\", handlePointerLeave);\n      return () => {\n        window.clearTimeout(hideTimer);\n        scrollArea.removeEventListener(\"pointerenter\", handlePointerEnter);\n        scrollArea.removeEventListener(\"pointerleave\", handlePointerLeave);\n      };\n    }\n  }, [context.scrollArea, context.scrollHideDelay]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarAuto,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarScroll = React2.forwardRef((props, forwardedRef) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const debounceScrollEnd = useDebounceCallback(() => send(\"SCROLL_END\"), 100);\n  const [state, send] = useStateMachine(\"hidden\", {\n    hidden: {\n      SCROLL: \"scrolling\"\n    },\n    scrolling: {\n      SCROLL_END: \"idle\",\n      POINTER_ENTER: \"interacting\"\n    },\n    interacting: {\n      SCROLL: \"interacting\",\n      POINTER_LEAVE: \"idle\"\n    },\n    idle: {\n      HIDE: \"hidden\",\n      SCROLL: \"scrolling\",\n      POINTER_ENTER: \"interacting\"\n    }\n  });\n  React2.useEffect(() => {\n    if (state === \"idle\") {\n      const hideTimer = window.setTimeout(() => send(\"HIDE\"), context.scrollHideDelay);\n      return () => window.clearTimeout(hideTimer);\n    }\n  }, [state, context.scrollHideDelay, send]);\n  React2.useEffect(() => {\n    const viewport = context.viewport;\n    const scrollDirection = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n    if (viewport) {\n      let prevScrollPos = viewport[scrollDirection];\n      const handleScroll = () => {\n        const scrollPos = viewport[scrollDirection];\n        const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n        if (hasScrollInDirectionChanged) {\n          send(\"SCROLL\");\n          debounceScrollEnd();\n        }\n        prevScrollPos = scrollPos;\n      };\n      viewport.addEventListener(\"scroll\", handleScroll);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll);\n    }\n  }, [context.viewport, isHorizontal, send, debounceScrollEnd]);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || state !== \"hidden\", children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": state === \"hidden\" ? \"hidden\" : \"visible\",\n      ...scrollbarProps,\n      ref: forwardedRef,\n      onPointerEnter: composeEventHandlers(props.onPointerEnter, () => send(\"POINTER_ENTER\")),\n      onPointerLeave: composeEventHandlers(props.onPointerLeave, () => send(\"POINTER_LEAVE\"))\n    }\n  ) });\n});\nvar ScrollAreaScrollbarAuto = React2.forwardRef((props, forwardedRef) => {\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const { forceMount, ...scrollbarProps } = props;\n  const [visible, setVisible] = React2.useState(false);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const handleResize = useDebounceCallback(() => {\n    if (context.viewport) {\n      const isOverflowX = context.viewport.offsetWidth < context.viewport.scrollWidth;\n      const isOverflowY = context.viewport.offsetHeight < context.viewport.scrollHeight;\n      setVisible(isHorizontal ? isOverflowX : isOverflowY);\n    }\n  }, 10);\n  useResizeObserver(context.viewport, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(Presence, { present: forceMount || visible, children: /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarVisible,\n    {\n      \"data-state\": visible ? \"visible\" : \"hidden\",\n      ...scrollbarProps,\n      ref: forwardedRef\n    }\n  ) });\n});\nvar ScrollAreaScrollbarVisible = React2.forwardRef((props, forwardedRef) => {\n  const { orientation = \"vertical\", ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const thumbRef = React2.useRef(null);\n  const pointerOffsetRef = React2.useRef(0);\n  const [sizes, setSizes] = React2.useState({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 }\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n  const commonProps = {\n    ...scrollbarProps,\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => thumbRef.current = thumb,\n    onThumbPointerUp: () => pointerOffsetRef.current = 0,\n    onThumbPointerDown: (pointerPos) => pointerOffsetRef.current = pointerPos\n  };\n  function getScrollPosition(pointerPos, dir) {\n    return getScrollPositionFromPointer(pointerPos, pointerOffsetRef.current, sizes, dir);\n  }\n  if (orientation === \"horizontal\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarX,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, context.dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, context.dir);\n          }\n        }\n      }\n    );\n  }\n  if (orientation === \"vertical\") {\n    return /* @__PURE__ */ jsx(\n      ScrollAreaScrollbarY,\n      {\n        ...commonProps,\n        ref: forwardedRef,\n        onThumbPositionChange: () => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        },\n        onWheelScroll: (scrollPos) => {\n          if (context.viewport) context.viewport.scrollTop = scrollPos;\n        },\n        onDragScroll: (pointerPos) => {\n          if (context.viewport) context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }\n      }\n    );\n  }\n  return null;\n});\nvar ScrollAreaScrollbarX = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarXChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"horizontal\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        bottom: 0,\n        left: context.dir === \"rtl\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        right: context.dir === \"ltr\" ? \"var(--radix-scroll-area-corner-width)\" : 0,\n        [\"--radix-scroll-area-thumb-width\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.x),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.x),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollLeft + event.deltaX;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollWidth,\n            viewport: context.viewport.offsetWidth,\n            scrollbar: {\n              size: ref.current.clientWidth,\n              paddingStart: toInt(computedStyle.paddingLeft),\n              paddingEnd: toInt(computedStyle.paddingRight)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar ScrollAreaScrollbarY = React2.forwardRef((props, forwardedRef) => {\n  const { sizes, onSizesChange, ...scrollbarProps } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, props.__scopeScrollArea);\n  const [computedStyle, setComputedStyle] = React2.useState();\n  const ref = React2.useRef(null);\n  const composeRefs = useComposedRefs(forwardedRef, ref, context.onScrollbarYChange);\n  React2.useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n  return /* @__PURE__ */ jsx(\n    ScrollAreaScrollbarImpl,\n    {\n      \"data-orientation\": \"vertical\",\n      ...scrollbarProps,\n      ref: composeRefs,\n      sizes,\n      style: {\n        top: 0,\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: \"var(--radix-scroll-area-corner-height)\",\n        [\"--radix-scroll-area-thumb-height\"]: getThumbSize(sizes) + \"px\",\n        ...props.style\n      },\n      onThumbPointerDown: (pointerPos) => props.onThumbPointerDown(pointerPos.y),\n      onDragScroll: (pointerPos) => props.onDragScroll(pointerPos.y),\n      onWheelScroll: (event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollTop + event.deltaY;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      },\n      onResize: () => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollHeight,\n            viewport: context.viewport.offsetHeight,\n            scrollbar: {\n              size: ref.current.clientHeight,\n              paddingStart: toInt(computedStyle.paddingTop),\n              paddingEnd: toInt(computedStyle.paddingBottom)\n            }\n          });\n        }\n      }\n    }\n  );\n});\nvar [ScrollbarProvider, useScrollbarContext] = createScrollAreaContext(SCROLLBAR_NAME);\nvar ScrollAreaScrollbarImpl = React2.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeScrollArea,\n    sizes,\n    hasThumb,\n    onThumbChange,\n    onThumbPointerUp,\n    onThumbPointerDown,\n    onThumbPositionChange,\n    onDragScroll,\n    onWheelScroll,\n    onResize,\n    ...scrollbarProps\n  } = props;\n  const context = useScrollAreaContext(SCROLLBAR_NAME, __scopeScrollArea);\n  const [scrollbar, setScrollbar] = React2.useState(null);\n  const composeRefs = useComposedRefs(forwardedRef, (node) => setScrollbar(node));\n  const rectRef = React2.useRef(null);\n  const prevWebkitUserSelectRef = React2.useRef(\"\");\n  const viewport = context.viewport;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const handleWheelScroll = useCallbackRef(onWheelScroll);\n  const handleThumbPositionChange = useCallbackRef(onThumbPositionChange);\n  const handleResize = useDebounceCallback(onResize, 10);\n  function handleDragScroll(event) {\n    if (rectRef.current) {\n      const x = event.clientX - rectRef.current.left;\n      const y = event.clientY - rectRef.current.top;\n      onDragScroll({ x, y });\n    }\n  }\n  React2.useEffect(() => {\n    const handleWheel = (event) => {\n      const element = event.target;\n      const isScrollbarWheel = scrollbar?.contains(element);\n      if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n    };\n    document.addEventListener(\"wheel\", handleWheel, { passive: false });\n    return () => document.removeEventListener(\"wheel\", handleWheel, { passive: false });\n  }, [viewport, scrollbar, maxScrollPos, handleWheelScroll]);\n  React2.useEffect(handleThumbPositionChange, [sizes, handleThumbPositionChange]);\n  useResizeObserver(scrollbar, handleResize);\n  useResizeObserver(context.content, handleResize);\n  return /* @__PURE__ */ jsx(\n    ScrollbarProvider,\n    {\n      scope: __scopeScrollArea,\n      scrollbar,\n      hasThumb,\n      onThumbChange: useCallbackRef(onThumbChange),\n      onThumbPointerUp: useCallbackRef(onThumbPointerUp),\n      onThumbPositionChange: handleThumbPositionChange,\n      onThumbPointerDown: useCallbackRef(onThumbPointerDown),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          ...scrollbarProps,\n          ref: composeRefs,\n          style: { position: \"absolute\", ...scrollbarProps.style },\n          onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n            const mainPointer = 0;\n            if (event.button === mainPointer) {\n              const element = event.target;\n              element.setPointerCapture(event.pointerId);\n              rectRef.current = scrollbar.getBoundingClientRect();\n              prevWebkitUserSelectRef.current = document.body.style.webkitUserSelect;\n              document.body.style.webkitUserSelect = \"none\";\n              if (context.viewport) context.viewport.style.scrollBehavior = \"auto\";\n              handleDragScroll(event);\n            }\n          }),\n          onPointerMove: composeEventHandlers(props.onPointerMove, handleDragScroll),\n          onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n            const element = event.target;\n            if (element.hasPointerCapture(event.pointerId)) {\n              element.releasePointerCapture(event.pointerId);\n            }\n            document.body.style.webkitUserSelect = prevWebkitUserSelectRef.current;\n            if (context.viewport) context.viewport.style.scrollBehavior = \"\";\n            rectRef.current = null;\n          })\n        }\n      )\n    }\n  );\n});\nvar THUMB_NAME = \"ScrollAreaThumb\";\nvar ScrollAreaThumb = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { forceMount, ...thumbProps } = props;\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, props.__scopeScrollArea);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || scrollbarContext.hasThumb, children: /* @__PURE__ */ jsx(ScrollAreaThumbImpl, { ref: forwardedRef, ...thumbProps }) });\n  }\n);\nvar ScrollAreaThumbImpl = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeScrollArea, style, ...thumbProps } = props;\n    const scrollAreaContext = useScrollAreaContext(THUMB_NAME, __scopeScrollArea);\n    const scrollbarContext = useScrollbarContext(THUMB_NAME, __scopeScrollArea);\n    const { onThumbPositionChange } = scrollbarContext;\n    const composedRef = useComposedRefs(\n      forwardedRef,\n      (node) => scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = React2.useRef(void 0);\n    const debounceScrollEnd = useDebounceCallback(() => {\n      if (removeUnlinkedScrollListenerRef.current) {\n        removeUnlinkedScrollListenerRef.current();\n        removeUnlinkedScrollListenerRef.current = void 0;\n      }\n    }, 100);\n    React2.useEffect(() => {\n      const viewport = scrollAreaContext.viewport;\n      if (viewport) {\n        const handleScroll = () => {\n          debounceScrollEnd();\n          if (!removeUnlinkedScrollListenerRef.current) {\n            const listener = addUnlinkedScrollListener(viewport, onThumbPositionChange);\n            removeUnlinkedScrollListenerRef.current = listener;\n            onThumbPositionChange();\n          }\n        };\n        onThumbPositionChange();\n        viewport.addEventListener(\"scroll\", handleScroll);\n        return () => viewport.removeEventListener(\"scroll\", handleScroll);\n      }\n    }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": scrollbarContext.hasThumb ? \"visible\" : \"hidden\",\n        ...thumbProps,\n        ref: composedRef,\n        style: {\n          width: \"var(--radix-scroll-area-thumb-width)\",\n          height: \"var(--radix-scroll-area-thumb-height)\",\n          ...style\n        },\n        onPointerDownCapture: composeEventHandlers(props.onPointerDownCapture, (event) => {\n          const thumb = event.target;\n          const thumbRect = thumb.getBoundingClientRect();\n          const x = event.clientX - thumbRect.left;\n          const y = event.clientY - thumbRect.top;\n          scrollbarContext.onThumbPointerDown({ x, y });\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, scrollbarContext.onThumbPointerUp)\n      }\n    );\n  }\n);\nScrollAreaThumb.displayName = THUMB_NAME;\nvar CORNER_NAME = \"ScrollAreaCorner\";\nvar ScrollAreaCorner = React2.forwardRef(\n  (props, forwardedRef) => {\n    const context = useScrollAreaContext(CORNER_NAME, props.__scopeScrollArea);\n    const hasBothScrollbarsVisible = Boolean(context.scrollbarX && context.scrollbarY);\n    const hasCorner = context.type !== \"scroll\" && hasBothScrollbarsVisible;\n    return hasCorner ? /* @__PURE__ */ jsx(ScrollAreaCornerImpl, { ...props, ref: forwardedRef }) : null;\n  }\n);\nScrollAreaCorner.displayName = CORNER_NAME;\nvar ScrollAreaCornerImpl = React2.forwardRef((props, forwardedRef) => {\n  const { __scopeScrollArea, ...cornerProps } = props;\n  const context = useScrollAreaContext(CORNER_NAME, __scopeScrollArea);\n  const [width, setWidth] = React2.useState(0);\n  const [height, setHeight] = React2.useState(0);\n  const hasSize = Boolean(width && height);\n  useResizeObserver(context.scrollbarX, () => {\n    const height2 = context.scrollbarX?.offsetHeight || 0;\n    context.onCornerHeightChange(height2);\n    setHeight(height2);\n  });\n  useResizeObserver(context.scrollbarY, () => {\n    const width2 = context.scrollbarY?.offsetWidth || 0;\n    context.onCornerWidthChange(width2);\n    setWidth(width2);\n  });\n  return hasSize ? /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      ...cornerProps,\n      ref: forwardedRef,\n      style: {\n        width,\n        height,\n        position: \"absolute\",\n        right: context.dir === \"ltr\" ? 0 : void 0,\n        left: context.dir === \"rtl\" ? 0 : void 0,\n        bottom: 0,\n        ...props.style\n      }\n    }\n  ) : null;\n});\nfunction toInt(value) {\n  return value ? parseInt(value, 10) : 0;\n}\nfunction getThumbRatio(viewportSize, contentSize) {\n  const ratio = viewportSize / contentSize;\n  return isNaN(ratio) ? 0 : ratio;\n}\nfunction getThumbSize(sizes) {\n  const ratio = getThumbRatio(sizes.viewport, sizes.content);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio;\n  return Math.max(thumbSize, 18);\n}\nfunction getScrollPositionFromPointer(pointerPos, pointerOffset, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const thumbCenter = thumbSizePx / 2;\n  const offset = pointerOffset || thumbCenter;\n  const thumbOffsetFromEnd = thumbSizePx - offset;\n  const minPointerPos = sizes.scrollbar.paddingStart + offset;\n  const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const scrollRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const interpolate = linearScale([minPointerPos, maxPointerPos], scrollRange);\n  return interpolate(pointerPos);\n}\nfunction getThumbOffsetFromScroll(scrollPos, sizes, dir = \"ltr\") {\n  const thumbSizePx = getThumbSize(sizes);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const maxThumbPos = scrollbar - thumbSizePx;\n  const scrollClampRange = dir === \"ltr\" ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const scrollWithoutMomentum = clamp(scrollPos, scrollClampRange);\n  const interpolate = linearScale([0, maxScrollPos], [0, maxThumbPos]);\n  return interpolate(scrollWithoutMomentum);\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos) {\n  return scrollPos > 0 && scrollPos < maxScrollPos;\n}\nvar addUnlinkedScrollListener = (node, handler = () => {\n}) => {\n  let prevPosition = { left: node.scrollLeft, top: node.scrollTop };\n  let rAF = 0;\n  (function loop() {\n    const position = { left: node.scrollLeft, top: node.scrollTop };\n    const isHorizontalScroll = prevPosition.left !== position.left;\n    const isVerticalScroll = prevPosition.top !== position.top;\n    if (isHorizontalScroll || isVerticalScroll) handler();\n    prevPosition = position;\n    rAF = window.requestAnimationFrame(loop);\n  })();\n  return () => window.cancelAnimationFrame(rAF);\n};\nfunction useDebounceCallback(callback, delay) {\n  const handleCallback = useCallbackRef(callback);\n  const debounceTimerRef = React2.useRef(0);\n  React2.useEffect(() => () => window.clearTimeout(debounceTimerRef.current), []);\n  return React2.useCallback(() => {\n    window.clearTimeout(debounceTimerRef.current);\n    debounceTimerRef.current = window.setTimeout(handleCallback, delay);\n  }, [handleCallback, delay]);\n}\nfunction useResizeObserver(element, onResize) {\n  const handleResize = useCallbackRef(onResize);\n  useLayoutEffect(() => {\n    let rAF = 0;\n    if (element) {\n      const resizeObserver = new ResizeObserver(() => {\n        cancelAnimationFrame(rAF);\n        rAF = window.requestAnimationFrame(handleResize);\n      });\n      resizeObserver.observe(element);\n      return () => {\n        window.cancelAnimationFrame(rAF);\n        resizeObserver.unobserve(element);\n      };\n    }\n  }, [element, handleResize]);\n}\nvar Root = ScrollArea;\nvar Viewport = ScrollAreaViewport;\nvar Scrollbar = ScrollAreaScrollbar;\nvar Thumb = ScrollAreaThumb;\nvar Corner = ScrollAreaCorner;\nexport {\n  Corner,\n  Root,\n  ScrollArea,\n  ScrollAreaCorner,\n  ScrollAreaScrollbar,\n  ScrollAreaThumb,\n  ScrollAreaViewport,\n  Scrollbar,\n  Thumb,\n  Viewport,\n  createScrollAreaScope\n};\n//# sourceMappingURL=index.mjs.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * Concatenates two arrays faster than the array spread operator.\n */\nconst concatArrays = (array1, array2) => {\n  // Pre-allocate for better V8 optimization\n  const combinedArray = new Array(array1.length + array2.length);\n  for (let i = 0; i < array1.length; i++) {\n    combinedArray[i] = array1[i];\n  }\n  for (let i = 0; i < array2.length; i++) {\n    combinedArray[array1.length + i] = array2[i];\n  }\n  return combinedArray;\n};\n\n// Factory function ensures consistent object shapes\nconst createClassValidatorObject = (classGroupId, validator) => ({\n  classGroupId,\n  validator\n});\n// Factory ensures consistent ClassPartObject shape\nconst createClassPartObject = (nextPart = new Map(), validators = null, classGroupId) => ({\n  nextPart,\n  validators,\n  classGroupId\n});\nconst CLASS_PART_SEPARATOR = '-';\nconst EMPTY_CONFLICTS = [];\n// I use two dots here because one dot is used as prefix for class groups in plugins\nconst ARBITRARY_PROPERTY_PREFIX = 'arbitrary..';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    if (className.startsWith('[') && className.endsWith(']')) {\n      return getGroupIdForArbitraryProperty(className);\n    }\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and skip it.\n    const startIndex = classParts[0] === '' && classParts.length > 1 ? 1 : 0;\n    return getGroupRecursive(classParts, startIndex, classMap);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    if (hasPostfixModifier) {\n      const modifierConflicts = conflictingClassGroupModifiers[classGroupId];\n      const baseConflicts = conflictingClassGroups[classGroupId];\n      if (modifierConflicts) {\n        if (baseConflicts) {\n          // Merge base conflicts with modifier conflicts\n          return concatArrays(baseConflicts, modifierConflicts);\n        }\n        // Only modifier conflicts\n        return modifierConflicts;\n      }\n      // Fall back to without postfix if no modifier conflicts\n      return baseConflicts || EMPTY_CONFLICTS;\n    }\n    return conflictingClassGroups[classGroupId] || EMPTY_CONFLICTS;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, startIndex, classPartObject) => {\n  const classPathsLength = classParts.length - startIndex;\n  if (classPathsLength === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[startIndex];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  if (nextClassPartObject) {\n    const result = getGroupRecursive(classParts, startIndex + 1, nextClassPartObject);\n    if (result) return result;\n  }\n  const validators = classPartObject.validators;\n  if (validators === null) {\n    return undefined;\n  }\n  // Build classRest string efficiently by joining from startIndex onwards\n  const classRest = startIndex === 0 ? classParts.join(CLASS_PART_SEPARATOR) : classParts.slice(startIndex).join(CLASS_PART_SEPARATOR);\n  const validatorsLength = validators.length;\n  for (let i = 0; i < validatorsLength; i++) {\n    const validatorObj = validators[i];\n    if (validatorObj.validator(classRest)) {\n      return validatorObj.classGroupId;\n    }\n  }\n  return undefined;\n};\n/**\n * Get the class group ID for an arbitrary property.\n *\n * @param className - The class name to get the group ID for. Is expected to be string starting with `[` and ending with `]`.\n */\nconst getGroupIdForArbitraryProperty = className => className.slice(1, -1).indexOf(':') === -1 ? undefined : (() => {\n  const content = className.slice(1, -1);\n  const colonIndex = content.indexOf(':');\n  const property = content.slice(0, colonIndex);\n  return property ? ARBITRARY_PROPERTY_PREFIX + property : undefined;\n})();\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  return processClassGroups(classGroups, theme);\n};\n// Split into separate functions to maintain monomorphic call sites\nconst processClassGroups = (classGroups, theme) => {\n  const classMap = createClassPartObject();\n  for (const classGroupId in classGroups) {\n    const group = classGroups[classGroupId];\n    processClassesRecursively(group, classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  const len = classGroup.length;\n  for (let i = 0; i < len; i++) {\n    const classDefinition = classGroup[i];\n    processClassDefinition(classDefinition, classPartObject, classGroupId, theme);\n  }\n};\n// Split into separate functions for each type to maintain monomorphic call sites\nconst processClassDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (typeof classDefinition === 'string') {\n    processStringDefinition(classDefinition, classPartObject, classGroupId);\n    return;\n  }\n  if (typeof classDefinition === 'function') {\n    processFunctionDefinition(classDefinition, classPartObject, classGroupId, theme);\n    return;\n  }\n  processObjectDefinition(classDefinition, classPartObject, classGroupId, theme);\n};\nconst processStringDefinition = (classDefinition, classPartObject, classGroupId) => {\n  const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n  classPartObjectToEdit.classGroupId = classGroupId;\n};\nconst processFunctionDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (isThemeGetter(classDefinition)) {\n    processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n    return;\n  }\n  if (classPartObject.validators === null) {\n    classPartObject.validators = [];\n  }\n  classPartObject.validators.push(createClassValidatorObject(classGroupId, classDefinition));\n};\nconst processObjectDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  const entries = Object.entries(classDefinition);\n  const len = entries.length;\n  for (let i = 0; i < len; i++) {\n    const [key, value] = entries[i];\n    processClassesRecursively(value, getPart(classPartObject, key), classGroupId, theme);\n  }\n};\nconst getPart = (classPartObject, path) => {\n  let current = classPartObject;\n  const parts = path.split(CLASS_PART_SEPARATOR);\n  const len = parts.length;\n  for (let i = 0; i < len; i++) {\n    const part = parts[i];\n    let next = current.nextPart.get(part);\n    if (!next) {\n      next = createClassPartObject();\n      current.nextPart.set(part, next);\n    }\n    current = next;\n  }\n  return current;\n};\n// Type guard maintains monomorphic check\nconst isThemeGetter = func => 'isThemeGetter' in func && func.isThemeGetter === true;\n\n// LRU cache implementation using plain objects for simplicity\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = Object.create(null);\n  let previousCache = Object.create(null);\n  const update = (key, value) => {\n    cache[key] = value;\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = Object.create(null);\n    }\n  };\n  return {\n    get(key) {\n      let value = cache[key];\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache[key]) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (key in cache) {\n        cache[key] = value;\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst EMPTY_MODIFIERS = [];\n// Pre-allocated result object shape for consistency\nconst createResultObject = (modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition, isExternal) => ({\n  modifiers,\n  hasImportantModifier,\n  baseClassName,\n  maybePostfixModifierPosition,\n  isExternal\n});\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    // Use simple array with push for better performance\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    const len = className.length;\n    for (let index = 0; index < len; index++) {\n      const currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + 1;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') bracketDepth++;else if (currentCharacter === ']') bracketDepth--;else if (currentCharacter === '(') parenDepth++;else if (currentCharacter === ')') parenDepth--;\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.slice(modifierStart);\n    // Inline important modifier check\n    let baseClassName = baseClassNameWithImportantModifier;\n    let hasImportantModifier = false;\n    if (baseClassNameWithImportantModifier.endsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(0, -1);\n      hasImportantModifier = true;\n    } else if (\n    /**\n     * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n     * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n     */\n    baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(1);\n      hasImportantModifier = true;\n    }\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return createResultObject(modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition);\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.slice(fullPrefix.length)) : createResultObject(EMPTY_MODIFIERS, false, className, undefined, true);\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  // Pre-compute weights for all known modifiers for O(1) comparison\n  const modifierWeights = new Map();\n  // Assign weights to sensitive modifiers (highest priority, but preserve order)\n  config.orderSensitiveModifiers.forEach((mod, index) => {\n    modifierWeights.set(mod, 1000000 + index); // High weights for sensitive mods\n  });\n  return modifiers => {\n    const result = [];\n    let currentSegment = [];\n    // Process modifiers in one pass\n    for (let i = 0; i < modifiers.length; i++) {\n      const modifier = modifiers[i];\n      // Check if modifier is sensitive (starts with '[' or in orderSensitiveModifiers)\n      const isArbitrary = modifier[0] === '[';\n      const isOrderSensitive = modifierWeights.has(modifier);\n      if (isArbitrary || isOrderSensitive) {\n        // Sort and flush current segment alphabetically\n        if (currentSegment.length > 0) {\n          currentSegment.sort();\n          result.push(...currentSegment);\n          currentSegment = [];\n        }\n        result.push(modifier);\n      } else {\n        // Regular modifier - add to current segment for batch sorting\n        currentSegment.push(modifier);\n      }\n    }\n    // Sort and add any remaining segment items\n    if (currentSegment.length > 0) {\n      currentSegment.sort();\n      result.push(...currentSegment);\n    }\n    return result;\n  };\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    // Fast path: skip sorting for empty or single modifier\n    const variantModifier = modifiers.length === 0 ? '' : modifiers.length === 1 ? modifiers[0] : sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.indexOf(classId) > -1) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nconst twJoin = (...classLists) => {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < classLists.length) {\n    if (argument = classLists[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst toValue = mix => {\n  // Fast path for strings\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst createTailwindMerge = (createConfigFirst, ...createConfigRest) => {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall;\n  const initTailwindMerge = classList => {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  };\n  const tailwindMerge = classList => {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  };\n  functionToCall = initTailwindMerge;\n  return (...args) => functionToCall(twJoin(...args));\n};\nconst fallbackThemeArr = [];\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || fallbackThemeArr;\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/collection-legacy.tsx\nimport React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createCollection(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }\n  );\n  const CollectionProvider = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef(null);\n    const itemMap = React.useRef(/* @__PURE__ */ new Map()).current;\n    return /* @__PURE__ */ jsx(CollectionProviderImpl, { scope, itemMap, collectionRef: ref, children });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...itemData });\n        return () => void context.itemMap.delete(ref);\n      });\n      return /* @__PURE__ */ jsx(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useCollection(scope) {\n    const context = useCollectionContext(name + \"CollectionConsumer\", scope);\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n    return getItems;\n  }\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope\n  ];\n}\n\n// src/collection.tsx\nimport React2 from \"react\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createSlot as createSlot2 } from \"@radix-ui/react-slot\";\n\n// src/ordered-dictionary.ts\nvar __instanciated = /* @__PURE__ */ new WeakMap();\nvar OrderedDict = class _OrderedDict extends Map {\n  #keys;\n  constructor(entries) {\n    super(entries);\n    this.#keys = [...super.keys()];\n    __instanciated.set(this, true);\n  }\n  set(key, value) {\n    if (__instanciated.get(this)) {\n      if (this.has(key)) {\n        this.#keys[this.#keys.indexOf(key)] = key;\n      } else {\n        this.#keys.push(key);\n      }\n    }\n    super.set(key, value);\n    return this;\n  }\n  insert(index, key, value) {\n    const has = this.has(key);\n    const length = this.#keys.length;\n    const relativeIndex = toSafeInteger(index);\n    let actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n    const safeIndex = actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n    if (safeIndex === this.size || has && safeIndex === this.size - 1 || safeIndex === -1) {\n      this.set(key, value);\n      return this;\n    }\n    const size = this.size + (has ? 0 : 1);\n    if (relativeIndex < 0) {\n      actualIndex++;\n    }\n    const keys = [...this.#keys];\n    let nextValue;\n    let shouldSkip = false;\n    for (let i = actualIndex; i < size; i++) {\n      if (actualIndex === i) {\n        let nextKey = keys[i];\n        if (keys[i] === key) {\n          nextKey = keys[i + 1];\n        }\n        if (has) {\n          this.delete(key);\n        }\n        nextValue = this.get(nextKey);\n        this.set(key, value);\n      } else {\n        if (!shouldSkip && keys[i - 1] === key) {\n          shouldSkip = true;\n        }\n        const currentKey = keys[shouldSkip ? i : i - 1];\n        const currentValue = nextValue;\n        nextValue = this.get(currentKey);\n        this.delete(currentKey);\n        this.set(currentKey, currentValue);\n      }\n    }\n    return this;\n  }\n  with(index, key, value) {\n    const copy = new _OrderedDict(this);\n    copy.insert(index, key, value);\n    return copy;\n  }\n  before(key) {\n    const index = this.#keys.indexOf(key) - 1;\n    if (index < 0) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position before the given key.\n   */\n  setBefore(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index, newKey, value);\n  }\n  after(key) {\n    let index = this.#keys.indexOf(key);\n    index = index === -1 || index === this.size - 1 ? -1 : index + 1;\n    if (index === -1) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position after the given key.\n   */\n  setAfter(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index + 1, newKey, value);\n  }\n  first() {\n    return this.entryAt(0);\n  }\n  last() {\n    return this.entryAt(-1);\n  }\n  clear() {\n    this.#keys = [];\n    return super.clear();\n  }\n  delete(key) {\n    const deleted = super.delete(key);\n    if (deleted) {\n      this.#keys.splice(this.#keys.indexOf(key), 1);\n    }\n    return deleted;\n  }\n  deleteAt(index) {\n    const key = this.keyAt(index);\n    if (key !== void 0) {\n      return this.delete(key);\n    }\n    return false;\n  }\n  at(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return this.get(key);\n    }\n  }\n  entryAt(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return [key, this.get(key)];\n    }\n  }\n  indexOf(key) {\n    return this.#keys.indexOf(key);\n  }\n  keyAt(index) {\n    return at(this.#keys, index);\n  }\n  from(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.at(dest);\n  }\n  keyFrom(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.keyAt(dest);\n  }\n  find(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return entry;\n      }\n      index++;\n    }\n    return void 0;\n  }\n  findIndex(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return index;\n      }\n      index++;\n    }\n    return -1;\n  }\n  filter(predicate, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        entries.push(entry);\n      }\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  map(callbackfn, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      entries.push([entry[0], Reflect.apply(callbackfn, thisArg, [entry, index, this])]);\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  reduce(...args) {\n    const [callbackfn, initialValue] = args;\n    let index = 0;\n    let accumulator = initialValue ?? this.at(0);\n    for (const entry of this) {\n      if (index === 0 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n      index++;\n    }\n    return accumulator;\n  }\n  reduceRight(...args) {\n    const [callbackfn, initialValue] = args;\n    let accumulator = initialValue ?? this.at(-1);\n    for (let index = this.size - 1; index >= 0; index--) {\n      const entry = this.at(index);\n      if (index === this.size - 1 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n    }\n    return accumulator;\n  }\n  toSorted(compareFn) {\n    const entries = [...this.entries()].sort(compareFn);\n    return new _OrderedDict(entries);\n  }\n  toReversed() {\n    const reversed = new _OrderedDict();\n    for (let index = this.size - 1; index >= 0; index--) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      reversed.set(key, element);\n    }\n    return reversed;\n  }\n  toSpliced(...args) {\n    const entries = [...this.entries()];\n    entries.splice(...args);\n    return new _OrderedDict(entries);\n  }\n  slice(start, end) {\n    const result = new _OrderedDict();\n    let stop = this.size - 1;\n    if (start === void 0) {\n      return result;\n    }\n    if (start < 0) {\n      start = start + this.size;\n    }\n    if (end !== void 0 && end > 0) {\n      stop = end - 1;\n    }\n    for (let index = start; index <= stop; index++) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      result.set(key, element);\n    }\n    return result;\n  }\n  every(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (!Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return false;\n      }\n      index++;\n    }\n    return true;\n  }\n  some(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n};\nfunction at(array, index) {\n  if (\"at\" in Array.prototype) {\n    return Array.prototype.at.call(array, index);\n  }\n  const actualIndex = toSafeIndex(array, index);\n  return actualIndex === -1 ? void 0 : array[actualIndex];\n}\nfunction toSafeIndex(array, index) {\n  const length = array.length;\n  const relativeIndex = toSafeInteger(index);\n  const actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n  return actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n}\nfunction toSafeInteger(number) {\n  return number !== number || number === 0 ? 0 : Math.trunc(number);\n}\n\n// src/collection.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction createCollection2(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope2(PROVIDER_NAME);\n  const [CollectionContextProvider, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    {\n      collectionElement: null,\n      collectionRef: { current: null },\n      collectionRefObject: { current: null },\n      itemMap: new OrderedDict(),\n      setItemMap: () => void 0\n    }\n  );\n  const CollectionProvider = ({ state, ...props }) => {\n    return state ? /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state }) : /* @__PURE__ */ jsx2(CollectionInit, { ...props });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const CollectionInit = (props) => {\n    const state = useInitCollection();\n    return /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state });\n  };\n  CollectionInit.displayName = PROVIDER_NAME + \"Init\";\n  const CollectionProviderImpl = (props) => {\n    const { scope, children, state } = props;\n    const ref = React2.useRef(null);\n    const [collectionElement, setCollectionElement] = React2.useState(\n      null\n    );\n    const composeRefs = useComposedRefs2(ref, setCollectionElement);\n    const [itemMap, setItemMap] = state;\n    React2.useEffect(() => {\n      if (!collectionElement) return;\n      const observer = getChildListObserver(() => {\n      });\n      observer.observe(collectionElement, {\n        childList: true,\n        subtree: true\n      });\n      return () => {\n        observer.disconnect();\n      };\n    }, [collectionElement]);\n    return /* @__PURE__ */ jsx2(\n      CollectionContextProvider,\n      {\n        scope,\n        itemMap,\n        setItemMap,\n        collectionRef: composeRefs,\n        collectionRefObject: ref,\n        collectionElement,\n        children\n      }\n    );\n  };\n  CollectionProviderImpl.displayName = PROVIDER_NAME + \"Impl\";\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot2(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs2(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx2(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot2(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React2.useRef(null);\n      const [element, setElement] = React2.useState(null);\n      const composedRefs = useComposedRefs2(forwardedRef, ref, setElement);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      const { setItemMap } = context;\n      const itemDataRef = React2.useRef(itemData);\n      if (!shallowEqual(itemDataRef.current, itemData)) {\n        itemDataRef.current = itemData;\n      }\n      const memoizedItemData = itemDataRef.current;\n      React2.useEffect(() => {\n        const itemData2 = memoizedItemData;\n        setItemMap((map) => {\n          if (!element) {\n            return map;\n          }\n          if (!map.has(element)) {\n            map.set(element, { ...itemData2, element });\n            return map.toSorted(sortByDocumentPosition);\n          }\n          return map.set(element, { ...itemData2, element }).toSorted(sortByDocumentPosition);\n        });\n        return () => {\n          setItemMap((map) => {\n            if (!element || !map.has(element)) {\n              return map;\n            }\n            map.delete(element);\n            return new OrderedDict(map);\n          });\n        };\n      }, [element, memoizedItemData, setItemMap]);\n      return /* @__PURE__ */ jsx2(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useInitCollection() {\n    return React2.useState(new OrderedDict());\n  }\n  function useCollection(scope) {\n    const { itemMap } = useCollectionContext(name + \"CollectionConsumer\", scope);\n    return itemMap;\n  }\n  const functions = {\n    createCollectionScope,\n    useCollection,\n    useInitCollection\n  };\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    functions\n  ];\n}\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (typeof a !== \"object\" || typeof b !== \"object\") return false;\n  if (a == null || b == null) return false;\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) return false;\n  for (const key of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(b, key)) return false;\n    if (a[key] !== b[key]) return false;\n  }\n  return true;\n}\nfunction isElementPreceding(a, b) {\n  return !!(b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING);\n}\nfunction sortByDocumentPosition(a, b) {\n  return !a[1].element || !b[1].element ? 0 : isElementPreceding(a[1].element, b[1].element) ? -1 : 1;\n}\nfunction getChildListObserver(callback) {\n  const observer = new MutationObserver((mutationsList) => {\n    for (const mutation of mutationsList) {\n      if (mutation.type === \"childList\") {\n        callback();\n        return;\n      }\n    }\n  });\n  return observer;\n}\nexport {\n  createCollection,\n  createCollection2 as unstable_createCollection\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-escape-keydown/src/use-escape-keydown.tsx\nimport * as React from \"react\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nfunction useEscapeKeydown(onEscapeKeyDownProp, ownerDocument = globalThis?.document) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === \"Escape\") {\n        onEscapeKeyDown(event);\n      }\n    };\n    ownerDocument.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => ownerDocument.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n  }, [onEscapeKeyDown, ownerDocument]);\n}\nexport {\n  useEscapeKeydown\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dismissable-layer.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DISMISSABLE_LAYER_NAME = \"DismissableLayer\";\nvar CONTEXT_UPDATE = \"dismissableLayer.update\";\nvar POINTER_DOWN_OUTSIDE = \"dismissableLayer.pointerDownOutside\";\nvar FOCUS_OUTSIDE = \"dismissableLayer.focusOutside\";\nvar originalBodyPointerEvents;\nvar DismissableLayerContext = React.createContext({\n  layers: /* @__PURE__ */ new Set(),\n  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),\n  branches: /* @__PURE__ */ new Set()\n});\nvar DismissableLayer = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1);\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = \"none\";\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        ...layerProps,\n        ref: composedRefs,\n        style: {\n          pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? \"auto\" : \"none\" : void 0,\n          ...props.style\n        },\n        onFocusCapture: composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )\n      }\n    );\n  }\n);\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\nvar BRANCH_NAME = \"DismissableLayerBranch\";\nvar DismissableLayerBranch = React.forwardRef((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n  return /* @__PURE__ */ jsx(Primitive.div, { ...props, ref: composedRefs });\n});\nDismissableLayerBranch.displayName = BRANCH_NAME;\nfunction usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis?.document) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside);\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {\n  });\n  React.useEffect(() => {\n    const handlePointerDown = (event) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        let handleAndDispatchPointerDownOutsideEvent2 = function() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        };\n        var handleAndDispatchPointerDownOutsideEvent = handleAndDispatchPointerDownOutsideEvent2;\n        const eventDetail = { originalEvent: event };\n        if (event.pointerType === \"touch\") {\n          ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent2;\n          ownerDocument.addEventListener(\"click\", handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent2();\n        }\n      } else {\n        ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener(\"pointerdown\", handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener(\"pointerdown\", handlePointerDown);\n      ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => isPointerInsideReactTreeRef.current = true\n  };\n}\nfunction useFocusOutside(onFocusOutside, ownerDocument = globalThis?.document) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside);\n  const isFocusInsideReactTreeRef = React.useRef(false);\n  React.useEffect(() => {\n    const handleFocus = (event) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false\n        });\n      }\n    };\n    ownerDocument.addEventListener(\"focusin\", handleFocus);\n    return () => ownerDocument.removeEventListener(\"focusin\", handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n  return {\n    onFocusCapture: () => isFocusInsideReactTreeRef.current = true,\n    onBlurCapture: () => isFocusInsideReactTreeRef.current = false\n  };\n}\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\nvar Root = DismissableLayer;\nvar Branch = DismissableLayerBranch;\nexport {\n  Branch,\n  DismissableLayer,\n  DismissableLayerBranch,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/focus-guards.tsx\nimport * as React from \"react\";\nvar count = 0;\nfunction FocusGuards(props) {\n  useFocusGuards();\n  return props.children;\n}\nfunction useFocusGuards() {\n  React.useEffect(() => {\n    const edgeGuards = document.querySelectorAll(\"[data-radix-focus-guard]\");\n    document.body.insertAdjacentElement(\"afterbegin\", edgeGuards[0] ?? createFocusGuard());\n    document.body.insertAdjacentElement(\"beforeend\", edgeGuards[1] ?? createFocusGuard());\n    count++;\n    return () => {\n      if (count === 1) {\n        document.querySelectorAll(\"[data-radix-focus-guard]\").forEach((node) => node.remove());\n      }\n      count--;\n    };\n  }, []);\n}\nfunction createFocusGuard() {\n  const element = document.createElement(\"span\");\n  element.setAttribute(\"data-radix-focus-guard\", \"\");\n  element.tabIndex = 0;\n  element.style.outline = \"none\";\n  element.style.opacity = \"0\";\n  element.style.position = \"fixed\";\n  element.style.pointerEvents = \"none\";\n  return element;\n}\nexport {\n  FocusGuards,\n  FocusGuards as Root,\n  useFocusGuards\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/focus-scope.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AUTOFOCUS_ON_MOUNT = \"focusScope.autoFocusOnMount\";\nvar AUTOFOCUS_ON_UNMOUNT = \"focusScope.autoFocusOnUnmount\";\nvar EVENT_OPTIONS = { bubbles: false, cancelable: true };\nvar FOCUS_SCOPE_NAME = \"FocusScope\";\nvar FocusScope = React.forwardRef((props, forwardedRef) => {\n  const {\n    loop = false,\n    trapped = false,\n    onMountAutoFocus: onMountAutoFocusProp,\n    onUnmountAutoFocus: onUnmountAutoFocusProp,\n    ...scopeProps\n  } = props;\n  const [container, setContainer] = React.useState(null);\n  const onMountAutoFocus = useCallbackRef(onMountAutoFocusProp);\n  const onUnmountAutoFocus = useCallbackRef(onUnmountAutoFocusProp);\n  const lastFocusedElementRef = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContainer(node));\n  const focusScope = React.useRef({\n    paused: false,\n    pause() {\n      this.paused = true;\n    },\n    resume() {\n      this.paused = false;\n    }\n  }).current;\n  React.useEffect(() => {\n    if (trapped) {\n      let handleFocusIn2 = function(event) {\n        if (focusScope.paused || !container) return;\n        const target = event.target;\n        if (container.contains(target)) {\n          lastFocusedElementRef.current = target;\n        } else {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }, handleFocusOut2 = function(event) {\n        if (focusScope.paused || !container) return;\n        const relatedTarget = event.relatedTarget;\n        if (relatedTarget === null) return;\n        if (!container.contains(relatedTarget)) {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }, handleMutations2 = function(mutations) {\n        const focusedElement = document.activeElement;\n        if (focusedElement !== document.body) return;\n        for (const mutation of mutations) {\n          if (mutation.removedNodes.length > 0) focus(container);\n        }\n      };\n      var handleFocusIn = handleFocusIn2, handleFocusOut = handleFocusOut2, handleMutations = handleMutations2;\n      document.addEventListener(\"focusin\", handleFocusIn2);\n      document.addEventListener(\"focusout\", handleFocusOut2);\n      const mutationObserver = new MutationObserver(handleMutations2);\n      if (container) mutationObserver.observe(container, { childList: true, subtree: true });\n      return () => {\n        document.removeEventListener(\"focusin\", handleFocusIn2);\n        document.removeEventListener(\"focusout\", handleFocusOut2);\n        mutationObserver.disconnect();\n      };\n    }\n  }, [trapped, container, focusScope.paused]);\n  React.useEffect(() => {\n    if (container) {\n      focusScopesStack.add(focusScope);\n      const previouslyFocusedElement = document.activeElement;\n      const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n      if (!hasFocusedCandidate) {\n        const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n        container.addEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        container.dispatchEvent(mountEvent);\n        if (!mountEvent.defaultPrevented) {\n          focusFirst(removeLinks(getTabbableCandidates(container)), { select: true });\n          if (document.activeElement === previouslyFocusedElement) {\n            focus(container);\n          }\n        }\n      }\n      return () => {\n        container.removeEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        setTimeout(() => {\n          const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS);\n          container.addEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          container.dispatchEvent(unmountEvent);\n          if (!unmountEvent.defaultPrevented) {\n            focus(previouslyFocusedElement ?? document.body, { select: true });\n          }\n          container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          focusScopesStack.remove(focusScope);\n        }, 0);\n      };\n    }\n  }, [container, onMountAutoFocus, onUnmountAutoFocus, focusScope]);\n  const handleKeyDown = React.useCallback(\n    (event) => {\n      if (!loop && !trapped) return;\n      if (focusScope.paused) return;\n      const isTabKey = event.key === \"Tab\" && !event.altKey && !event.ctrlKey && !event.metaKey;\n      const focusedElement = document.activeElement;\n      if (isTabKey && focusedElement) {\n        const container2 = event.currentTarget;\n        const [first, last] = getTabbableEdges(container2);\n        const hasTabbableElementsInside = first && last;\n        if (!hasTabbableElementsInside) {\n          if (focusedElement === container2) event.preventDefault();\n        } else {\n          if (!event.shiftKey && focusedElement === last) {\n            event.preventDefault();\n            if (loop) focus(first, { select: true });\n          } else if (event.shiftKey && focusedElement === first) {\n            event.preventDefault();\n            if (loop) focus(last, { select: true });\n          }\n        }\n      }\n    },\n    [loop, trapped, focusScope.paused]\n  );\n  return /* @__PURE__ */ jsx(Primitive.div, { tabIndex: -1, ...scopeProps, ref: composedRefs, onKeyDown: handleKeyDown });\n});\nFocusScope.displayName = FOCUS_SCOPE_NAME;\nfunction focusFirst(candidates, { select = false } = {}) {\n  const previouslyFocusedElement = document.activeElement;\n  for (const candidate of candidates) {\n    focus(candidate, { select });\n    if (document.activeElement !== previouslyFocusedElement) return;\n  }\n}\nfunction getTabbableEdges(container) {\n  const candidates = getTabbableCandidates(container);\n  const first = findVisible(candidates, container);\n  const last = findVisible(candidates.reverse(), container);\n  return [first, last];\n}\nfunction getTabbableCandidates(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nfunction findVisible(elements, container) {\n  for (const element of elements) {\n    if (!isHidden(element, { upTo: container })) return element;\n  }\n}\nfunction isHidden(node, { upTo }) {\n  if (getComputedStyle(node).visibility === \"hidden\") return true;\n  while (node) {\n    if (upTo !== void 0 && node === upTo) return false;\n    if (getComputedStyle(node).display === \"none\") return true;\n    node = node.parentElement;\n  }\n  return false;\n}\nfunction isSelectableInput(element) {\n  return element instanceof HTMLInputElement && \"select\" in element;\n}\nfunction focus(element, { select = false } = {}) {\n  if (element && element.focus) {\n    const previouslyFocusedElement = document.activeElement;\n    element.focus({ preventScroll: true });\n    if (element !== previouslyFocusedElement && isSelectableInput(element) && select)\n      element.select();\n  }\n}\nvar focusScopesStack = createFocusScopesStack();\nfunction createFocusScopesStack() {\n  let stack = [];\n  return {\n    add(focusScope) {\n      const activeFocusScope = stack[0];\n      if (focusScope !== activeFocusScope) {\n        activeFocusScope?.pause();\n      }\n      stack = arrayRemove(stack, focusScope);\n      stack.unshift(focusScope);\n    },\n    remove(focusScope) {\n      stack = arrayRemove(stack, focusScope);\n      stack[0]?.resume();\n    }\n  };\n}\nfunction arrayRemove(array, item) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1) {\n    updatedArray.splice(index, 1);\n  }\n  return updatedArray;\n}\nfunction removeLinks(items) {\n  return items.filter((item) => item.tagName !== \"A\");\n}\nvar Root = FocusScope;\nexport {\n  FocusScope,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/id/src/id.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useReactId = React[\" useId \".trim().toString()] || (() => void 0);\nvar count = 0;\nfunction useId(deterministicId) {\n  const [id, setId] = React.useState(useReactId());\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : \"\");\n}\nexport {\n  useId\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","import { computePosition, arrow as arrow$2, autoPlacement as autoPlacement$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar isClient = typeof document !== 'undefined';\n\nvar noop = function noop() {};\nvar index = isClient ? useLayoutEffect : noop;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n","// src/arrow.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Arrow\";\nvar Arrow = React.forwardRef((props, forwardedRef) => {\n  const { children, width = 10, height = 5, ...arrowProps } = props;\n  return /* @__PURE__ */ jsx(\n    Primitive.svg,\n    {\n      ...arrowProps,\n      ref: forwardedRef,\n      width,\n      height,\n      viewBox: \"0 0 30 10\",\n      preserveAspectRatio: \"none\",\n      children: props.asChild ? children : /* @__PURE__ */ jsx(\"polygon\", { points: \"0,0 30,0 15,10\" })\n    }\n  );\n});\nArrow.displayName = NAME;\nvar Root = Arrow;\nexport {\n  Arrow,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-size/src/use-size.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nfunction useSize(element) {\n  const [size, setSize] = React.useState(void 0);\n  useLayoutEffect(() => {\n    if (element) {\n      setSize({ width: element.offsetWidth, height: element.offsetHeight });\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n        if (!entries.length) {\n          return;\n        }\n        const entry = entries[0];\n        let width;\n        let height;\n        if (\"borderBoxSize\" in entry) {\n          const borderSizeEntry = entry[\"borderBoxSize\"];\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize[\"inlineSize\"];\n          height = borderSize[\"blockSize\"];\n        } else {\n          width = element.offsetWidth;\n          height = element.offsetHeight;\n        }\n        setSize({ width, height });\n      });\n      resizeObserver.observe(element, { box: \"border-box\" });\n      return () => resizeObserver.unobserve(element);\n    } else {\n      setSize(void 0);\n    }\n  }, [element]);\n  return size;\n}\nexport {\n  useSize\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/popper.tsx\nimport * as React from \"react\";\nimport {\n  useFloating,\n  autoUpdate,\n  offset,\n  shift,\n  limitShift,\n  hide,\n  arrow as floatingUIarrow,\n  flip,\n  size\n} from \"@floating-ui/react-dom\";\nimport * as ArrowPrimitive from \"@radix-ui/react-arrow\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nvar ALIGN_OPTIONS = [\"start\", \"center\", \"end\"];\nvar POPPER_NAME = \"Popper\";\nvar [createPopperContext, createPopperScope] = createContextScope(POPPER_NAME);\nvar [PopperProvider, usePopperContext] = createPopperContext(POPPER_NAME);\nvar Popper = (props) => {\n  const { __scopePopper, children } = props;\n  const [anchor, setAnchor] = React.useState(null);\n  return /* @__PURE__ */ jsx(PopperProvider, { scope: __scopePopper, anchor, onAnchorChange: setAnchor, children });\n};\nPopper.displayName = POPPER_NAME;\nvar ANCHOR_NAME = \"PopperAnchor\";\nvar PopperAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopper, virtualRef, ...anchorProps } = props;\n    const context = usePopperContext(ANCHOR_NAME, __scopePopper);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const anchorRef = React.useRef(null);\n    React.useEffect(() => {\n      const previousAnchor = anchorRef.current;\n      anchorRef.current = virtualRef?.current || ref.current;\n      if (previousAnchor !== anchorRef.current) {\n        context.onAnchorChange(anchorRef.current);\n      }\n    });\n    return virtualRef ? null : /* @__PURE__ */ jsx(Primitive.div, { ...anchorProps, ref: composedRefs });\n  }\n);\nPopperAnchor.displayName = ANCHOR_NAME;\nvar CONTENT_NAME = \"PopperContent\";\nvar [PopperContentProvider, useContentContext] = createPopperContext(CONTENT_NAME);\nvar PopperContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopper,\n      side = \"bottom\",\n      sideOffset = 0,\n      align = \"center\",\n      alignOffset = 0,\n      arrowPadding = 0,\n      avoidCollisions = true,\n      collisionBoundary = [],\n      collisionPadding: collisionPaddingProp = 0,\n      sticky = \"partial\",\n      hideWhenDetached = false,\n      updatePositionStrategy = \"optimized\",\n      onPlaced,\n      ...contentProps\n    } = props;\n    const context = usePopperContext(CONTENT_NAME, __scopePopper);\n    const [content, setContent] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [arrow, setArrow] = React.useState(null);\n    const arrowSize = useSize(arrow);\n    const arrowWidth = arrowSize?.width ?? 0;\n    const arrowHeight = arrowSize?.height ?? 0;\n    const desiredPlacement = side + (align !== \"center\" ? \"-\" + align : \"\");\n    const collisionPadding = typeof collisionPaddingProp === \"number\" ? collisionPaddingProp : { top: 0, right: 0, bottom: 0, left: 0, ...collisionPaddingProp };\n    const boundary = Array.isArray(collisionBoundary) ? collisionBoundary : [collisionBoundary];\n    const hasExplicitBoundaries = boundary.length > 0;\n    const detectOverflowOptions = {\n      padding: collisionPadding,\n      boundary: boundary.filter(isNotNull),\n      // with `strategy: 'fixed'`, this is the only way to get it to respect boundaries\n      altBoundary: hasExplicitBoundaries\n    };\n    const { refs, floatingStyles, placement, isPositioned, middlewareData } = useFloating({\n      // default to `fixed` strategy so users don't have to pick and we also avoid focus scroll issues\n      strategy: \"fixed\",\n      placement: desiredPlacement,\n      whileElementsMounted: (...args) => {\n        const cleanup = autoUpdate(...args, {\n          animationFrame: updatePositionStrategy === \"always\"\n        });\n        return cleanup;\n      },\n      elements: {\n        reference: context.anchor\n      },\n      middleware: [\n        offset({ mainAxis: sideOffset + arrowHeight, alignmentAxis: alignOffset }),\n        avoidCollisions && shift({\n          mainAxis: true,\n          crossAxis: false,\n          limiter: sticky === \"partial\" ? limitShift() : void 0,\n          ...detectOverflowOptions\n        }),\n        avoidCollisions && flip({ ...detectOverflowOptions }),\n        size({\n          ...detectOverflowOptions,\n          apply: ({ elements, rects, availableWidth, availableHeight }) => {\n            const { width: anchorWidth, height: anchorHeight } = rects.reference;\n            const contentStyle = elements.floating.style;\n            contentStyle.setProperty(\"--radix-popper-available-width\", `${availableWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-available-height\", `${availableHeight}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-width\", `${anchorWidth}px`);\n            contentStyle.setProperty(\"--radix-popper-anchor-height\", `${anchorHeight}px`);\n          }\n        }),\n        arrow && floatingUIarrow({ element: arrow, padding: arrowPadding }),\n        transformOrigin({ arrowWidth, arrowHeight }),\n        hideWhenDetached && hide({ strategy: \"referenceHidden\", ...detectOverflowOptions })\n      ]\n    });\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const handlePlaced = useCallbackRef(onPlaced);\n    useLayoutEffect(() => {\n      if (isPositioned) {\n        handlePlaced?.();\n      }\n    }, [isPositioned, handlePlaced]);\n    const arrowX = middlewareData.arrow?.x;\n    const arrowY = middlewareData.arrow?.y;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const [contentZIndex, setContentZIndex] = React.useState();\n    useLayoutEffect(() => {\n      if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n    }, [content]);\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        ref: refs.setFloating,\n        \"data-radix-popper-content-wrapper\": \"\",\n        style: {\n          ...floatingStyles,\n          transform: isPositioned ? floatingStyles.transform : \"translate(0, -200%)\",\n          // keep off the page when measuring\n          minWidth: \"max-content\",\n          zIndex: contentZIndex,\n          [\"--radix-popper-transform-origin\"]: [\n            middlewareData.transformOrigin?.x,\n            middlewareData.transformOrigin?.y\n          ].join(\" \"),\n          // hide the content if using the hide middleware and should be hidden\n          // set visibility to hidden and disable pointer events so the UI behaves\n          // as if the PopperContent isn't there at all\n          ...middlewareData.hide?.referenceHidden && {\n            visibility: \"hidden\",\n            pointerEvents: \"none\"\n          }\n        },\n        dir: props.dir,\n        children: /* @__PURE__ */ jsx(\n          PopperContentProvider,\n          {\n            scope: __scopePopper,\n            placedSide,\n            onArrowChange: setArrow,\n            arrowX,\n            arrowY,\n            shouldHideArrow: cannotCenterArrow,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                \"data-side\": placedSide,\n                \"data-align\": placedAlign,\n                ...contentProps,\n                ref: composedRefs,\n                style: {\n                  ...contentProps.style,\n                  // if the PopperContent hasn't been placed yet (not all measurements done)\n                  // we prevent animations so that users's animation don't kick in too early referring wrong sides\n                  animation: !isPositioned ? \"none\" : void 0\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nPopperContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"PopperArrow\";\nvar OPPOSITE_SIDE = {\n  top: \"bottom\",\n  right: \"left\",\n  bottom: \"top\",\n  left: \"right\"\n};\nvar PopperArrow = React.forwardRef(function PopperArrow2(props, forwardedRef) {\n  const { __scopePopper, ...arrowProps } = props;\n  const contentContext = useContentContext(ARROW_NAME, __scopePopper);\n  const baseSide = OPPOSITE_SIDE[contentContext.placedSide];\n  return (\n    // we have to use an extra wrapper because `ResizeObserver` (used by `useSize`)\n    // doesn't report size as we'd expect on SVG elements.\n    // it reports their bounding box which is effectively the largest path inside the SVG.\n    /* @__PURE__ */ jsx(\n      \"span\",\n      {\n        ref: contentContext.onArrowChange,\n        style: {\n          position: \"absolute\",\n          left: contentContext.arrowX,\n          top: contentContext.arrowY,\n          [baseSide]: 0,\n          transformOrigin: {\n            top: \"\",\n            right: \"0 0\",\n            bottom: \"center 0\",\n            left: \"100% 0\"\n          }[contentContext.placedSide],\n          transform: {\n            top: \"translateY(100%)\",\n            right: \"translateY(50%) rotate(90deg) translateX(-50%)\",\n            bottom: `rotate(180deg)`,\n            left: \"translateY(50%) rotate(-90deg) translateX(50%)\"\n          }[contentContext.placedSide],\n          visibility: contentContext.shouldHideArrow ? \"hidden\" : void 0\n        },\n        children: /* @__PURE__ */ jsx(\n          ArrowPrimitive.Root,\n          {\n            ...arrowProps,\n            ref: forwardedRef,\n            style: {\n              ...arrowProps.style,\n              // ensures the element can be measured correctly (mostly for if SVG)\n              display: \"block\"\n            }\n          }\n        )\n      }\n    )\n  );\n});\nPopperArrow.displayName = ARROW_NAME;\nfunction isNotNull(value) {\n  return value !== null;\n}\nvar transformOrigin = (options) => ({\n  name: \"transformOrigin\",\n  options,\n  fn(data) {\n    const { placement, rects, middlewareData } = data;\n    const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n    const isArrowHidden = cannotCenterArrow;\n    const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n    const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n    const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n    const noArrowAlign = { start: \"0%\", center: \"50%\", end: \"100%\" }[placedAlign];\n    const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n    const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n    let x = \"\";\n    let y = \"\";\n    if (placedSide === \"bottom\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${-arrowHeight}px`;\n    } else if (placedSide === \"top\") {\n      x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n      y = `${rects.floating.height + arrowHeight}px`;\n    } else if (placedSide === \"right\") {\n      x = `${-arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    } else if (placedSide === \"left\") {\n      x = `${rects.floating.width + arrowHeight}px`;\n      y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n    }\n    return { data: { x, y } };\n  }\n});\nfunction getSideAndAlignFromPlacement(placement) {\n  const [side, align = \"center\"] = placement.split(\"-\");\n  return [side, align];\n}\nvar Root2 = Popper;\nvar Anchor = PopperAnchor;\nvar Content = PopperContent;\nvar Arrow = PopperArrow;\nexport {\n  ALIGN_OPTIONS,\n  Anchor,\n  Arrow,\n  Content,\n  Popper,\n  PopperAnchor,\n  PopperArrow,\n  PopperContent,\n  Root2 as Root,\n  SIDE_OPTIONS,\n  createPopperScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/portal.tsx\nimport * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PORTAL_NAME = \"Portal\";\nvar Portal = React.forwardRef((props, forwardedRef) => {\n  const { container: containerProp, ...portalProps } = props;\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => setMounted(true), []);\n  const container = containerProp || mounted && globalThis?.document?.body;\n  return container ? ReactDOM.createPortal(/* @__PURE__ */ jsx(Primitive.div, { ...portalProps, ref: forwardedRef }), container) : null;\n});\nPortal.displayName = PORTAL_NAME;\nvar Root = Portal;\nexport {\n  Portal,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","// src/use-controllable-state.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// src/use-controllable-state-reducer.tsx\nimport * as React2 from \"react\";\nimport { useEffectEvent } from \"@radix-ui/react-use-effect-event\";\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\nfunction useControllableStateReducer(reducer, userArgs, initialArg, init) {\n  const { prop: controlledState, defaultProp, onChange: onChangeProp, caller } = userArgs;\n  const isControlled = controlledState !== void 0;\n  const onChange = useEffectEvent(onChangeProp);\n  if (true) {\n    const isControlledRef = React2.useRef(controlledState !== void 0);\n    React2.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const args = [{ ...initialArg, state: defaultProp }];\n  if (init) {\n    args.push(init);\n  }\n  const [internalState, dispatch] = React2.useReducer(\n    (state2, action) => {\n      if (action.type === SYNC_STATE) {\n        return { ...state2, state: action.state };\n      }\n      const next = reducer(state2, action);\n      if (isControlled && !Object.is(next.state, state2.state)) {\n        onChange(next.state);\n      }\n      return next;\n    },\n    ...args\n  );\n  const uncontrolledState = internalState.state;\n  const prevValueRef = React2.useRef(uncontrolledState);\n  React2.useEffect(() => {\n    if (prevValueRef.current !== uncontrolledState) {\n      prevValueRef.current = uncontrolledState;\n      if (!isControlled) {\n        onChange(uncontrolledState);\n      }\n    }\n  }, [onChange, uncontrolledState, prevValueRef, isControlled]);\n  const state = React2.useMemo(() => {\n    const isControlled2 = controlledState !== void 0;\n    if (isControlled2) {\n      return { ...internalState, state: controlledState };\n    }\n    return internalState;\n  }, [internalState, controlledState]);\n  React2.useEffect(() => {\n    if (isControlled && !Object.is(controlledState, internalState.state)) {\n      dispatch({ type: SYNC_STATE, state: controlledState });\n    }\n  }, [controlledState, internalState.state, isControlled]);\n  return [state, dispatch];\n}\nexport {\n  useControllableState,\n  useControllableStateReducer\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/roving-focus-group.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { jsx } from \"react/jsx-runtime\";\nvar ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nvar EVENT_OPTIONS = { bubbles: false, cancelable: true };\nvar GROUP_NAME = \"RovingFocusGroup\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(GROUP_NAME);\nvar [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\nvar [RovingFocusProvider, useRovingFocusContext] = createRovingFocusGroupContext(GROUP_NAME);\nvar RovingFocusGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(RovingFocusGroupImpl, { ...props, ref: forwardedRef }) }) });\n  }\n);\nRovingFocusGroup.displayName = GROUP_NAME;\nvar RovingFocusGroupImpl = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    preventScrollOnEntryFocus = false,\n    ...groupProps\n  } = props;\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId ?? null,\n    onChange: onCurrentTabStopIdChange,\n    caller: GROUP_NAME\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n  return /* @__PURE__ */ jsx(\n    RovingFocusProvider,\n    {\n      scope: __scopeRovingFocusGroup,\n      orientation,\n      dir: direction,\n      loop,\n      currentTabStopId,\n      onItemFocus: React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      ),\n      onItemShiftTab: React.useCallback(() => setIsTabbingBackOut(true), []),\n      onFocusableItemAdd: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      ),\n      onFocusableItemRemove: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      ),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          tabIndex: isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0,\n          \"data-orientation\": orientation,\n          ...groupProps,\n          ref: composedRefs,\n          style: { outline: \"none\", ...props.style },\n          onMouseDown: composeEventHandlers(props.onMouseDown, () => {\n            isClickFocusRef.current = true;\n          }),\n          onFocus: composeEventHandlers(props.onFocus, (event) => {\n            const isKeyboardFocus = !isClickFocusRef.current;\n            if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n              const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n              event.currentTarget.dispatchEvent(entryFocusEvent);\n              if (!entryFocusEvent.defaultPrevented) {\n                const items = getItems().filter((item) => item.focusable);\n                const activeItem = items.find((item) => item.active);\n                const currentItem = items.find((item) => item.id === currentTabStopId);\n                const candidateItems = [activeItem, currentItem, ...items].filter(\n                  Boolean\n                );\n                const candidateNodes = candidateItems.map((item) => item.ref.current);\n                focusFirst(candidateNodes, preventScrollOnEntryFocus);\n              }\n            }\n            isClickFocusRef.current = false;\n          }),\n          onBlur: composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))\n        }\n      )\n    }\n  );\n});\nvar ITEM_NAME = \"RovingFocusGroupItem\";\nvar RovingFocusGroupItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      children,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n    const { onFocusableItemAdd, onFocusableItemRemove, currentTabStopId } = context;\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeRovingFocusGroup,\n        id,\n        focusable,\n        active,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            tabIndex: isCurrentTabStop ? 0 : -1,\n            \"data-orientation\": context.orientation,\n            ...itemProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!focusable) event.preventDefault();\n              else context.onItemFocus(id);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => context.onItemFocus(id)),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if (event.key === \"Tab\" && event.shiftKey) {\n                context.onItemShiftTab();\n                return;\n              }\n              if (event.target !== event.currentTarget) return;\n              const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n              if (focusIntent !== void 0) {\n                if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n                event.preventDefault();\n                const items = getItems().filter((item) => item.focusable);\n                let candidateNodes = items.map((item) => item.ref.current);\n                if (focusIntent === \"last\") candidateNodes.reverse();\n                else if (focusIntent === \"prev\" || focusIntent === \"next\") {\n                  if (focusIntent === \"prev\") candidateNodes.reverse();\n                  const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                  candidateNodes = context.loop ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n                }\n                setTimeout(() => focusFirst(candidateNodes));\n              }\n            }),\n            children: typeof children === \"function\" ? children({ isCurrentTabStop, hasTabStop: currentTabStopId != null }) : children\n          }\n        )\n      }\n    );\n  }\n);\nRovingFocusGroupItem.displayName = ITEM_NAME;\nvar MAP_KEY_TO_FOCUS_INTENT = {\n  ArrowLeft: \"prev\",\n  ArrowUp: \"prev\",\n  ArrowRight: \"next\",\n  ArrowDown: \"next\",\n  PageUp: \"first\",\n  Home: \"first\",\n  PageDown: \"last\",\n  End: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n  if (dir !== \"rtl\") return key;\n  return key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key)) return void 0;\n  if (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key)) return void 0;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus({ preventScroll });\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root = RovingFocusGroup;\nvar Item = RovingFocusGroupItem;\nexport {\n  Item,\n  Root,\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  createRovingFocusGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","import * as React from 'react';\nimport { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar currentValues = new WeakMap();\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); //  merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    var callbackRef = useCallbackRef(defaultValue || null, function (newValue) {\n        return refs.forEach(function (ref) { return assignRef(ref, newValue); });\n    });\n    // handle refs changes - added or removed\n    useIsomorphicLayoutEffect(function () {\n        var oldValue = currentValues.get(callbackRef);\n        if (oldValue) {\n            var prevRefs_1 = new Set(oldValue);\n            var nextRefs_1 = new Set(refs);\n            var current_1 = callbackRef.current;\n            prevRefs_1.forEach(function (ref) {\n                if (!nextRefs_1.has(ref)) {\n                    assignRef(ref, null);\n                }\n            });\n            nextRefs_1.forEach(function (ref) {\n                if (!prevRefs_1.has(ref)) {\n                    assignRef(ref, current_1);\n                }\n            });\n        }\n        currentValues.set(callbackRef, refs);\n    }, [refs]);\n    return callbackRef;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noRelative = props.noRelative, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, gapMode = props.gapMode, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noRelative\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\", \"gapMode\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noRelative: noRelative, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref, gapMode: gapMode })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\nexport var lockAttribute = 'data-scroll-locked';\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body[\").concat(lockAttribute, \"] {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body[\").concat(lockAttribute, \"] {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\nvar getCurrentUseCounter = function () {\n    var counter = parseInt(document.body.getAttribute(lockAttribute) || '0', 10);\n    return isFinite(counter) ? counter : 0;\n};\nexport var useLockAttribute = function () {\n    React.useEffect(function () {\n        document.body.setAttribute(lockAttribute, (getCurrentUseCounter() + 1).toString());\n        return function () {\n            var newCounter = getCurrentUseCounter() - 1;\n            if (newCounter <= 0) {\n                document.body.removeAttribute(lockAttribute);\n            }\n            else {\n                document.body.setAttribute(lockAttribute, newCounter.toString());\n            }\n        };\n    }, []);\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (_a) {\n    var noRelative = _a.noRelative, noImportant = _a.noImportant, _b = _a.gapMode, gapMode = _b === void 0 ? 'margin' : _b;\n    useLockAttribute();\n    /*\n     gap will be measured on every component mount\n     however it will be used only by the \"first\" invocation\n     due to singleton nature of <Style\n     */\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        // we will \"bubble\" from ShadowDom in case we are, or just to the parent in normal case\n        // this is the same logic used in focus-lock\n        target = (parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1);\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        // allow drag selection (iOS); check if selection's anchorNode is the same as target or contains target\n        var selection = window.getSelection();\n        var anchorNode = selection && selection.anchorNode;\n        var isTouchingSelection = anchorNode ? anchorNode === target || anchorNode.contains(target) : false;\n        if (isTouchingSelection) {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { noRelative: props.noRelative, gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","\"use client\";\n\n// src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/context-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CONTEXT_MENU_NAME = \"ContextMenu\";\nvar [createContextMenuContext, createContextMenuScope] = createContextScope(CONTEXT_MENU_NAME, [\n  createMenuScope\n]);\nvar useMenuScope = createMenuScope();\nvar [ContextMenuProvider, useContextMenuContext] = createContextMenuContext(CONTEXT_MENU_NAME);\nvar ContextMenu = (props) => {\n  const { __scopeContextMenu, children, onOpenChange, dir, modal = true } = props;\n  const [open, setOpen] = React.useState(false);\n  const menuScope = useMenuScope(__scopeContextMenu);\n  const handleOpenChangeProp = useCallbackRef(onOpenChange);\n  const handleOpenChange = React.useCallback(\n    (open2) => {\n      setOpen(open2);\n      handleOpenChangeProp(open2);\n    },\n    [handleOpenChangeProp]\n  );\n  return /* @__PURE__ */ jsx(\n    ContextMenuProvider,\n    {\n      scope: __scopeContextMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      modal,\n      children: /* @__PURE__ */ jsx(\n        MenuPrimitive.Root,\n        {\n          ...menuScope,\n          dir,\n          open,\n          onOpenChange: handleOpenChange,\n          modal,\n          children\n        }\n      )\n    }\n  );\n};\nContextMenu.displayName = CONTEXT_MENU_NAME;\nvar TRIGGER_NAME = \"ContextMenuTrigger\";\nvar ContextMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, disabled = false, ...triggerProps } = props;\n    const context = useContextMenuContext(TRIGGER_NAME, __scopeContextMenu);\n    const menuScope = useMenuScope(__scopeContextMenu);\n    const pointRef = React.useRef({ x: 0, y: 0 });\n    const virtualRef = React.useRef({\n      getBoundingClientRect: () => DOMRect.fromRect({ width: 0, height: 0, ...pointRef.current })\n    });\n    const longPressTimerRef = React.useRef(0);\n    const clearLongPress = React.useCallback(\n      () => window.clearTimeout(longPressTimerRef.current),\n      []\n    );\n    const handleOpen = (event) => {\n      pointRef.current = { x: event.clientX, y: event.clientY };\n      context.onOpenChange(true);\n    };\n    React.useEffect(() => clearLongPress, [clearLongPress]);\n    React.useEffect(() => void (disabled && clearLongPress()), [disabled, clearLongPress]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { ...menuScope, virtualRef }),\n      /* @__PURE__ */ jsx(\n        Primitive.span,\n        {\n          \"data-state\": context.open ? \"open\" : \"closed\",\n          \"data-disabled\": disabled ? \"\" : void 0,\n          ...triggerProps,\n          ref: forwardedRef,\n          style: { WebkitTouchCallout: \"none\", ...props.style },\n          onContextMenu: disabled ? props.onContextMenu : composeEventHandlers(props.onContextMenu, (event) => {\n            clearLongPress();\n            handleOpen(event);\n            event.preventDefault();\n          }),\n          onPointerDown: disabled ? props.onPointerDown : composeEventHandlers(\n            props.onPointerDown,\n            whenTouchOrPen((event) => {\n              clearLongPress();\n              longPressTimerRef.current = window.setTimeout(() => handleOpen(event), 700);\n            })\n          ),\n          onPointerMove: disabled ? props.onPointerMove : composeEventHandlers(props.onPointerMove, whenTouchOrPen(clearLongPress)),\n          onPointerCancel: disabled ? props.onPointerCancel : composeEventHandlers(props.onPointerCancel, whenTouchOrPen(clearLongPress)),\n          onPointerUp: disabled ? props.onPointerUp : composeEventHandlers(props.onPointerUp, whenTouchOrPen(clearLongPress))\n        }\n      )\n    ] });\n  }\n);\nContextMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"ContextMenuPortal\";\nvar ContextMenuPortal = (props) => {\n  const { __scopeContextMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nContextMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"ContextMenuContent\";\nvar ContextMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, ...contentProps } = props;\n    const context = useContextMenuContext(CONTENT_NAME, __scopeContextMenu);\n    const menuScope = useMenuScope(__scopeContextMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        side: \"right\",\n        sideOffset: 2,\n        align: \"start\",\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented && hasInteractedOutsideRef.current) {\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented && !context.modal) hasInteractedOutsideRef.current = true;\n        },\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-context-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-context-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-context-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-context-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-context-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nContextMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"ContextMenuGroup\";\nvar ContextMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeContextMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nContextMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"ContextMenuLabel\";\nvar ContextMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeContextMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nContextMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"ContextMenuItem\";\nvar ContextMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeContextMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nContextMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"ContextMenuCheckboxItem\";\nvar ContextMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nContextMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"ContextMenuRadioGroup\";\nvar ContextMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nContextMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"ContextMenuRadioItem\";\nvar ContextMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nContextMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"ContextMenuItemIndicator\";\nvar ContextMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nContextMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"ContextMenuSeparator\";\nvar ContextMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nContextMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"ContextMenuArrow\";\nvar ContextMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeContextMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeContextMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nContextMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"ContextMenuSub\";\nvar ContextMenuSub = (props) => {\n  const { __scopeContextMenu, children, onOpenChange, open: openProp, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SUB_NAME\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nContextMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"ContextMenuSubTrigger\";\nvar ContextMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...triggerItemProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...triggerItemProps, ref: forwardedRef });\n});\nContextMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"ContextMenuSubContent\";\nvar ContextMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeContextMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeContextMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-context-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-context-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-context-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-context-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-context-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nContextMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction whenTouchOrPen(handler) {\n  return (event) => event.pointerType !== \"mouse\" ? handler(event) : void 0;\n}\nvar Root2 = ContextMenu;\nvar Trigger = ContextMenuTrigger;\nvar Portal2 = ContextMenuPortal;\nvar Content2 = ContextMenuContent;\nvar Group2 = ContextMenuGroup;\nvar Label2 = ContextMenuLabel;\nvar Item2 = ContextMenuItem;\nvar CheckboxItem2 = ContextMenuCheckboxItem;\nvar RadioGroup2 = ContextMenuRadioGroup;\nvar RadioItem2 = ContextMenuRadioItem;\nvar ItemIndicator2 = ContextMenuItemIndicator;\nvar Separator2 = ContextMenuSeparator;\nvar Arrow2 = ContextMenuArrow;\nvar Sub2 = ContextMenuSub;\nvar SubTrigger2 = ContextMenuSubTrigger;\nvar SubContent2 = ContextMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  ContextMenu,\n  ContextMenuArrow,\n  ContextMenuCheckboxItem,\n  ContextMenuContent,\n  ContextMenuGroup,\n  ContextMenuItem,\n  ContextMenuItemIndicator,\n  ContextMenuLabel,\n  ContextMenuPortal,\n  ContextMenuRadioGroup,\n  ContextMenuRadioItem,\n  ContextMenuSeparator,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createContextMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\nconst ContextMenuGroup = ContextMenuPrimitive.Group\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\nconst ContextMenuSub = ContextMenuPrimitive.Sub\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName = ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","import React, { memo } from 'react'\nimport { useSortable } from '@dnd-kit/sortable'\nimport { CSS } from '@dnd-kit/utilities'\nimport { Slide, SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types'\nimport {\n  ContextMenu,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuSeparator,\n  ContextMenuTrigger,\n} from '@/components/ui/context-menu'\nimport { Copy, Trash2, EyeOff, Eye } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface SlideThumbnailProps {\n  slide: Slide\n  index: number\n  isActive: boolean\n  onSelect: () => void\n  onDuplicate: () => void\n  onDelete: () => void\n  onToggleHidden?: () => void\n}\n\nexport const SlideThumbnail = memo(function SlideThumbnail({\n  slide,\n  index,\n  isActive,\n  onSelect,\n  onDuplicate,\n  onDelete,\n  onToggleHidden,\n}: SlideThumbnailProps) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id: slide.id })\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  }\n\n  // Calculate thumbnail dimensions (maintaining aspect ratio)\n  const thumbnailWidth = 120\n  const thumbnailHeight = thumbnailWidth * (SLIDE_HEIGHT / SLIDE_WIDTH)\n\n  // Get background style\n  const getBackgroundStyle = (): React.CSSProperties => {\n    if (slide.background.type === 'solid') {\n      return { backgroundColor: slide.background.color || '#FFFFFF' }\n    }\n    if (slide.background.type === 'image' && slide.background.imageUrl) {\n      return {\n        backgroundImage: `url(${slide.background.imageUrl})`,\n        backgroundSize: slide.background.imageFit || 'cover',\n        backgroundPosition: 'center',\n      }\n    }\n    return { backgroundColor: '#FFFFFF' }\n  }\n\n  return (\n    <ContextMenu>\n      <ContextMenuTrigger>\n        <div\n          ref={setNodeRef}\n          style={style}\n          {...attributes}\n          {...listeners}\n          onClick={onSelect}\n          className={cn(\n            'relative cursor-pointer group',\n            isDragging && 'opacity-50 z-50'\n          )}\n        >\n          {/* Slide number */}\n          <div className=\"absolute -left-6 top-1/2 -translate-y-1/2 text-xs text-muted-foreground w-5 text-right\">\n            {index + 1}\n          </div>\n\n          {/* Thumbnail container */}\n          <div\n            className={cn(\n              'relative rounded border-2 overflow-hidden shadow-sm transition-all',\n              isActive ? 'border-primary ring-2 ring-primary/30' : 'border-transparent hover:border-primary/50',\n              slide.hidden && 'opacity-50'\n            )}\n            style={{\n              width: thumbnailWidth,\n              height: thumbnailHeight,\n            }}\n          >\n            {/* Slide preview */}\n            <div\n              className=\"absolute inset-0\"\n              style={getBackgroundStyle()}\n            >\n              {/* Render slide elements as mini preview */}\n              <svg\n                width={thumbnailWidth}\n                height={thumbnailHeight}\n                viewBox={`0 0 ${SLIDE_WIDTH} ${SLIDE_HEIGHT}`}\n                className=\"absolute inset-0\"\n              >\n                {slide.elements\n                  .sort((a, b) => a.zIndex - b.zIndex)\n                  .map(element => (\n                    <ThumbnailElement key={element.id} element={element} />\n                  ))}\n              </svg>\n            </div>\n\n            {/* Hidden indicator */}\n            {slide.hidden && (\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/20\">\n                <EyeOff className=\"h-6 w-6 text-white\" />\n              </div>\n            )}\n          </div>\n        </div>\n      </ContextMenuTrigger>\n\n      <ContextMenuContent>\n        <ContextMenuItem onClick={onDuplicate}>\n          <Copy className=\"h-4 w-4 mr-2\" />\n          Duplicate Slide\n        </ContextMenuItem>\n        {onToggleHidden && (\n          <ContextMenuItem onClick={onToggleHidden}>\n            {slide.hidden ? (\n              <>\n                <Eye className=\"h-4 w-4 mr-2\" />\n                Show Slide\n              </>\n            ) : (\n              <>\n                <EyeOff className=\"h-4 w-4 mr-2\" />\n                Hide Slide\n              </>\n            )}\n          </ContextMenuItem>\n        )}\n        <ContextMenuSeparator />\n        <ContextMenuItem onClick={onDelete} className=\"text-destructive\">\n          <Trash2 className=\"h-4 w-4 mr-2\" />\n          Delete Slide\n        </ContextMenuItem>\n      </ContextMenuContent>\n    </ContextMenu>\n  )\n})\n\n// Simple element rendering for thumbnails - memoized\nconst ThumbnailElement = memo(function ThumbnailElement({ element }: { element: any }) {\n  const { position, size } = element\n\n  switch (element.type) {\n    case 'text':\n      return (\n        <rect\n          x={position.x}\n          y={position.y}\n          width={size.width}\n          height={size.height}\n          fill=\"transparent\"\n          stroke=\"#ccc\"\n          strokeWidth=\"1\"\n          strokeDasharray=\"4\"\n        />\n      )\n    case 'shape':\n      return (\n        <rect\n          x={position.x}\n          y={position.y}\n          width={size.width}\n          height={size.height}\n          fill={element.fill?.color || '#4472C4'}\n          stroke={element.stroke?.color || '#2F528F'}\n          strokeWidth={element.stroke?.width || 1}\n          rx={element.shapeType === 'roundedRectangle' ? 10 : 0}\n        />\n      )\n    case 'image':\n      return (\n        <image\n          x={position.x}\n          y={position.y}\n          width={size.width}\n          height={size.height}\n          href={element.src}\n          preserveAspectRatio=\"xMidYMid slice\"\n        />\n      )\n    default:\n      return null\n  }\n})\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/popover.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopePopover, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React.useRef(false);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return /* @__PURE__ */ jsx(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: /* @__PURE__ */ jsx(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: /* @__PURE__ */ jsx(\n              PopperPrimitive.Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root2 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal,\n  Root2 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\nvar REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nvar use = React[\" use \".trim().toString()];\nfunction isPromiseLike(value) {\n  return typeof value === \"object\" && value !== null && \"then\" in value;\n}\nfunction isLazyComponent(element) {\n  return element != null && typeof element === \"object\" && \"$$typeof\" in element && element.$$typeof === REACT_LAZY_TYPE && \"_payload\" in element && isPromiseLike(element._payload);\n}\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    let { children, ...slotProps } = props;\n    if (isLazyComponent(children) && typeof use === \"function\") {\n      children = use(children._payload);\n    }\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n        \"icon-sm\": \"h-8 w-8\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","import { SlideElement, TextElement, SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types'\nimport { generateId } from '@/utils'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Button } from '@/components/ui/button'\nimport { Plus } from 'lucide-react'\nimport { useState } from 'react'\n\nexport interface SlideLayout {\n  id: string\n  name: string\n  preview: React.ReactNode\n  createElements: () => SlideElement[]\n}\n\nfunction createTextElement(\n  text: string,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  style: {\n    fontSize?: number\n    fontWeight?: string\n    color?: string\n    alignment?: 'left' | 'center' | 'right'\n  } = {},\n): TextElement {\n  return {\n    id: generateId(),\n    type: 'text',\n    position: { x, y },\n    size: { width, height },\n    rotation: 0,\n    zIndex: 0,\n    style: {\n      padding: { top: 4, right: 8, bottom: 4, left: 8 },\n      verticalAlign: 'middle',\n      autoFit: false,\n      wordWrap: true,\n    },\n    content: {\n      paragraphs: [{\n        id: generateId(),\n        runs: [{\n          id: generateId(),\n          text,\n          style: {\n            fontFamily: 'Calibri',\n            fontSize: style.fontSize || 18,\n            fontWeight: (style.fontWeight || 'normal') as 'normal' | 'bold',\n            fontStyle: 'normal',\n            textDecoration: 'none',\n            color: style.color || '#000000',\n          },\n        }],\n        alignment: style.alignment || 'left',\n      }],\n    },\n  }\n}\n\nconst BUILT_IN_LAYOUTS: SlideLayout[] = [\n  {\n    id: 'blank',\n    name: 'Blank',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm\" />\n    ),\n    createElements: () => [],\n  },\n  {\n    id: 'title',\n    name: 'Title Slide',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm flex flex-col items-center justify-center p-2\">\n        <div className=\"w-3/4 h-1.5 bg-gray-800 rounded-sm mb-1\" />\n        <div className=\"w-1/2 h-1 bg-gray-400 rounded-sm\" />\n      </div>\n    ),\n    createElements: () => [\n      createTextElement('Click to add title', SLIDE_WIDTH * 0.1, SLIDE_HEIGHT * 0.3, SLIDE_WIDTH * 0.8, 60, {\n        fontSize: 36,\n        fontWeight: 'bold',\n        alignment: 'center',\n        color: '#333333',\n      }),\n      createTextElement('Click to add subtitle', SLIDE_WIDTH * 0.15, SLIDE_HEIGHT * 0.5, SLIDE_WIDTH * 0.7, 40, {\n        fontSize: 20,\n        alignment: 'center',\n        color: '#666666',\n      }),\n    ],\n  },\n  {\n    id: 'title-content',\n    name: 'Title and Content',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm flex flex-col p-1.5\">\n        <div className=\"w-3/4 h-1.5 bg-gray-800 rounded-sm mb-1\" />\n        <div className=\"flex-1 border border-dashed border-gray-300 rounded-sm\" />\n      </div>\n    ),\n    createElements: () => [\n      createTextElement('Click to add title', SLIDE_WIDTH * 0.05, 20, SLIDE_WIDTH * 0.9, 50, {\n        fontSize: 28,\n        fontWeight: 'bold',\n        color: '#333333',\n      }),\n      createTextElement('Click to add text', SLIDE_WIDTH * 0.05, 90, SLIDE_WIDTH * 0.9, SLIDE_HEIGHT - 120, {\n        fontSize: 18,\n        color: '#444444',\n      }),\n    ],\n  },\n  {\n    id: 'two-content',\n    name: 'Two Content',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm flex flex-col p-1.5\">\n        <div className=\"w-3/4 h-1.5 bg-gray-800 rounded-sm mb-1\" />\n        <div className=\"flex-1 flex gap-0.5\">\n          <div className=\"flex-1 border border-dashed border-gray-300 rounded-sm\" />\n          <div className=\"flex-1 border border-dashed border-gray-300 rounded-sm\" />\n        </div>\n      </div>\n    ),\n    createElements: () => [\n      createTextElement('Click to add title', SLIDE_WIDTH * 0.05, 20, SLIDE_WIDTH * 0.9, 50, {\n        fontSize: 28,\n        fontWeight: 'bold',\n        color: '#333333',\n      }),\n      createTextElement('Click to add text', SLIDE_WIDTH * 0.05, 90, SLIDE_WIDTH * 0.43, SLIDE_HEIGHT - 120, {\n        fontSize: 16,\n        color: '#444444',\n      }),\n      createTextElement('Click to add text', SLIDE_WIDTH * 0.52, 90, SLIDE_WIDTH * 0.43, SLIDE_HEIGHT - 120, {\n        fontSize: 16,\n        color: '#444444',\n      }),\n    ],\n  },\n  {\n    id: 'section-header',\n    name: 'Section Header',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm flex flex-col items-start justify-end p-2\">\n        <div className=\"w-3/4 h-1.5 bg-gray-800 rounded-sm mb-0.5\" />\n        <div className=\"w-full h-px bg-gray-300\" />\n        <div className=\"w-1/2 h-1 bg-gray-400 rounded-sm mt-0.5\" />\n      </div>\n    ),\n    createElements: () => [\n      createTextElement('Section Title', SLIDE_WIDTH * 0.05, SLIDE_HEIGHT * 0.55, SLIDE_WIDTH * 0.8, 50, {\n        fontSize: 32,\n        fontWeight: 'bold',\n        color: '#333333',\n      }),\n      createTextElement('Section description', SLIDE_WIDTH * 0.05, SLIDE_HEIGHT * 0.68, SLIDE_WIDTH * 0.6, 30, {\n        fontSize: 16,\n        color: '#888888',\n      }),\n    ],\n  },\n  {\n    id: 'title-only',\n    name: 'Title Only',\n    preview: (\n      <div className=\"w-full h-full bg-white rounded-sm flex flex-col p-1.5\">\n        <div className=\"w-3/4 h-1.5 bg-gray-800 rounded-sm\" />\n      </div>\n    ),\n    createElements: () => [\n      createTextElement('Click to add title', SLIDE_WIDTH * 0.05, 20, SLIDE_WIDTH * 0.9, 50, {\n        fontSize: 28,\n        fontWeight: 'bold',\n        color: '#333333',\n      }),\n    ],\n  },\n]\n\ninterface SlideLayoutPickerProps {\n  onSelectLayout: (elements: SlideElement[]) => void\n}\n\nexport function SlideLayoutPicker({ onSelectLayout }: SlideLayoutPickerProps) {\n  const [open, setOpen] = useState(false)\n\n  const handleSelect = (layout: SlideLayout) => {\n    onSelectLayout(layout.createElements())\n    setOpen(false)\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"icon-sm\"\n          title=\"Add Slide\"\n          className=\"h-6 w-6\"\n        >\n          <Plus className=\"h-3 w-3\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-64 p-2\" align=\"start\" side=\"right\">\n        <div className=\"text-xs font-medium text-muted-foreground mb-2\">Choose a layout</div>\n        <div className=\"grid grid-cols-3 gap-1.5\">\n          {BUILT_IN_LAYOUTS.map(layout => (\n            <button\n              key={layout.id}\n              onClick={() => handleSelect(layout)}\n              className=\"flex flex-col items-center gap-1 p-1 rounded hover:bg-muted transition-colors group\"\n              title={layout.name}\n            >\n              <div className=\"w-full aspect-video border border-gray-200 rounded-sm overflow-hidden group-hover:border-primary transition-colors\">\n                {layout.preview}\n              </div>\n              <span className=\"text-[9px] text-muted-foreground leading-tight truncate w-full text-center\">\n                {layout.name}\n              </span>\n            </button>\n          ))}\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n}\n","import {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragEndEvent,\n} from '@dnd-kit/core'\nimport {\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { SlideThumbnail } from './SlideThumbnail'\nimport { SlideLayoutPicker } from './SlideLayoutPicker'\nimport { usePresentation, useEditor, useSelection } from '@/context'\nimport { SlideElement } from '@/types'\n\nexport function SlidePanel() {\n  const {\n    presentation,\n    addSlide,\n    deleteSlide,\n    duplicateSlide,\n    reorderSlides,\n    updateSlide,\n  } = usePresentation()\n  const { editorState, setCurrentSlide } = useEditor()\n  const { deselectAll } = useSelection()\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  )\n\n  if (!presentation) return null\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n\n    if (over && active.id !== over.id) {\n      const oldIndex = presentation.slides.findIndex(s => s.id === active.id)\n      const newIndex = presentation.slides.findIndex(s => s.id === over.id)\n\n      if (oldIndex !== -1 && newIndex !== -1) {\n        reorderSlides(oldIndex, newIndex)\n      }\n    }\n  }\n\n  const handleSelectSlide = (slideId: string) => {\n    setCurrentSlide(slideId)\n    deselectAll()\n  }\n\n  const handleAddSlide = (layoutElements?: SlideElement[]) => {\n    const newSlide = addSlide(editorState.currentSlideId || undefined, layoutElements)\n    setCurrentSlide(newSlide.id)\n  }\n\n  const handleDuplicateSlide = (slideId: string) => {\n    const newSlide = duplicateSlide(slideId)\n    if (newSlide) {\n      setCurrentSlide(newSlide.id)\n    }\n  }\n\n  const handleDeleteSlide = (slideId: string) => {\n    // If deleting the current slide, select the previous or next\n    if (editorState.currentSlideId === slideId) {\n      const currentIndex = presentation.slides.findIndex(s => s.id === slideId)\n      const nextSlide = presentation.slides[currentIndex + 1] || presentation.slides[currentIndex - 1]\n      if (nextSlide) {\n        setCurrentSlide(nextSlide.id)\n      }\n    }\n    deleteSlide(slideId)\n  }\n\n  const handleToggleHidden = (slideId: string) => {\n    const slide = presentation.slides.find(s => s.id === slideId)\n    if (slide) {\n      updateSlide(slideId, { hidden: !slide.hidden })\n    }\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-2 py-1.5 border-b\">\n        <span className=\"text-xs font-medium\">Slides</span>\n        <SlideLayoutPicker onSelectLayout={(elements) => handleAddSlide(elements)} />\n      </div>\n\n      {/* Slide List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2 pl-6\">\n          <DndContext\n            sensors={sensors}\n            collisionDetection={closestCenter}\n            onDragEnd={handleDragEnd}\n          >\n            <SortableContext\n              items={presentation.slides.map(s => s.id)}\n              strategy={verticalListSortingStrategy}\n            >\n              <div className=\"space-y-2\">\n                {presentation.slides.map((slide, index) => (\n                  <SlideThumbnail\n                    key={slide.id}\n                    slide={slide}\n                    index={index}\n                    isActive={editorState.currentSlideId === slide.id}\n                    onSelect={() => handleSelectSlide(slide.id)}\n                    onDuplicate={() => handleDuplicateSlide(slide.id)}\n                    onDelete={() => handleDeleteSlide(slide.id)}\n                    onToggleHidden={() => handleToggleHidden(slide.id)}\n                  />\n                ))}\n              </div>\n            </SortableContext>\n          </DndContext>\n        </div>\n      </ScrollArea>\n    </div>\n  )\n}\n","import React, { useState, useCallback, useRef, useEffect } from 'react'\nimport { SlideElement, ResizeHandle } from '@/types'\nimport { useSelection, usePresentation } from '@/context'\n\ninterface ElementWrapperProps {\n  element: SlideElement\n  slideId: string\n  isSelected: boolean\n  isEditing?: boolean\n  children: React.ReactNode\n  onDoubleClick?: () => void\n}\n\nconst HANDLE_SIZE = 8\n\nconst resizeHandles: { id: ResizeHandle; cursor: string }[] = [\n  { id: 'top-left', cursor: 'nw-resize' },\n  { id: 'top', cursor: 'n-resize' },\n  { id: 'top-right', cursor: 'ne-resize' },\n  { id: 'right', cursor: 'e-resize' },\n  { id: 'bottom-right', cursor: 'se-resize' },\n  { id: 'bottom', cursor: 's-resize' },\n  { id: 'bottom-left', cursor: 'sw-resize' },\n  { id: 'left', cursor: 'w-resize' },\n]\n\nexport function ElementWrapper({\n  element,\n  slideId,\n  isSelected,\n  isEditing = false,\n  children,\n  onDoubleClick,\n}: ElementWrapperProps) {\n  const { selectElement, startDrag, endDrag, startResize, endResize } = useSelection()\n  const { updateElement } = usePresentation()\n  const [isDragging, setIsDragging] = useState(false)\n  const [isResizing, setIsResizing] = useState(false)\n  const [activeHandle, setActiveHandle] = useState<ResizeHandle | null>(null)\n  const dragStartRef = useRef<{ x: number; y: number; elementX: number; elementY: number } | null>(null)\n  const resizeStartRef = useRef<{\n    mouseX: number\n    mouseY: number\n    elementX: number\n    elementY: number\n    width: number\n    height: number\n  } | null>(null)\n\n  const { position, size } = element\n\n  // Handle selection click\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation()\n    selectElement(element.id, e.shiftKey)\n  }, [element.id, selectElement])\n\n  // Handle drag start\n  const handleDragStart = useCallback((e: React.MouseEvent) => {\n    // Don't start drag when editing (allows text selection)\n    if (element.locked || isEditing) return\n    e.stopPropagation()\n    e.preventDefault()\n\n    if (!isSelected) {\n      selectElement(element.id)\n    }\n\n    setIsDragging(true)\n    startDrag()\n    dragStartRef.current = {\n      x: e.clientX,\n      y: e.clientY,\n      elementX: position.x,\n      elementY: position.y,\n    }\n  }, [element.id, element.locked, isEditing, isSelected, position, selectElement, startDrag])\n\n  // Handle resize start\n  const handleResizeStart = useCallback((e: React.MouseEvent, handle: ResizeHandle) => {\n    if (element.locked) return\n    e.stopPropagation()\n    e.preventDefault()\n\n    setIsResizing(true)\n    setActiveHandle(handle)\n    startResize(handle)\n    resizeStartRef.current = {\n      mouseX: e.clientX,\n      mouseY: e.clientY,\n      elementX: position.x,\n      elementY: position.y,\n      width: size.width,\n      height: size.height,\n    }\n  }, [element.locked, position, size, startResize])\n\n  // Handle mouse move (drag/resize) with RAF throttling for performance\n  useEffect(() => {\n    if (!isDragging && !isResizing) return\n\n    let rafId: number | null = null\n    let lastMouseEvent: MouseEvent | null = null\n\n    const processMouseMove = () => {\n      if (!lastMouseEvent) return\n\n      const e = lastMouseEvent\n\n      if (isDragging && dragStartRef.current) {\n        const dx = e.clientX - dragStartRef.current.x\n        const dy = e.clientY - dragStartRef.current.y\n\n        // Note: In a real implementation, you'd need to account for zoom level\n        updateElement(slideId, element.id, {\n          position: {\n            x: Math.max(0, dragStartRef.current.elementX + dx),\n            y: Math.max(0, dragStartRef.current.elementY + dy),\n          },\n        })\n      }\n\n      if (isResizing && resizeStartRef.current && activeHandle) {\n        const dx = e.clientX - resizeStartRef.current.mouseX\n        const dy = e.clientY - resizeStartRef.current.mouseY\n        const start = resizeStartRef.current\n\n        let newX = start.elementX\n        let newY = start.elementY\n        let newWidth = start.width\n        let newHeight = start.height\n\n        // Apply resize based on handle\n        if (activeHandle.includes('left')) {\n          newX = start.elementX + dx\n          newWidth = start.width - dx\n        }\n        if (activeHandle.includes('right')) {\n          newWidth = start.width + dx\n        }\n        if (activeHandle.includes('top')) {\n          newY = start.elementY + dy\n          newHeight = start.height - dy\n        }\n        if (activeHandle.includes('bottom')) {\n          newHeight = start.height + dy\n        }\n\n        // Ensure minimum size\n        const minSize = 20\n        if (newWidth >= minSize && newHeight >= minSize) {\n          updateElement(slideId, element.id, {\n            position: { x: Math.max(0, newX), y: Math.max(0, newY) },\n            size: { width: newWidth, height: newHeight },\n          })\n        }\n      }\n\n      rafId = null\n    }\n\n    const handleMouseMove = (e: MouseEvent) => {\n      lastMouseEvent = e\n\n      // Throttle updates using requestAnimationFrame\n      if (rafId === null) {\n        rafId = requestAnimationFrame(processMouseMove)\n      }\n    }\n\n    const handleMouseUp = () => {\n      // Cancel any pending RAF\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId)\n      }\n\n      setIsDragging(false)\n      setIsResizing(false)\n      setActiveHandle(null)\n      endDrag()\n      endResize()\n      dragStartRef.current = null\n      resizeStartRef.current = null\n    }\n\n    window.addEventListener('mousemove', handleMouseMove)\n    window.addEventListener('mouseup', handleMouseUp)\n\n    return () => {\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId)\n      }\n      window.removeEventListener('mousemove', handleMouseMove)\n      window.removeEventListener('mouseup', handleMouseUp)\n    }\n  }, [isDragging, isResizing, activeHandle, slideId, element.id, updateElement, endDrag, endResize])\n\n  // Get handle position\n  const getHandlePosition = (handle: ResizeHandle): { x: number; y: number } => {\n    const halfHandle = HANDLE_SIZE / 2\n    switch (handle) {\n      case 'top-left':\n        return { x: -halfHandle, y: -halfHandle }\n      case 'top':\n        return { x: size.width / 2 - halfHandle, y: -halfHandle }\n      case 'top-right':\n        return { x: size.width - halfHandle, y: -halfHandle }\n      case 'right':\n        return { x: size.width - halfHandle, y: size.height / 2 - halfHandle }\n      case 'bottom-right':\n        return { x: size.width - halfHandle, y: size.height - halfHandle }\n      case 'bottom':\n        return { x: size.width / 2 - halfHandle, y: size.height - halfHandle }\n      case 'bottom-left':\n        return { x: -halfHandle, y: size.height - halfHandle }\n      case 'left':\n        return { x: -halfHandle, y: size.height / 2 - halfHandle }\n      default:\n        return { x: 0, y: 0 }\n    }\n  }\n\n  return (\n    <g\n      transform={`translate(${position.x}, ${position.y})${element.rotation ? ` rotate(${element.rotation}, ${size.width / 2}, ${size.height / 2})` : ''}`}\n      onClick={handleClick}\n      onDoubleClick={onDoubleClick}\n      onMouseDown={handleDragStart}\n      style={{\n        cursor: isDragging ? 'grabbing' : (isSelected ? 'grab' : 'pointer'),\n        opacity: element.opacity ?? 1,\n      }}\n    >\n      {/* Element content */}\n      {children}\n\n      {/* Selection outline */}\n      {isSelected && (\n        <>\n          <rect\n            x={-1}\n            y={-1}\n            width={size.width + 2}\n            height={size.height + 2}\n            fill=\"none\"\n            stroke=\"#4472C4\"\n            strokeWidth=\"2\"\n            strokeDasharray={element.locked ? \"4 4\" : undefined}\n            pointerEvents=\"none\"\n          />\n\n          {/* Resize handles */}\n          {!element.locked && resizeHandles.map(({ id, cursor }) => {\n            const pos = getHandlePosition(id)\n            return (\n              <rect\n                key={id}\n                x={pos.x}\n                y={pos.y}\n                width={HANDLE_SIZE}\n                height={HANDLE_SIZE}\n                fill=\"white\"\n                stroke=\"#4472C4\"\n                strokeWidth=\"1\"\n                style={{ cursor }}\n                onMouseDown={(e) => handleResizeStart(e, id)}\n              />\n            )\n          })}\n        </>\n      )}\n    </g>\n  )\n}\n","/**\n * Text Formatting Utilities\n * Handles run splitting, merging, and format application for rich text editing\n */\n\nimport { TextContent, Paragraph, TextRun, TextStyle } from '@/types'\nimport { generateId } from './index'\n\nexport interface TextSelection {\n  paragraphIndex: number\n  runIndex: number\n  startOffset: number\n  endParagraphIndex: number\n  endRunIndex: number\n  endOffset: number\n}\n\nexport type TextFormatProperty = keyof Pick<TextStyle, 'fontFamily' | 'fontSize' | 'fontWeight' | 'fontStyle' | 'textDecoration' | 'color' | 'backgroundColor'>\n\nexport interface TextFormat {\n  property: TextFormatProperty\n  value: string | number\n}\n\n/**\n * Compare two text styles to check if they are equal\n */\nexport function stylesEqual(a: TextStyle, b: TextStyle): boolean {\n  return (\n    a.fontFamily === b.fontFamily &&\n    a.fontSize === b.fontSize &&\n    a.fontWeight === b.fontWeight &&\n    a.fontStyle === b.fontStyle &&\n    a.textDecoration === b.textDecoration &&\n    a.color === b.color &&\n    a.backgroundColor === b.backgroundColor\n  )\n}\n\n/**\n * Merge adjacent runs with identical styles within a paragraph\n */\nexport function mergeAdjacentRuns(paragraph: Paragraph): Paragraph {\n  if (paragraph.runs.length <= 1) return paragraph\n\n  const mergedRuns: TextRun[] = []\n  let currentRun = { ...paragraph.runs[0] }\n\n  for (let i = 1; i < paragraph.runs.length; i++) {\n    const nextRun = paragraph.runs[i]\n\n    if (stylesEqual(currentRun.style, nextRun.style)) {\n      // Merge with current run\n      currentRun = {\n        ...currentRun,\n        text: currentRun.text + nextRun.text,\n      }\n    } else {\n      // Push current run and start new one\n      mergedRuns.push(currentRun)\n      currentRun = { ...nextRun }\n    }\n  }\n\n  // Push the last run\n  mergedRuns.push(currentRun)\n\n  // Remove empty runs\n  const nonEmptyRuns = mergedRuns.filter(r => r.text.length > 0)\n\n  // Ensure at least one run\n  if (nonEmptyRuns.length === 0) {\n    nonEmptyRuns.push({\n      id: generateId(),\n      text: '',\n      style: paragraph.runs[0]?.style || getDefaultStyle(),\n    })\n  }\n\n  return {\n    ...paragraph,\n    runs: nonEmptyRuns,\n  }\n}\n\n/**\n * Get default text style\n */\nexport function getDefaultStyle(): TextStyle {\n  return {\n    fontFamily: 'Calibri',\n    fontSize: 18,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    textDecoration: 'none',\n    color: '#000000',\n  }\n}\n\n/**\n * Split a run at a given offset\n * Returns [beforeRun, afterRun] or [run, null] if offset is at the end\n */\nexport function splitRunAtOffset(run: TextRun, offset: number): [TextRun, TextRun | null] {\n  if (offset <= 0) {\n    return [{ ...run, id: generateId(), text: '' }, { ...run }]\n  }\n  if (offset >= run.text.length) {\n    return [{ ...run }, null]\n  }\n\n  const beforeText = run.text.slice(0, offset)\n  const afterText = run.text.slice(offset)\n\n  return [\n    { ...run, text: beforeText },\n    { ...run, id: generateId(), text: afterText },\n  ]\n}\n\n/**\n * Apply a format to a selection within text content\n */\nexport function applyFormatToSelection(\n  content: TextContent,\n  selection: TextSelection,\n  format: TextFormat\n): TextContent {\n  const newParagraphs = [...content.paragraphs]\n\n  // Handle single paragraph selection\n  if (selection.paragraphIndex === selection.endParagraphIndex) {\n    const paragraph = newParagraphs[selection.paragraphIndex]\n    const newParagraph = applyFormatToParagraphRange(\n      paragraph,\n      selection.runIndex,\n      selection.startOffset,\n      selection.endRunIndex,\n      selection.endOffset,\n      format\n    )\n    newParagraphs[selection.paragraphIndex] = mergeAdjacentRuns(newParagraph)\n  } else {\n    // Multi-paragraph selection\n    for (let pIdx = selection.paragraphIndex; pIdx <= selection.endParagraphIndex; pIdx++) {\n      const paragraph = newParagraphs[pIdx]\n\n      if (pIdx === selection.paragraphIndex) {\n        // First paragraph: from selection start to end of paragraph\n        const lastRunIndex = paragraph.runs.length - 1\n        const lastRunLength = paragraph.runs[lastRunIndex]?.text.length || 0\n        const newParagraph = applyFormatToParagraphRange(\n          paragraph,\n          selection.runIndex,\n          selection.startOffset,\n          lastRunIndex,\n          lastRunLength,\n          format\n        )\n        newParagraphs[pIdx] = mergeAdjacentRuns(newParagraph)\n      } else if (pIdx === selection.endParagraphIndex) {\n        // Last paragraph: from start to selection end\n        const newParagraph = applyFormatToParagraphRange(\n          paragraph,\n          0,\n          0,\n          selection.endRunIndex,\n          selection.endOffset,\n          format\n        )\n        newParagraphs[pIdx] = mergeAdjacentRuns(newParagraph)\n      } else {\n        // Middle paragraph: format entire paragraph\n        const lastRunIndex = paragraph.runs.length - 1\n        const lastRunLength = paragraph.runs[lastRunIndex]?.text.length || 0\n        const newParagraph = applyFormatToParagraphRange(\n          paragraph,\n          0,\n          0,\n          lastRunIndex,\n          lastRunLength,\n          format\n        )\n        newParagraphs[pIdx] = mergeAdjacentRuns(newParagraph)\n      }\n    }\n  }\n\n  return { paragraphs: newParagraphs }\n}\n\n/**\n * Apply a format to a range within a single paragraph\n */\nfunction applyFormatToParagraphRange(\n  paragraph: Paragraph,\n  startRunIndex: number,\n  startOffset: number,\n  endRunIndex: number,\n  endOffset: number,\n  format: TextFormat\n): Paragraph {\n  const newRuns: TextRun[] = []\n\n  for (let rIdx = 0; rIdx < paragraph.runs.length; rIdx++) {\n    const run = paragraph.runs[rIdx]\n\n    if (rIdx < startRunIndex || rIdx > endRunIndex) {\n      // Run is outside selection, keep as is\n      newRuns.push({ ...run })\n    } else if (rIdx === startRunIndex && rIdx === endRunIndex) {\n      // Selection is within a single run\n      const [before, rest] = splitRunAtOffset(run, startOffset)\n      if (rest) {\n        const [middle, after] = splitRunAtOffset(rest, endOffset - startOffset)\n\n        if (before.text) newRuns.push(before)\n        if (middle.text) {\n          newRuns.push({\n            ...middle,\n            style: { ...middle.style, [format.property]: format.value },\n          })\n        }\n        if (after?.text) newRuns.push(after)\n      } else {\n        // Offset is at end of run\n        if (before.text) newRuns.push(before)\n      }\n    } else if (rIdx === startRunIndex) {\n      // Start run: split at startOffset\n      const [before, after] = splitRunAtOffset(run, startOffset)\n\n      if (before.text) newRuns.push(before)\n      if (after) {\n        newRuns.push({\n          ...after,\n          style: { ...after.style, [format.property]: format.value },\n        })\n      }\n    } else if (rIdx === endRunIndex) {\n      // End run: split at endOffset\n      const [before, after] = splitRunAtOffset(run, endOffset)\n\n      newRuns.push({\n        ...before,\n        style: { ...before.style, [format.property]: format.value },\n      })\n      if (after?.text) newRuns.push(after)\n    } else {\n      // Middle run: apply format to entire run\n      newRuns.push({\n        ...run,\n        style: { ...run.style, [format.property]: format.value },\n      })\n    }\n  }\n\n  return {\n    ...paragraph,\n    runs: newRuns,\n  }\n}\n\n/**\n * Toggle a boolean-style format (bold, italic, underline, strikethrough)\n */\nexport function toggleFormat(\n  content: TextContent,\n  selection: TextSelection,\n  property: 'fontWeight' | 'fontStyle' | 'textDecoration'\n): TextContent {\n  // Check if selection already has the format\n  const hasFormat = selectionHasFormat(content, selection, property)\n\n  let value: string | number\n  switch (property) {\n    case 'fontWeight':\n      value = hasFormat ? 'normal' : 'bold'\n      break\n    case 'fontStyle':\n      value = hasFormat ? 'normal' : 'italic'\n      break\n    case 'textDecoration':\n      value = hasFormat ? 'none' : 'underline'\n      break\n  }\n\n  return applyFormatToSelection(content, selection, { property, value })\n}\n\n/**\n * Check if the selection has a specific format applied\n */\nexport function selectionHasFormat(\n  content: TextContent,\n  selection: TextSelection,\n  property: 'fontWeight' | 'fontStyle' | 'textDecoration'\n): boolean {\n  // Get all runs in the selection\n  const runs = getRunsInSelection(content, selection)\n\n  if (runs.length === 0) return false\n\n  // Check if ALL runs have the format\n  return runs.every(run => {\n    switch (property) {\n      case 'fontWeight':\n        return run.style.fontWeight === 'bold' || (typeof run.style.fontWeight === 'number' && run.style.fontWeight >= 600)\n      case 'fontStyle':\n        return run.style.fontStyle === 'italic'\n      case 'textDecoration':\n        return run.style.textDecoration === 'underline' || run.style.textDecoration === 'line-through'\n      default:\n        return false\n    }\n  })\n}\n\n/**\n * Get all runs that are part of the selection\n */\nfunction getRunsInSelection(content: TextContent, selection: TextSelection): TextRun[] {\n  const runs: TextRun[] = []\n\n  for (let pIdx = selection.paragraphIndex; pIdx <= selection.endParagraphIndex; pIdx++) {\n    const paragraph = content.paragraphs[pIdx]\n    if (!paragraph) continue\n\n    const startRun = pIdx === selection.paragraphIndex ? selection.runIndex : 0\n    const endRun = pIdx === selection.endParagraphIndex ? selection.endRunIndex : paragraph.runs.length - 1\n\n    for (let rIdx = startRun; rIdx <= endRun; rIdx++) {\n      const run = paragraph.runs[rIdx]\n      if (run) runs.push(run)\n    }\n  }\n\n  return runs\n}\n\n/**\n * Get the common style across selected runs (or null if mixed)\n */\nexport function getSelectionStyle(\n  content: TextContent,\n  selection: TextSelection\n): Partial<TextStyle> | null {\n  const runs = getRunsInSelection(content, selection)\n\n  if (runs.length === 0) return null\n  if (runs.length === 1) return runs[0].style\n\n  // Check each property for consistency\n  const result: Partial<TextStyle> = {}\n  const firstStyle = runs[0].style\n\n  const properties: (keyof TextStyle)[] = ['fontFamily', 'fontSize', 'fontWeight', 'fontStyle', 'textDecoration', 'color']\n\n  for (const prop of properties) {\n    const allSame = runs.every(r => r.style[prop] === firstStyle[prop])\n    if (allSame) {\n      (result as Record<string, unknown>)[prop] = firstStyle[prop]\n    }\n  }\n\n  return result\n}\n\n/**\n * Convert DOM selection to our TextSelection format\n */\nexport function domSelectionToTextSelection(\n  contentDiv: HTMLElement,\n  content: TextContent\n): TextSelection | null {\n  const selection = window.getSelection()\n  if (!selection || selection.rangeCount === 0) return null\n\n  const range = selection.getRangeAt(0)\n\n  // Find the paragraph and run indices for start and end\n  const start = findPositionInContent(contentDiv, range.startContainer, range.startOffset, content)\n  const end = findPositionInContent(contentDiv, range.endContainer, range.endOffset, content)\n\n  if (!start || !end) return null\n\n  return {\n    paragraphIndex: start.paragraphIndex,\n    runIndex: start.runIndex,\n    startOffset: start.offset,\n    endParagraphIndex: end.paragraphIndex,\n    endRunIndex: end.runIndex,\n    endOffset: end.offset,\n  }\n}\n\n/**\n * Find the paragraph/run/offset for a DOM position\n */\nfunction findPositionInContent(\n  contentDiv: HTMLElement,\n  node: Node,\n  offset: number,\n  _content: TextContent\n): { paragraphIndex: number; runIndex: number; offset: number } | null {\n  // Walk up to find the paragraph and run elements\n  let current: Node | null = node\n\n  // If node is a text node, get its parent\n  if (node.nodeType === Node.TEXT_NODE) {\n    current = node.parentElement\n  }\n\n  // Find the span (run) element\n  let runElement: HTMLElement | null = null\n  let paragraphElement: HTMLElement | null = null\n\n  while (current && current !== contentDiv) {\n    const el = current as HTMLElement\n    if (el.dataset?.runIndex !== undefined) {\n      runElement = el\n    }\n    if (el.dataset?.paragraphIndex !== undefined) {\n      paragraphElement = el\n    }\n    current = current.parentNode\n  }\n\n  if (paragraphElement === null) {\n    // If we couldn't find paragraph markers, assume single paragraph\n    return { paragraphIndex: 0, runIndex: 0, offset }\n  }\n\n  const paragraphIndex = parseInt(paragraphElement.dataset.paragraphIndex || '0', 10)\n  const runIndex = runElement ? parseInt(runElement.dataset.runIndex || '0', 10) : 0\n\n  return { paragraphIndex, runIndex, offset }\n}\n","import React, { useRef, useEffect, useCallback } from 'react'\nimport { TextContent, TextBoxStyle, TextStyle } from '@/types'\nimport {\n  TextSelection,\n  getSelectionStyle,\n} from '@/utils/textFormatting'\nimport { generateId } from '@/utils'\n\ninterface RichTextEditorProps {\n  content: TextContent\n  style: TextBoxStyle\n  onChange: (content: TextContent) => void\n  onSelectionChange?: (selection: TextSelection | null, style: Partial<TextStyle> | null) => void\n  onBlur: () => void\n  onKeyDown?: (e: React.KeyboardEvent) => void\n  onContentHeightChange?: (height: number) => void\n}\n\nexport function RichTextEditor({\n  content,\n  style,\n  onChange,\n  onSelectionChange,\n  onBlur,\n  onKeyDown,\n  onContentHeightChange,\n}: RichTextEditorProps) {\n  const editorRef = useRef<HTMLDivElement>(null)\n  const isComposingRef = useRef(false)\n  const contentRef = useRef(content)\n\n  // Keep content ref updated\n  contentRef.current = content\n\n  // Initialize editor with content HTML\n  useEffect(() => {\n    if (editorRef.current) {\n      const html = contentToHtml(content)\n      editorRef.current.innerHTML = html\n      editorRef.current.focus()\n\n      // Place cursor at end\n      const range = document.createRange()\n      const sel = window.getSelection()\n      range.selectNodeContents(editorRef.current)\n      range.collapse(false)\n      sel?.removeAllRanges()\n      sel?.addRange(range)\n    }\n  }, []) // Only run once on mount\n\n  // Handle selection changes\n  const handleSelectionChange = useCallback(() => {\n    if (!editorRef.current || !onSelectionChange) return\n\n    const sel = window.getSelection()\n    if (!sel || sel.rangeCount === 0 || !editorRef.current.contains(sel.anchorNode)) {\n      return\n    }\n\n    // Get selection info\n    const selection = getTextSelection(editorRef.current)\n    if (selection) {\n      const selectionStyle = getSelectionStyle(contentRef.current, selection)\n      onSelectionChange(selection, selectionStyle)\n    } else {\n      onSelectionChange(null, null)\n    }\n  }, [onSelectionChange])\n\n  // Set up selection change listener\n  useEffect(() => {\n    document.addEventListener('selectionchange', handleSelectionChange)\n    return () => {\n      document.removeEventListener('selectionchange', handleSelectionChange)\n    }\n  }, [handleSelectionChange])\n\n  // Parse content from DOM and save\n  const saveContent = useCallback(() => {\n    if (!editorRef.current || isComposingRef.current) return\n\n    const newContent = htmlToContent(editorRef.current, contentRef.current)\n    onChange(newContent)\n  }, [onChange])\n\n  // Handle blur - save content and report height for auto-resize\n  const handleBlur = useCallback((_e: React.FocusEvent) => {\n    saveContent()\n    // Measure actual content height before unmounting so the text box can auto-grow\n    if (editorRef.current && onContentHeightChange) {\n      const scrollHeight = editorRef.current.scrollHeight\n      onContentHeightChange(scrollHeight)\n    }\n    onBlur()\n  }, [saveContent, onBlur, onContentHeightChange])\n\n  // Handle keyboard shortcuts\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.ctrlKey || e.metaKey) {\n      switch (e.key.toLowerCase()) {\n        case 'b':\n          e.preventDefault()\n          document.execCommand('bold', false)\n          break\n        case 'i':\n          e.preventDefault()\n          document.execCommand('italic', false)\n          break\n        case 'u':\n          e.preventDefault()\n          document.execCommand('underline', false)\n          break\n      }\n    }\n\n    if (e.key === 'Escape') {\n      onKeyDown?.(e)\n    }\n\n    e.stopPropagation()\n  }, [onKeyDown])\n\n  // Handle composition (IME input)\n  const handleCompositionStart = useCallback(() => {\n    isComposingRef.current = true\n  }, [])\n\n  const handleCompositionEnd = useCallback(() => {\n    isComposingRef.current = false\n  }, [])\n\n  return (\n    <div\n      ref={editorRef}\n      contentEditable\n      suppressContentEditableWarning\n      onBlur={handleBlur}\n      onKeyDown={handleKeyDown}\n      onCompositionStart={handleCompositionStart}\n      onCompositionEnd={handleCompositionEnd}\n      data-rich-text-editor=\"true\"\n      style={{\n        width: '100%',\n        height: '100%',\n        padding: `${style.padding.top}px ${style.padding.right}px ${style.padding.bottom}px ${style.padding.left}px`,\n        outline: 'none',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: style.verticalAlign === 'middle' ? 'center' : style.verticalAlign === 'bottom' ? 'flex-end' : 'flex-start',\n        backgroundColor: style.fill?.type === 'solid' ? style.fill.color : 'transparent',\n        wordWrap: style.wordWrap ? 'break-word' : 'normal',\n        cursor: 'text',\n        whiteSpace: 'pre-wrap',\n      }}\n    />\n  )\n}\n\n/**\n * Convert TextContent to HTML string\n */\nfunction contentToHtml(content: TextContent): string {\n  return content.paragraphs.map((paragraph, pIndex) => {\n    const runsHtml = paragraph.runs.map((run, rIndex) => {\n      const styles: string[] = []\n      if (run.style.fontFamily) styles.push(`font-family: ${run.style.fontFamily}`)\n      if (run.style.fontSize) styles.push(`font-size: ${run.style.fontSize}px`)\n      if (run.style.fontWeight && run.style.fontWeight !== 'normal') styles.push(`font-weight: ${run.style.fontWeight}`)\n      if (run.style.fontStyle && run.style.fontStyle !== 'normal') styles.push(`font-style: ${run.style.fontStyle}`)\n      if (run.style.textDecoration && run.style.textDecoration !== 'none') styles.push(`text-decoration: ${run.style.textDecoration}`)\n      if (run.style.color) styles.push(`color: ${run.style.color}`)\n      if (run.style.backgroundColor) styles.push(`background-color: ${run.style.backgroundColor}`)\n\n      const text = run.text || '\\u200B'\n      // Convert newlines to <br> tags for proper display\n      const htmlText = escapeHtml(text).replace(/\\n/g, '<br>')\n      return `<span data-run-index=\"${rIndex}\" style=\"${styles.join('; ')}\">${htmlText}</span>`\n    }).join('')\n\n    const pStyles: string[] = []\n    pStyles.push('margin: 0')\n    if (paragraph.alignment) pStyles.push(`text-align: ${paragraph.alignment}`)\n    if (paragraph.lineSpacing) pStyles.push(`line-height: ${paragraph.lineSpacing}%`)\n    if (paragraph.spaceBefore) pStyles.push(`margin-top: ${paragraph.spaceBefore}px`)\n    if (paragraph.spaceAfter) pStyles.push(`margin-bottom: ${paragraph.spaceAfter}px`)\n\n    return `<p data-paragraph-index=\"${pIndex}\" style=\"${pStyles.join('; ')}\">${runsHtml || '\\u200B'}</p>`\n  }).join('')\n}\n\n/**\n * Convert HTML DOM back to TextContent\n * Handles various HTML structures from contentEditable:\n * - <p> elements for paragraphs\n * - <div> elements (sometimes used instead of <p>)\n * - <br> for line breaks\n * - <b>, <strong> for bold\n * - <i>, <em> for italic\n * - <u> for underline\n * - <span> with inline styles\n */\nfunction htmlToContent(editor: HTMLElement, originalContent: TextContent): TextContent {\n  const paragraphs: TextContent['paragraphs'] = []\n  const defaultStyle = originalContent.paragraphs[0]?.runs[0]?.style || getDefaultTextStyle()\n\n  // Get block-level children (p, div) or treat as single block\n  const blocks = getBlockElements(editor)\n\n  if (blocks.length === 0) {\n    // No block elements - parse inline content directly\n    const runs = parseInlineContent(editor, defaultStyle)\n    paragraphs.push({\n      id: originalContent.paragraphs[0]?.id || generateId(),\n      runs: runs.length > 0 ? runs : [{ id: generateId(), text: '', style: defaultStyle }],\n      alignment: originalContent.paragraphs[0]?.alignment || 'left',\n    })\n  } else {\n    blocks.forEach((block, pIndex) => {\n      const originalParagraph = originalContent.paragraphs[pIndex]\n      const runs = parseInlineContent(block, defaultStyle)\n\n      // Get alignment from computed style\n      const computedStyle = window.getComputedStyle(block)\n      let alignment = computedStyle.textAlign as 'left' | 'center' | 'right' | 'justify'\n      if (!['left', 'center', 'right', 'justify'].includes(alignment)) {\n        alignment = originalParagraph?.alignment || 'left'\n      }\n\n      paragraphs.push({\n        id: originalParagraph?.id || generateId(),\n        runs: runs.length > 0 ? runs : [{ id: generateId(), text: '', style: defaultStyle }],\n        alignment,\n        lineSpacing: originalParagraph?.lineSpacing,\n        spaceBefore: originalParagraph?.spaceBefore,\n        spaceAfter: originalParagraph?.spaceAfter,\n      })\n    })\n  }\n\n  // Ensure at least one paragraph\n  if (paragraphs.length === 0) {\n    paragraphs.push({\n      id: generateId(),\n      runs: [{ id: generateId(), text: '', style: defaultStyle }],\n      alignment: 'left',\n    })\n  }\n\n  return { paragraphs }\n}\n\n/**\n * Get block-level elements from editor\n */\nfunction getBlockElements(editor: HTMLElement): HTMLElement[] {\n  const blocks: HTMLElement[] = []\n\n  // Check for p or div elements\n  const children = Array.from(editor.childNodes)\n\n  for (const child of children) {\n    if (child.nodeType === Node.ELEMENT_NODE) {\n      const el = child as HTMLElement\n      const tagName = el.tagName.toLowerCase()\n      if (tagName === 'p' || tagName === 'div') {\n        blocks.push(el)\n      }\n    } else if (child.nodeType === Node.TEXT_NODE && child.textContent?.trim()) {\n      // Wrap loose text in a virtual block\n      const wrapper = document.createElement('div')\n      wrapper.textContent = child.textContent\n      blocks.push(wrapper)\n    }\n  }\n\n  return blocks\n}\n\n/**\n * Parse inline content into runs, handling formatting tags\n */\nfunction parseInlineContent(element: HTMLElement, defaultStyle: TextStyle): Array<{ id: string; text: string; style: TextStyle }> {\n  const runs: Array<{ id: string; text: string; style: TextStyle }> = []\n\n  function walkNode(node: Node, inheritedStyle: TextStyle) {\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent?.replace(/\\u200B/g, '') || ''\n      if (text) {\n        runs.push({\n          id: generateId(),\n          text,\n          style: { ...inheritedStyle },\n        })\n      }\n    } else if (node.nodeType === Node.ELEMENT_NODE) {\n      const el = node as HTMLElement\n      const tagName = el.tagName.toLowerCase()\n\n      // Clone style and apply tag-based formatting\n      const style = { ...inheritedStyle }\n\n      // Check for formatting tags\n      if (tagName === 'b' || tagName === 'strong') {\n        style.fontWeight = 'bold'\n      }\n      if (tagName === 'i' || tagName === 'em') {\n        style.fontStyle = 'italic'\n      }\n      if (tagName === 'u') {\n        style.textDecoration = 'underline'\n      }\n      if (tagName === 'strike' || tagName === 's') {\n        style.textDecoration = 'line-through'\n      }\n\n      // Check for span with inline styles\n      if (tagName === 'span') {\n        const computed = window.getComputedStyle(el)\n        // Font weight can be numeric (400, 700) or keyword (normal, bold)\n        const fontWeight = parseInt(computed.fontWeight) || (computed.fontWeight === 'bold' ? 700 : 400)\n        if (fontWeight >= 700) {\n          style.fontWeight = 'bold'\n        }\n        if (computed.fontStyle === 'italic') {\n          style.fontStyle = 'italic'\n        }\n        if (computed.textDecorationLine?.includes('underline')) {\n          style.textDecoration = 'underline'\n        }\n        // Get font family and size\n        const fontFamily = computed.fontFamily.replace(/['\"]/g, '').split(',')[0].trim()\n        if (fontFamily) style.fontFamily = fontFamily\n        const fontSize = parseInt(computed.fontSize)\n        if (fontSize) style.fontSize = fontSize\n        const color = rgbToHex(computed.color)\n        if (color && color !== '#000000') style.color = color\n      }\n\n      // Handle <br> as a line break within the same paragraph\n      if (tagName === 'br') {\n        runs.push({\n          id: generateId(),\n          text: '\\n',\n          style: { ...inheritedStyle },\n        })\n        return\n      }\n\n      // Recurse into children\n      for (const child of Array.from(el.childNodes)) {\n        walkNode(child, style)\n      }\n    }\n  }\n\n  walkNode(element, defaultStyle)\n\n  // Merge adjacent runs with identical styles\n  const mergedRuns: Array<{ id: string; text: string; style: TextStyle }> = []\n  for (const run of runs) {\n    const last = mergedRuns[mergedRuns.length - 1]\n    if (last && stylesEqual(last.style, run.style)) {\n      last.text += run.text\n    } else {\n      mergedRuns.push(run)\n    }\n  }\n\n  return mergedRuns\n}\n\nfunction stylesEqual(a: TextStyle, b: TextStyle): boolean {\n  return (\n    a.fontFamily === b.fontFamily &&\n    a.fontSize === b.fontSize &&\n    a.fontWeight === b.fontWeight &&\n    a.fontStyle === b.fontStyle &&\n    a.textDecoration === b.textDecoration &&\n    a.color === b.color\n  )\n}\n\n/**\n * Get text selection info from DOM\n */\nfunction getTextSelection(editor: HTMLElement): TextSelection | null {\n  const sel = window.getSelection()\n  if (!sel || sel.rangeCount === 0) return null\n\n  const range = sel.getRangeAt(0)\n\n  // Find paragraph and run indices\n  const startInfo = findNodePosition(editor, range.startContainer, range.startOffset)\n  const endInfo = findNodePosition(editor, range.endContainer, range.endOffset)\n\n  if (!startInfo || !endInfo) return null\n\n  return {\n    paragraphIndex: startInfo.paragraphIndex,\n    runIndex: startInfo.runIndex,\n    startOffset: startInfo.offset,\n    endParagraphIndex: endInfo.paragraphIndex,\n    endRunIndex: endInfo.runIndex,\n    endOffset: endInfo.offset,\n  }\n}\n\nfunction findNodePosition(editor: HTMLElement, node: Node, offset: number): { paragraphIndex: number; runIndex: number; offset: number } | null {\n  // Walk up to find containing paragraph and span\n  let current: Node | null = node\n  let paragraphEl: HTMLElement | null = null\n  let spanEl: HTMLElement | null = null\n\n  while (current && current !== editor) {\n    if (current.nodeType === Node.ELEMENT_NODE) {\n      const el = current as HTMLElement\n      if (el.tagName === 'P') paragraphEl = el\n      if (el.tagName === 'SPAN') spanEl = el\n    }\n    current = current.parentNode\n  }\n\n  if (!paragraphEl) {\n    return { paragraphIndex: 0, runIndex: 0, offset }\n  }\n\n  const paragraphIndex = parseInt(paragraphEl.dataset.paragraphIndex || '0', 10)\n  const runIndex = spanEl ? parseInt(spanEl.dataset.runIndex || '0', 10) : 0\n\n  return { paragraphIndex, runIndex, offset }\n}\n\nfunction getDefaultTextStyle(): TextStyle {\n  return {\n    fontFamily: 'Calibri',\n    fontSize: 18,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    textDecoration: 'none',\n    color: '#000000',\n  }\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n}\n\nfunction rgbToHex(rgb: string): string {\n  const match = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/)\n  if (!match) return rgb\n\n  const r = parseInt(match[1], 10)\n  const g = parseInt(match[2], 10)\n  const b = parseInt(match[3], 10)\n\n  return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase()}`\n}\n","import React, { useRef, useCallback, useEffect } from 'react'\nimport { TextElement, TextContent } from '@/types'\nimport { usePresentation, useEditor } from '@/context'\nimport { RichTextEditor } from './RichTextEditor'\nimport { TextSelection } from '@/utils/textFormatting'\nimport { TextStyle } from '@/types'\n\ninterface TextBoxProps {\n  element: TextElement\n  slideId: string\n  isSelected: boolean\n  isEditing: boolean\n  onStartEditing: () => void\n  onStopEditing: () => void\n}\n\nexport function TextBox({\n  element,\n  slideId,\n  isEditing,\n  onStopEditing,\n}: TextBoxProps) {\n  const { updateElement } = usePresentation()\n  const { setTextEditing, setTextSelection } = useEditor()\n  const textRef = useRef<SVGForeignObjectElement>(null)\n\n  const { size, content, style } = element\n\n  // Set text editing state when entering/exiting edit mode\n  useEffect(() => {\n    if (isEditing) {\n      setTextEditing(element.id)\n    }\n    return () => {\n      if (isEditing) {\n        setTextEditing(null)\n      }\n    }\n  }, [isEditing, element.id, setTextEditing])\n\n  // Handle content changes from the rich text editor\n  const handleContentChange = useCallback((newContent: TextContent) => {\n    updateElement(slideId, element.id, { content: newContent })\n  }, [slideId, element.id, updateElement])\n\n  // Handle selection changes\n  const handleSelectionChange = useCallback((selection: TextSelection | null, selectionStyle: Partial<TextStyle> | null) => {\n    setTextSelection(selection, selectionStyle)\n  }, [setTextSelection])\n\n  // Handle blur to exit edit mode\n  const handleBlur = useCallback(() => {\n    onStopEditing()\n  }, [onStopEditing])\n\n  // Handle key events\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      onStopEditing()\n    }\n  }, [onStopEditing])\n\n  // Auto-resize text box height when content overflows\n  const handleContentHeightChange = useCallback((contentHeight: number) => {\n    if (contentHeight > size.height) {\n      updateElement(slideId, element.id, {\n        size: { ...size, height: contentHeight },\n      })\n    }\n  }, [slideId, element.id, size, updateElement])\n\n  if (isEditing) {\n    return (\n      <foreignObject\n        ref={textRef}\n        x={0}\n        y={0}\n        width={size.width}\n        height={size.height}\n      >\n        <RichTextEditor\n          content={content}\n          style={style}\n          onChange={handleContentChange}\n          onSelectionChange={handleSelectionChange}\n          onBlur={handleBlur}\n          onKeyDown={handleKeyDown}\n          onContentHeightChange={handleContentHeightChange}\n        />\n      </foreignObject>\n    )\n  }\n\n  // Non-editing render\n  return (\n    <>\n      {/* Background fill */}\n      {style.fill?.type === 'solid' && (\n        <rect\n          x={0}\n          y={0}\n          width={size.width}\n          height={size.height}\n          fill={style.fill.color}\n        />\n      )}\n\n      {/* Stroke/border */}\n      {style.stroke?.style !== 'none' && (\n        <rect\n          x={0}\n          y={0}\n          width={size.width}\n          height={size.height}\n          fill=\"none\"\n          stroke={style.stroke?.color || 'transparent'}\n          strokeWidth={style.stroke?.width || 0}\n        />\n      )}\n\n      {/* Text content */}\n      <foreignObject\n        x={0}\n        y={0}\n        width={size.width}\n        height={size.height}\n      >\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            padding: `${style.padding.top}px ${style.padding.right}px ${style.padding.bottom}px ${style.padding.left}px`,\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: style.verticalAlign === 'middle' ? 'center' : style.verticalAlign === 'bottom' ? 'flex-end' : 'flex-start',\n            overflow: 'hidden',\n            pointerEvents: 'none',\n            wordWrap: style.wordWrap ? 'break-word' : 'normal',\n          }}\n        >\n          {content.paragraphs.map((paragraph, pIndex) => {\n            // Check if paragraph is empty or only contains whitespace/newlines\n            const isEmpty = paragraph.runs.every(run => !run.text || run.text.trim() === '' || run.text === '\\n')\n\n            return (\n              <p\n                key={paragraph.id || pIndex}\n                style={{\n                  margin: 0,\n                  marginBottom: paragraph.spaceAfter || 0,\n                  marginTop: paragraph.spaceBefore || 0,\n                  textAlign: paragraph.alignment,\n                  lineHeight: paragraph.lineSpacing ? `${paragraph.lineSpacing}%` : 'normal',\n                  whiteSpace: 'pre-wrap',\n                  minHeight: isEmpty ? '1em' : undefined,\n                }}\n              >\n                {isEmpty ? (\n                  // Render non-breaking space for empty paragraphs to preserve height\n                  <span style={{\n                    fontFamily: paragraph.runs[0]?.style.fontFamily,\n                    fontSize: paragraph.runs[0]?.style.fontSize,\n                  }}>\n                    {'\\u00A0'}\n                  </span>\n                ) : (\n                  paragraph.runs.map((run, rIndex) => (\n                    <span\n                      key={run.id || rIndex}\n                      style={{\n                        fontFamily: run.style.fontFamily,\n                        fontSize: run.style.fontSize,\n                        fontWeight: run.style.fontWeight,\n                        fontStyle: run.style.fontStyle,\n                        textDecoration: run.style.textDecoration,\n                        color: run.style.color,\n                        backgroundColor: run.style.backgroundColor,\n                        letterSpacing: run.style.letterSpacing,\n                      }}\n                    >\n                      {run.text}\n                    </span>\n                  ))\n                )}\n              </p>\n            )\n          })}\n        </div>\n      </foreignObject>\n    </>\n  )\n}\n","import { ShapeElement } from '@/types'\n\ninterface ShapeProps {\n  element: ShapeElement\n}\n\nexport function Shape({ element }: ShapeProps) {\n  const { size, shapeType, fill, stroke } = element\n\n  const getFillStyle = () => {\n    if (!fill || fill.type === 'none') return 'transparent'\n    if (fill.type === 'solid') return fill.color || '#4472C4'\n    // TODO: Handle gradient fills\n    return '#4472C4'\n  }\n\n  const getStrokeStyle = () => {\n    if (!stroke || stroke.style === 'none') return 'transparent'\n    return stroke.color || '#2F528F'\n  }\n\n  const strokeWidth = stroke?.style !== 'none' ? (stroke?.width || 1) : 0\n  const strokeDasharray = stroke?.style === 'dashed' ? '8,4' : stroke?.style === 'dotted' ? '2,2' : undefined\n\n  // Render based on shape type\n  const renderShape = () => {\n    switch (shapeType) {\n      case 'rectangle':\n        return (\n          <rect\n            x={strokeWidth / 2}\n            y={strokeWidth / 2}\n            width={size.width - strokeWidth}\n            height={size.height - strokeWidth}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'roundedRectangle':\n        const radius = Math.min(size.width, size.height) * 0.1\n        return (\n          <rect\n            x={strokeWidth / 2}\n            y={strokeWidth / 2}\n            width={size.width - strokeWidth}\n            height={size.height - strokeWidth}\n            rx={radius}\n            ry={radius}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'ellipse':\n        return (\n          <ellipse\n            cx={size.width / 2}\n            cy={size.height / 2}\n            rx={(size.width - strokeWidth) / 2}\n            ry={(size.height - strokeWidth) / 2}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'triangle':\n        const trianglePoints = `${size.width / 2},${strokeWidth} ${size.width - strokeWidth},${size.height - strokeWidth} ${strokeWidth},${size.height - strokeWidth}`\n        return (\n          <polygon\n            points={trianglePoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'diamond':\n        const diamondPoints = `${size.width / 2},${strokeWidth} ${size.width - strokeWidth},${size.height / 2} ${size.width / 2},${size.height - strokeWidth} ${strokeWidth},${size.height / 2}`\n        return (\n          <polygon\n            points={diamondPoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'line':\n        return (\n          <line\n            x1={0}\n            y1={size.height / 2}\n            x2={size.width}\n            y2={size.height / 2}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth || 2}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'arrow':\n      case 'arrowRight':\n        const arrowPath = `M ${strokeWidth} ${size.height * 0.3}\n                          L ${size.width * 0.6} ${size.height * 0.3}\n                          L ${size.width * 0.6} ${strokeWidth}\n                          L ${size.width - strokeWidth} ${size.height / 2}\n                          L ${size.width * 0.6} ${size.height - strokeWidth}\n                          L ${size.width * 0.6} ${size.height * 0.7}\n                          L ${strokeWidth} ${size.height * 0.7} Z`\n        return (\n          <path\n            d={arrowPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'star5':\n        const star5Points = generateStarPoints(size.width / 2, size.height / 2, 5, (Math.min(size.width, size.height) - strokeWidth) / 2, (Math.min(size.width, size.height) - strokeWidth) / 4)\n        return (\n          <polygon\n            points={star5Points}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'plus':\n        const plusPath = `M ${size.width * 0.35} ${strokeWidth}\n                         L ${size.width * 0.65} ${strokeWidth}\n                         L ${size.width * 0.65} ${size.height * 0.35}\n                         L ${size.width - strokeWidth} ${size.height * 0.35}\n                         L ${size.width - strokeWidth} ${size.height * 0.65}\n                         L ${size.width * 0.65} ${size.height * 0.65}\n                         L ${size.width * 0.65} ${size.height - strokeWidth}\n                         L ${size.width * 0.35} ${size.height - strokeWidth}\n                         L ${size.width * 0.35} ${size.height * 0.65}\n                         L ${strokeWidth} ${size.height * 0.65}\n                         L ${strokeWidth} ${size.height * 0.35}\n                         L ${size.width * 0.35} ${size.height * 0.35} Z`\n        return (\n          <path\n            d={plusPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'rightTriangle':\n        const rightTriPoints = `${strokeWidth},${strokeWidth} ${strokeWidth},${size.height - strokeWidth} ${size.width - strokeWidth},${size.height - strokeWidth}`\n        return (\n          <polygon\n            points={rightTriPoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'pentagon':\n        const pentagonPoints = generateRegularPolygonPoints(size.width / 2, size.height / 2, 5, (Math.min(size.width, size.height) - strokeWidth) / 2)\n        return (\n          <polygon\n            points={pentagonPoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'hexagon':\n        const hexagonPoints = generateRegularPolygonPoints(size.width / 2, size.height / 2, 6, (Math.min(size.width, size.height) - strokeWidth) / 2)\n        return (\n          <polygon\n            points={hexagonPoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'octagon':\n        const octagonPoints = generateRegularPolygonPoints(size.width / 2, size.height / 2, 8, (Math.min(size.width, size.height) - strokeWidth) / 2)\n        return (\n          <polygon\n            points={octagonPoints}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'star6':\n        const star6Points = generateStarPoints(size.width / 2, size.height / 2, 6, (Math.min(size.width, size.height) - strokeWidth) / 2, (Math.min(size.width, size.height) - strokeWidth) / 4)\n        return (\n          <polygon\n            points={star6Points}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'arrowLeft':\n        const arrowLeftPath = `M ${size.width - strokeWidth} ${size.height * 0.3}\n                              L ${size.width * 0.4} ${size.height * 0.3}\n                              L ${size.width * 0.4} ${strokeWidth}\n                              L ${strokeWidth} ${size.height / 2}\n                              L ${size.width * 0.4} ${size.height - strokeWidth}\n                              L ${size.width * 0.4} ${size.height * 0.7}\n                              L ${size.width - strokeWidth} ${size.height * 0.7} Z`\n        return (\n          <path\n            d={arrowLeftPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'arrowUp':\n        const arrowUpPath = `M ${size.width * 0.3} ${size.height - strokeWidth}\n                            L ${size.width * 0.3} ${size.height * 0.4}\n                            L ${strokeWidth} ${size.height * 0.4}\n                            L ${size.width / 2} ${strokeWidth}\n                            L ${size.width - strokeWidth} ${size.height * 0.4}\n                            L ${size.width * 0.7} ${size.height * 0.4}\n                            L ${size.width * 0.7} ${size.height - strokeWidth} Z`\n        return (\n          <path\n            d={arrowUpPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'arrowDown':\n        const arrowDownPath = `M ${size.width * 0.3} ${strokeWidth}\n                              L ${size.width * 0.3} ${size.height * 0.6}\n                              L ${strokeWidth} ${size.height * 0.6}\n                              L ${size.width / 2} ${size.height - strokeWidth}\n                              L ${size.width - strokeWidth} ${size.height * 0.6}\n                              L ${size.width * 0.7} ${size.height * 0.6}\n                              L ${size.width * 0.7} ${strokeWidth} Z`\n        return (\n          <path\n            d={arrowDownPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'heart':\n        const heartPath = `M ${size.width / 2} ${size.height * 0.25}\n                          C ${size.width * 0.2} ${strokeWidth}, ${strokeWidth} ${size.height * 0.3}, ${size.width / 2} ${size.height - strokeWidth}\n                          C ${size.width - strokeWidth} ${size.height * 0.3}, ${size.width * 0.8} ${strokeWidth}, ${size.width / 2} ${size.height * 0.25}`\n        return (\n          <path\n            d={heartPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'cloud':\n        const cloudPath = `M ${size.width * 0.25} ${size.height * 0.6}\n                          A ${size.width * 0.15} ${size.height * 0.2} 0 1 1 ${size.width * 0.4} ${size.height * 0.4}\n                          A ${size.width * 0.15} ${size.height * 0.2} 0 1 1 ${size.width * 0.65} ${size.height * 0.35}\n                          A ${size.width * 0.18} ${size.height * 0.25} 0 1 1 ${size.width * 0.85} ${size.height * 0.55}\n                          A ${size.width * 0.1} ${size.height * 0.15} 0 1 1 ${size.width * 0.75} ${size.height * 0.7}\n                          L ${size.width * 0.25} ${size.height * 0.7}\n                          A ${size.width * 0.12} ${size.height * 0.15} 0 1 1 ${size.width * 0.25} ${size.height * 0.6} Z`\n        return (\n          <path\n            d={cloudPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'callout':\n        const calloutPath = `M ${strokeWidth} ${strokeWidth}\n                            L ${size.width - strokeWidth} ${strokeWidth}\n                            L ${size.width - strokeWidth} ${size.height * 0.7}\n                            L ${size.width * 0.4} ${size.height * 0.7}\n                            L ${size.width * 0.2} ${size.height - strokeWidth}\n                            L ${size.width * 0.3} ${size.height * 0.7}\n                            L ${strokeWidth} ${size.height * 0.7} Z`\n        return (\n          <path\n            d={calloutPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'lightning':\n        const lightningPath = `M ${size.width * 0.55} ${strokeWidth}\n                              L ${size.width * 0.2} ${size.height * 0.5}\n                              L ${size.width * 0.45} ${size.height * 0.5}\n                              L ${size.width * 0.35} ${size.height - strokeWidth}\n                              L ${size.width * 0.8} ${size.height * 0.4}\n                              L ${size.width * 0.55} ${size.height * 0.4}\n                              Z`\n        return (\n          <path\n            d={lightningPath}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      case 'minus':\n        return (\n          <rect\n            x={strokeWidth}\n            y={size.height * 0.4}\n            width={size.width - strokeWidth * 2}\n            height={size.height * 0.2}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n\n      default:\n        // Default to rectangle for unsupported shapes\n        return (\n          <rect\n            x={strokeWidth / 2}\n            y={strokeWidth / 2}\n            width={size.width - strokeWidth}\n            height={size.height - strokeWidth}\n            fill={getFillStyle()}\n            stroke={getStrokeStyle()}\n            strokeWidth={strokeWidth}\n            strokeDasharray={strokeDasharray}\n          />\n        )\n    }\n  }\n\n  return <>{renderShape()}</>\n}\n\n// Helper function to generate regular polygon points\nfunction generateRegularPolygonPoints(\n  cx: number,\n  cy: number,\n  sides: number,\n  radius: number\n): string {\n  const result: string[] = []\n  const angleStep = (2 * Math.PI) / sides\n\n  for (let i = 0; i < sides; i++) {\n    const angle = i * angleStep - Math.PI / 2 // Start from top\n    const x = cx + radius * Math.cos(angle)\n    const y = cy + radius * Math.sin(angle)\n    result.push(`${x},${y}`)\n  }\n\n  return result.join(' ')\n}\n\n// Helper function to generate star points\nfunction generateStarPoints(\n  cx: number,\n  cy: number,\n  points: number,\n  outerRadius: number,\n  innerRadius: number\n): string {\n  const result: string[] = []\n  const step = Math.PI / points\n\n  for (let i = 0; i < 2 * points; i++) {\n    const radius = i % 2 === 0 ? outerRadius : innerRadius\n    const angle = i * step - Math.PI / 2\n    const x = cx + radius * Math.cos(angle)\n    const y = cy + radius * Math.sin(angle)\n    result.push(`${x},${y}`)\n  }\n\n  return result.join(' ')\n}\n","import { useRef, useState, useCallback, useEffect } from 'react'\nimport { TableCell as TableCellType, TextContent } from '@/types'\nimport { generateId } from '@/utils'\nimport { cn } from '@/lib/utils'\nimport { Image as ImageIcon, Check } from 'lucide-react'\n\ninterface TableCellProps {\n  cell: TableCellType\n  rowIndex: number\n  colIndex: number\n  width: number\n  height: number\n  isSelected: boolean\n  isEditing: boolean\n  onSelect: (rowIndex: number, colIndex: number) => void\n  onStartEdit: (rowIndex: number, colIndex: number) => void\n  onEndEdit: () => void\n  onChange: (rowIndex: number, colIndex: number, content: TextContent) => void\n  onCellUpdate: (rowIndex: number, colIndex: number, updates: Partial<TableCellType>) => void\n  onNavigate: (direction: 'next' | 'prev') => void\n}\n\nexport function TableCellComponent({\n  cell,\n  rowIndex,\n  colIndex,\n  width,\n  height,\n  isSelected,\n  isEditing,\n  onSelect,\n  onStartEdit,\n  onEndEdit,\n  onChange,\n  onCellUpdate,\n  onNavigate,\n}: TableCellProps) {\n  const cellRef = useRef<HTMLTableCellElement>(null)\n  const contentRef = useRef<HTMLDivElement>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [localContent, setLocalContent] = useState('')\n\n  const contentType = cell.contentType || 'text'\n\n  // Sync local content with cell content\n  useEffect(() => {\n    const text = cell.content.paragraphs\n      .map(p => p.runs.map(r => r.text).join(''))\n      .join('\\n')\n    setLocalContent(text)\n  }, [cell.content])\n\n  // Handle image upload\n  const handleImageUpload = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    const reader = new FileReader()\n    reader.onload = (event) => {\n      const imageUrl = event.target?.result as string\n      onCellUpdate(rowIndex, colIndex, {\n        contentType: 'image',\n        imageUrl,\n        imageFit: 'contain',\n      })\n    }\n    reader.readAsDataURL(file)\n  }, [rowIndex, colIndex, onCellUpdate])\n\n  // Handle checkbox toggle\n  const handleCheckboxToggle = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation()\n    onCellUpdate(rowIndex, colIndex, {\n      checked: !cell.checked,\n    })\n  }, [rowIndex, colIndex, cell.checked, onCellUpdate])\n\n  // Focus the content div when editing starts\n  useEffect(() => {\n    if (isEditing && contentRef.current) {\n      contentRef.current.focus()\n      // Select all text\n      const range = document.createRange()\n      range.selectNodeContents(contentRef.current)\n      const selection = window.getSelection()\n      selection?.removeAllRanges()\n      selection?.addRange(range)\n    }\n  }, [isEditing])\n\n  const handleClick = useCallback(() => {\n    onSelect(rowIndex, colIndex)\n  }, [rowIndex, colIndex, onSelect])\n\n  const handleDoubleClick = useCallback(() => {\n    onStartEdit(rowIndex, colIndex)\n  }, [rowIndex, colIndex, onStartEdit])\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Tab') {\n      e.preventDefault()\n      onNavigate(e.shiftKey ? 'prev' : 'next')\n    } else if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      onEndEdit()\n    } else if (e.key === 'Escape') {\n      onEndEdit()\n    }\n  }, [onNavigate, onEndEdit])\n\n  const handleInput = useCallback(() => {\n    if (!contentRef.current) return\n\n    const newText = contentRef.current.textContent || ''\n\n    // Create updated content structure\n    const newContent: TextContent = {\n      paragraphs: [{\n        id: cell.content.paragraphs[0]?.id || generateId(),\n        runs: [{\n          id: cell.content.paragraphs[0]?.runs[0]?.id || generateId(),\n          text: newText,\n          style: cell.content.paragraphs[0]?.runs[0]?.style || {\n            fontFamily: 'Calibri',\n            fontSize: 14,\n            fontWeight: 'normal',\n            fontStyle: 'normal',\n            textDecoration: 'none',\n            color: '#000000',\n          },\n        }],\n        alignment: cell.content.paragraphs[0]?.alignment || 'left',\n      }],\n    }\n\n    onChange(rowIndex, colIndex, newContent)\n  }, [cell, rowIndex, colIndex, onChange])\n\n  const handleBlur = useCallback(() => {\n    if (isEditing) {\n      onEndEdit()\n    }\n  }, [isEditing, onEndEdit])\n\n  // Get text style from first run\n  const firstRun = cell.content.paragraphs[0]?.runs[0]\n  const textStyle = firstRun?.style || {\n    fontFamily: 'Calibri',\n    fontSize: 14,\n    color: '#000000',\n  }\n\n  // Get cell background color\n  const bgColor = cell.fill?.type === 'solid' ? cell.fill.color : 'transparent'\n\n  // Get border styles\n  const getBorderStyle = (border?: { color: string; width: number; style: string }) => {\n    if (!border) return '1px solid #d1d5db'\n    if (border.style === 'none' || border.width === 0 || border.color === 'transparent') return 'none'\n    return `${border.width}px ${border.style} ${border.color}`\n  }\n\n  // Render cell content based on content type\n  const renderContent = () => {\n    switch (contentType) {\n      case 'image':\n        return (\n          <div className=\"w-full h-full flex items-center justify-center relative\">\n            {cell.imageUrl ? (\n              <img\n                src={cell.imageUrl}\n                alt=\"\"\n                className=\"max-w-full max-h-full\"\n                style={{\n                  objectFit: cell.imageFit === 'stretch' ? 'fill' : (cell.imageFit || 'contain'),\n                }}\n              />\n            ) : (\n              <div\n                className=\"flex flex-col items-center justify-center text-muted-foreground cursor-pointer hover:bg-muted/50 w-full h-full\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <ImageIcon className=\"h-6 w-6\" />\n                <span className=\"text-xs mt-1\">Add Image</span>\n              </div>\n            )}\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"image/*\"\n              className=\"hidden\"\n              onChange={handleImageUpload}\n            />\n          </div>\n        )\n\n      case 'checkbox':\n        return (\n          <div\n            className=\"w-full h-full flex items-center justify-center cursor-pointer\"\n            onClick={handleCheckboxToggle}\n          >\n            <div\n              className={cn(\n                'w-5 h-5 border-2 rounded flex items-center justify-center transition-colors',\n                cell.checked\n                  ? 'bg-primary border-primary text-white'\n                  : 'border-gray-400 hover:border-primary'\n              )}\n            >\n              {cell.checked && <Check className=\"h-4 w-4\" />}\n            </div>\n          </div>\n        )\n\n      case 'text':\n      default:\n        return (\n          <div\n            ref={contentRef}\n            contentEditable={isEditing}\n            suppressContentEditableWarning\n            className={cn(\n              'outline-none w-full h-full',\n              isEditing && 'bg-white'\n            )}\n            style={{\n              fontFamily: textStyle.fontFamily,\n              fontSize: `${textStyle.fontSize}px`,\n              fontWeight: textStyle.fontWeight,\n              fontStyle: textStyle.fontStyle,\n              textDecoration: textStyle.textDecoration,\n              color: textStyle.color,\n              textAlign: cell.content.paragraphs[0]?.alignment || 'left',\n            }}\n            onKeyDown={isEditing ? handleKeyDown : undefined}\n            onInput={isEditing ? handleInput : undefined}\n            onBlur={handleBlur}\n          >\n            {localContent}\n          </div>\n        )\n    }\n  }\n\n  return (\n    <td\n      ref={cellRef}\n      className={cn(\n        'relative',\n        isSelected && 'ring-2 ring-primary ring-inset',\n        !isEditing && contentType === 'text' && 'cursor-pointer'\n      )}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n        minWidth: `${width}px`,\n        minHeight: `${height}px`,\n        maxWidth: `${width}px`,\n        maxHeight: `${height}px`,\n        backgroundColor: bgColor,\n        borderTop: getBorderStyle(cell.borders?.top),\n        borderRight: getBorderStyle(cell.borders?.right),\n        borderBottom: getBorderStyle(cell.borders?.bottom),\n        borderLeft: getBorderStyle(cell.borders?.left),\n        padding: cell.padding\n          ? `${cell.padding.top}px ${cell.padding.right}px ${cell.padding.bottom}px ${cell.padding.left}px`\n          : '4px 8px',\n        verticalAlign: cell.verticalAlign || 'middle',\n        overflow: 'hidden',\n      }}\n      onClick={handleClick}\n      onDoubleClick={contentType === 'text' ? handleDoubleClick : undefined}\n      rowSpan={cell.rowSpan}\n      colSpan={cell.colSpan}\n    >\n      {renderContent()}\n    </td>\n  )\n}\n","import { useState, useCallback, useMemo } from 'react'\nimport { TableElement, TextContent, TableCell } from '@/types'\nimport { TableCellComponent } from './TableCell'\nimport { usePresentation } from '@/context'\n\ninterface TableProps {\n  element: TableElement\n  slideId: string\n  isSelected: boolean\n}\n\nexport function Table({ element, slideId, isSelected: _isSelected }: TableProps) {\n  const { updateElement } = usePresentation()\n  const [selectedCell, setSelectedCell] = useState<{ row: number; col: number } | null>(null)\n  const [editingCell, setEditingCell] = useState<{ row: number; col: number } | null>(null)\n\n  // Calculate cell dimensions based on element size and column/row proportions\n  const cellDimensions = useMemo(() => {\n    const totalWidth = element.size.width\n    const totalHeight = element.size.height\n\n    // Use stored widths/heights or distribute evenly\n    const columnWidths = element.columnWidths.length === element.columns\n      ? element.columnWidths.map(w => (w / element.columnWidths.reduce((a, b) => a + b, 0)) * totalWidth)\n      : Array(element.columns).fill(totalWidth / element.columns)\n\n    const rowHeights = element.rowHeights.length === element.rows\n      ? element.rowHeights.map(h => (h / element.rowHeights.reduce((a, b) => a + b, 0)) * totalHeight)\n      : Array(element.rows).fill(totalHeight / element.rows)\n\n    return { columnWidths, rowHeights }\n  }, [element])\n\n  const handleSelectCell = useCallback((row: number, col: number) => {\n    setSelectedCell({ row, col })\n    setEditingCell(null)\n  }, [])\n\n  const handleStartEdit = useCallback((row: number, col: number) => {\n    setSelectedCell({ row, col })\n    setEditingCell({ row, col })\n  }, [])\n\n  const handleEndEdit = useCallback(() => {\n    setEditingCell(null)\n  }, [])\n\n  const handleCellChange = useCallback((row: number, col: number, content: TextContent) => {\n    // Update the cell content\n    const newCells = element.cells.map((cellRow, rIdx) =>\n      cellRow.map((cell, cIdx) => {\n        if (rIdx === row && cIdx === col) {\n          return { ...cell, content }\n        }\n        return cell\n      })\n    )\n\n    updateElement(slideId, element.id, {\n      cells: newCells,\n    })\n  }, [element, slideId, updateElement])\n\n  const handleCellUpdate = useCallback((row: number, col: number, updates: Partial<TableCell>) => {\n    // Update cell properties (image, checkbox, etc.)\n    const newCells = element.cells.map((cellRow, rIdx) =>\n      cellRow.map((cell, cIdx) => {\n        if (rIdx === row && cIdx === col) {\n          return { ...cell, ...updates }\n        }\n        return cell\n      })\n    )\n\n    updateElement(slideId, element.id, {\n      cells: newCells,\n    })\n  }, [element, slideId, updateElement])\n\n  const handleNavigate = useCallback((direction: 'next' | 'prev') => {\n    if (!selectedCell) return\n\n    let newRow = selectedCell.row\n    let newCol = selectedCell.col\n\n    if (direction === 'next') {\n      newCol++\n      if (newCol >= element.columns) {\n        newCol = 0\n        newRow++\n        if (newRow >= element.rows) {\n          newRow = 0\n        }\n      }\n    } else {\n      newCol--\n      if (newCol < 0) {\n        newCol = element.columns - 1\n        newRow--\n        if (newRow < 0) {\n          newRow = element.rows - 1\n        }\n      }\n    }\n\n    setSelectedCell({ row: newRow, col: newCol })\n    setEditingCell({ row: newRow, col: newCol })\n  }, [selectedCell, element.rows, element.columns])\n\n  // Stop propagation to prevent element selection while editing\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\n    if (editingCell) {\n      e.stopPropagation()\n    }\n  }, [editingCell])\n\n  return (\n    <foreignObject\n      x={0}\n      y={0}\n      width={element.size.width}\n      height={element.size.height}\n      style={{ overflow: 'hidden' }}\n    >\n      <div\n        // @ts-expect-error xmlns is valid for foreignObject content\n        xmlns=\"http://www.w3.org/1999/xhtml\"\n        style={{\n          width: '100%',\n          height: '100%',\n        }}\n        onMouseDown={handleMouseDown}\n      >\n        <table\n          style={{\n            width: '100%',\n            height: '100%',\n            borderCollapse: element.style.borderCollapse ? 'collapse' : 'separate',\n            tableLayout: 'fixed',\n          }}\n        >\n          <tbody>\n            {element.cells.map((row, rowIndex) => (\n              <tr key={rowIndex}>\n                {row.map((cell, colIndex) => (\n                  <TableCellComponent\n                    key={cell.id}\n                    cell={cell}\n                    rowIndex={rowIndex}\n                    colIndex={colIndex}\n                    width={cellDimensions.columnWidths[colIndex]}\n                    height={cellDimensions.rowHeights[rowIndex]}\n                    isSelected={selectedCell?.row === rowIndex && selectedCell?.col === colIndex}\n                    isEditing={editingCell?.row === rowIndex && editingCell?.col === colIndex}\n                    onSelect={handleSelectCell}\n                    onStartEdit={handleStartEdit}\n                    onEndEdit={handleEndEdit}\n                    onChange={handleCellChange}\n                    onCellUpdate={handleCellUpdate}\n                    onNavigate={handleNavigate}\n                  />\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </foreignObject>\n  )\n}\n","import { useState, useCallback } from 'react'\nimport { cn } from '@/lib/utils'\n\ninterface TableGridPickerProps {\n  maxRows?: number\n  maxCols?: number\n  onSelect: (rows: number, cols: number) => void\n}\n\nexport function TableGridPicker({\n  maxRows = 8,\n  maxCols = 10,\n  onSelect,\n}: TableGridPickerProps) {\n  const [hoveredCell, setHoveredCell] = useState<{ row: number; col: number } | null>(null)\n\n  const handleMouseEnter = useCallback((row: number, col: number) => {\n    setHoveredCell({ row, col })\n  }, [])\n\n  const handleMouseLeave = useCallback(() => {\n    setHoveredCell(null)\n  }, [])\n\n  const handleClick = useCallback(() => {\n    if (hoveredCell) {\n      onSelect(hoveredCell.row, hoveredCell.col)\n    }\n  }, [hoveredCell, onSelect])\n\n  const isHighlighted = (row: number, col: number) => {\n    if (!hoveredCell) return false\n    return row <= hoveredCell.row && col <= hoveredCell.col\n  }\n\n  return (\n    <div className=\"p-2\">\n      <div className=\"text-sm text-center mb-2 text-muted-foreground h-5\">\n        {hoveredCell ? `${hoveredCell.col} x ${hoveredCell.row} Table` : 'Insert Table'}\n      </div>\n      <div\n        className=\"grid gap-0.5\"\n        style={{\n          gridTemplateColumns: `repeat(${maxCols}, 1fr)`,\n        }}\n        onMouseLeave={handleMouseLeave}\n      >\n        {Array.from({ length: maxRows }).map((_, rowIndex) =>\n          Array.from({ length: maxCols }).map((_, colIndex) => (\n            <button\n              key={`${rowIndex}-${colIndex}`}\n              className={cn(\n                'w-5 h-5 border border-border rounded-sm transition-colors',\n                isHighlighted(rowIndex + 1, colIndex + 1)\n                  ? 'bg-primary/20 border-primary'\n                  : 'bg-background hover:bg-muted'\n              )}\n              onMouseEnter={() => handleMouseEnter(rowIndex + 1, colIndex + 1)}\n              onClick={handleClick}\n              aria-label={`Insert ${colIndex + 1} by ${rowIndex + 1} table`}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useState, useCallback, memo } from 'react'\nimport { SlideElement, TextElement, ShapeElement, ImageElement, TableElement } from '@/types'\nimport { ElementWrapper } from './ElementWrapper'\nimport { TextBox } from './TextBox'\nimport { Shape } from './Shape'\nimport { Table } from './Table'\n\ninterface ElementRendererProps {\n  element: SlideElement\n  slideId: string\n  isSelected: boolean\n}\n\nexport const ElementRenderer = memo(function ElementRenderer({ element, slideId, isSelected }: ElementRendererProps) {\n  const [isEditing, setIsEditing] = useState(false)\n\n  const handleDoubleClick = useCallback(() => {\n    if (element.type === 'text' || element.type === 'table') {\n      setIsEditing(true)\n    }\n  }, [element.type])\n\n  const handleStopEditing = useCallback(() => {\n    setIsEditing(false)\n  }, [])\n\n  const renderElement = () => {\n    switch (element.type) {\n      case 'text':\n        return (\n          <TextBox\n            element={element as TextElement}\n            slideId={slideId}\n            isSelected={isSelected}\n            isEditing={isEditing}\n            onStartEditing={() => setIsEditing(true)}\n            onStopEditing={handleStopEditing}\n          />\n        )\n\n      case 'shape':\n        return <Shape element={element as ShapeElement} />\n\n      case 'image':\n        return <ImageElementRenderer element={element as ImageElement} />\n\n      case 'table':\n        return <Table element={element as TableElement} slideId={slideId} isSelected={isSelected} />\n\n      default:\n        return null\n    }\n  }\n\n  return (\n    <ElementWrapper\n      element={element}\n      slideId={slideId}\n      isSelected={isSelected}\n      isEditing={isEditing}\n      onDoubleClick={handleDoubleClick}\n    >\n      {renderElement()}\n    </ElementWrapper>\n  )\n})\n\n// Simple image renderer - memoized\nconst ImageElementRenderer = memo(function ImageElementRenderer({ element }: { element: ImageElement }) {\n  const { size, src, stroke, clipShape } = element\n  const isEllipse = clipShape === 'ellipse'\n  const clipId = isEllipse ? `clip-ellipse-${element.id}` : undefined\n\n  return (\n    <>\n      {/* Clip path for ellipse shape */}\n      {isEllipse && (\n        <defs>\n          <clipPath id={clipId}>\n            <ellipse\n              cx={size.width / 2}\n              cy={size.height / 2}\n              rx={size.width / 2}\n              ry={size.height / 2}\n            />\n          </clipPath>\n        </defs>\n      )}\n\n      {/* Image */}\n      <image\n        href={src}\n        x={0}\n        y={0}\n        width={size.width}\n        height={size.height}\n        preserveAspectRatio=\"xMidYMid slice\"\n        clipPath={clipId ? `url(#${clipId})` : undefined}\n      />\n\n      {/* Border */}\n      {stroke?.style !== 'none' && (\n        isEllipse ? (\n          <ellipse\n            cx={size.width / 2}\n            cy={size.height / 2}\n            rx={size.width / 2}\n            ry={size.height / 2}\n            fill=\"none\"\n            stroke={stroke?.color || 'transparent'}\n            strokeWidth={stroke?.width || 0}\n          />\n        ) : (\n          <rect\n            x={0}\n            y={0}\n            width={size.width}\n            height={size.height}\n            fill=\"none\"\n            stroke={stroke?.color || 'transparent'}\n            strokeWidth={stroke?.width || 0}\n          />\n        )\n      )}\n    </>\n  )\n})\n\n","import { useRef, useCallback, useEffect, useState } from 'react'\nimport { SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types'\nimport { usePresentation, useEditor, useSelection } from '@/context'\nimport { ElementRenderer } from '@/components/elements/ElementRenderer'\n\nexport function SlideCanvas() {\n  const { presentation } = usePresentation()\n  const { editorState, setCurrentSlide } = useEditor()\n  const { deselectAll, selection } = useSelection()\n  const wrapperRef = useRef<HTMLDivElement>(null)\n  const [size, setSize] = useState({ w: 800, h: 450 })\n\n  // Get current slide\n  const currentSlide = presentation?.slides.find(\n    s => s.id === editorState.currentSlideId\n  )\n\n  // Set first slide as current if none selected\n  useEffect(() => {\n    if (presentation && !editorState.currentSlideId && presentation.slides.length > 0) {\n      setCurrentSlide(presentation.slides[0].id)\n    }\n  }, [presentation, editorState.currentSlideId, setCurrentSlide])\n\n  // Measure the wrapper (which has fixed size from flex layout)\n  useEffect(() => {\n    const el = wrapperRef.current\n    if (!el) return\n\n    const update = () => {\n      const { offsetWidth: w, offsetHeight: h } = el\n      setSize(prev => (prev.w !== w || prev.h !== h) ? { w, h } : prev)\n    }\n\n    update()\n\n    const ro = new ResizeObserver(update)\n    ro.observe(el)\n    window.addEventListener('resize', update)\n    return () => {\n      ro.disconnect()\n      window.removeEventListener('resize', update)\n    }\n  }, [])\n\n  // Handle canvas click (deselect)\n  const handleCanvasClick = useCallback((e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      deselectAll()\n    }\n  }, [deselectAll])\n\n  if (!currentSlide) {\n    return (\n      <div ref={wrapperRef} className=\"h-full w-full flex items-center justify-center text-muted-foreground\">\n        No slide selected\n      </div>\n    )\n  }\n\n  // Fit slide to container at zoom=1.0\n  const pad = 40\n  const fitScale = Math.min(\n    (size.w - pad) / SLIDE_WIDTH,\n    (size.h - pad) / SLIDE_HEIGHT\n  )\n  const scale = Math.max(0.1, fitScale * editorState.zoom)\n  const sw = Math.round(SLIDE_WIDTH * scale)\n  const sh = Math.round(SLIDE_HEIGHT * scale)\n\n  // Get background fill\n  const getBackgroundFill = (): string => {\n    const bg = currentSlide.background\n    if (bg.type === 'solid') return bg.color || '#FFFFFF'\n    return '#FFFFFF'\n  }\n\n  const renderGradientDef = () => {\n    const bg = currentSlide.background\n    if (bg.type !== 'gradient' || !bg.gradient) return null\n\n    const gradientId = `bg-gradient-${currentSlide.id}`\n    const { gradient } = bg\n\n    if (gradient.type === 'linear') {\n      const angle = gradient.angle || 0\n      const rad = (angle * Math.PI) / 180\n      const x1 = 50 - Math.cos(rad) * 50\n      const y1 = 50 + Math.sin(rad) * 50\n      const x2 = 50 + Math.cos(rad) * 50\n      const y2 = 50 - Math.sin(rad) * 50\n\n      return (\n        <linearGradient id={gradientId} x1={`${x1}%`} y1={`${y1}%`} x2={`${x2}%`} y2={`${y2}%`}>\n          {gradient.stops.map((stop, i) => (\n            <stop key={i} offset={`${stop.position * 100}%`} stopColor={stop.color} />\n          ))}\n        </linearGradient>\n      )\n    } else {\n      return (\n        <radialGradient id={gradientId} cx=\"50%\" cy=\"50%\" r=\"50%\">\n          {gradient.stops.map((stop, i) => (\n            <stop key={i} offset={`${stop.position * 100}%`} stopColor={stop.color} />\n          ))}\n        </radialGradient>\n      )\n    }\n  }\n\n  const getBackgroundFillUrl = (): string => {\n    const bg = currentSlide.background\n    if (bg.type === 'gradient' && bg.gradient) {\n      return `url(#bg-gradient-${currentSlide.id})`\n    }\n    return getBackgroundFill()\n  }\n\n  // Position slide centered in the wrapper\n  const left = Math.max(0, Math.round((size.w - sw) / 2))\n  const top = Math.max(0, Math.round((size.h - sh) / 2))\n\n  return (\n    <div\n      ref={wrapperRef}\n      className=\"h-full w-full overflow-hidden relative bg-neutral-200\"\n      style={{ minHeight: 0 }}\n    >\n      {/* Scrollable area only when zoomed in past container */}\n      <div\n        className=\"absolute inset-0 overflow-auto\"\n        onClick={handleCanvasClick}\n      >\n        <div\n          style={{\n            position: 'absolute',\n            left,\n            top,\n            width: sw,\n            height: sh,\n          }}\n        >\n          <svg\n            width={sw}\n            height={sh}\n            viewBox={`0 0 ${SLIDE_WIDTH} ${SLIDE_HEIGHT}`}\n            className=\"slide-canvas bg-white\"\n            style={{\n              boxShadow: '0 4px 20px rgba(0, 0, 0, 0.15)',\n              display: 'block',\n            }}\n          >\n            <defs>\n              {renderGradientDef()}\n            </defs>\n\n            <rect\n              x=\"0\"\n              y=\"0\"\n              width={SLIDE_WIDTH}\n              height={SLIDE_HEIGHT}\n              fill={getBackgroundFillUrl()}\n            />\n\n            {currentSlide.background.type === 'image' && currentSlide.background.imageUrl && (\n              <image\n                href={currentSlide.background.imageUrl}\n                x=\"0\"\n                y=\"0\"\n                width={SLIDE_WIDTH}\n                height={SLIDE_HEIGHT}\n                preserveAspectRatio=\"xMidYMid slice\"\n              />\n            )}\n\n            {editorState.gridEnabled && <GridOverlay />}\n\n            {currentSlide.elements\n              .sort((a, b) => a.zIndex - b.zIndex)\n              .map(element => (\n                <ElementRenderer\n                  key={element.id}\n                  element={element}\n                  slideId={currentSlide.id}\n                  isSelected={selection.selectedElementIds.includes(element.id)}\n                />\n              ))}\n          </svg>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction GridOverlay() {\n  const gridSize = 20\n  const lines = []\n\n  for (let x = gridSize; x < SLIDE_WIDTH; x += gridSize) {\n    lines.push(\n      <line key={`v-${x}`} x1={x} y1={0} x2={x} y2={SLIDE_HEIGHT} stroke=\"#ddd\" strokeWidth=\"0.5\" />\n    )\n  }\n\n  for (let y = gridSize; y < SLIDE_HEIGHT; y += gridSize) {\n    lines.push(\n      <line key={`h-${y}`} x1={0} y1={y} x2={SLIDE_WIDTH} y2={y} stroke=\"#ddd\" strokeWidth=\"0.5\" />\n    )\n  }\n\n  return <g className=\"grid-overlay\">{lines}</g>\n}\n","\"use client\";\n\n// src/dropdown-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: /* @__PURE__ */ jsx(MenuPrimitive.Root, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { asChild: true, ...menuScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"DropdownMenuContent\";\nvar DropdownMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\nvar Root2 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal2 = DropdownMenuPortal;\nvar Content2 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item2 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow2 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// src/visually-hidden.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar VISUALLY_HIDDEN_STYLES = Object.freeze({\n  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n});\nvar NAME = \"VisuallyHidden\";\nvar VisuallyHidden = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...props,\n        ref: forwardedRef,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style }\n      }\n    );\n  }\n);\nVisuallyHidden.displayName = NAME;\nvar Root = VisuallyHidden;\nexport {\n  Root,\n  VISUALLY_HIDDEN_STYLES,\n  VisuallyHidden\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/tooltip.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlottable } from \"@radix-ui/react-slot\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React.useRef(true);\n  const isPointerInTransitRef = React.useRef(false);\n  const skipDelayTimerRef = React.useRef(0);\n  React.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return /* @__PURE__ */ jsx(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React.useState(null);\n  const contentId = useId();\n  const openTimerRef = React.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React.useRef(false);\n    const hasPointerMoveOpenedRef = React.useRef(false);\n    const handlePointerUp = React.useCallback(() => isPointerDownRef.current = false, []);\n    React.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeTooltip, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? /* @__PURE__ */ jsx(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return /* @__PURE__ */ jsx(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return /* @__PURE__ */ jsx(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: /* @__PURE__ */ jsxs(\n          PopperPrimitive.Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              /* @__PURE__ */ jsx(Slottable, { children }),\n              /* @__PURE__ */ jsx(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: /* @__PURE__ */ jsx(VisuallyHiddenPrimitive.Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","// src/separator.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Separator\";\nvar DEFAULT_ORIENTATION = \"horizontal\";\nvar ORIENTATIONS = [\"horizontal\", \"vertical\"];\nvar Separator = React.forwardRef((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  const ariaOrientation = orientation === \"vertical\" ? orientation : void 0;\n  const semanticProps = decorative ? { role: \"none\" } : { \"aria-orientation\": ariaOrientation, role: \"separator\" };\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"data-orientation\": orientation,\n      ...semanticProps,\n      ...domProps,\n      ref: forwardedRef\n    }\n  );\n});\nSeparator.displayName = NAME;\nfunction isValidOrientation(orientation) {\n  return ORIENTATIONS.includes(orientation);\n}\nvar Root = Separator;\nexport {\n  Root,\n  Separator\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","import { useState } from 'react'\nimport {\n  Type,\n  Square,\n  Circle,\n  Image,\n  Table,\n  Minus,\n  Plus,\n  ZoomIn,\n  ZoomOut,\n  Grid,\n  MousePointer,\n  Triangle,\n  Star,\n  ArrowRight,\n  ChevronDown,\n  Undo2,\n  Redo2,\n  Palette,\n  FolderOpen,\n  Download,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  useEditor,\n  usePresentation,\n  useSelection,\n  useHistory,\n} from '@/context'\nimport {\n  TextElement,\n  ShapeElement,\n  TableElement,\n  TableCell,\n  ShapeType,\n  DEFAULT_TEXT_STYLE,\n  DEFAULT_TEXTBOX_STYLE,\n  DEFAULT_FILL,\n  DEFAULT_STROKE,\n} from '@/types'\nimport { generateId } from '@/utils'\nimport { cn } from '@/lib/utils'\nimport { TableGridPicker } from '@/components/elements/Table'\n\ninterface MainToolbarProps {\n  className?: string\n  onImport?: () => void\n  onExport?: () => void\n  onTheme?: () => void\n}\n\nexport function MainToolbar({ className, onImport, onExport, onTheme }: MainToolbarProps) {\n  const { editorState, setActiveTool, zoomIn, zoomOut, zoomTo100, toggleGrid } = useEditor()\n  const { presentation, addElement } = usePresentation()\n  const { selectElements } = useSelection()\n  const { canUndo, canRedo, undo, redo } = useHistory()\n  const [tablePopoverOpen, setTablePopoverOpen] = useState(false)\n\n  const currentSlide = presentation?.slides.find(\n    s => s.id === editorState.currentSlideId\n  )\n\n  // Insert text box\n  const handleInsertText = () => {\n    if (!currentSlide) return\n\n    const textElement: TextElement = {\n      id: generateId(),\n      type: 'text',\n      position: { x: 100, y: 100 },\n      size: { width: 300, height: 100 },\n      zIndex: 0,\n      content: {\n        paragraphs: [{\n          id: generateId(),\n          runs: [{\n            id: generateId(),\n            text: 'Click to edit text',\n            style: DEFAULT_TEXT_STYLE,\n          }],\n          alignment: 'left',\n        }],\n      },\n      style: DEFAULT_TEXTBOX_STYLE,\n    }\n\n    addElement(currentSlide.id, textElement)\n    selectElements([textElement.id])\n  }\n\n  // Insert shape\n  const handleInsertShape = (shapeType: ShapeType) => {\n    if (!currentSlide) return\n\n    const shapeElement: ShapeElement = {\n      id: generateId(),\n      type: 'shape',\n      position: { x: 200, y: 150 },\n      size: { width: 150, height: 100 },\n      zIndex: 0,\n      shapeType,\n      fill: { ...DEFAULT_FILL },\n      stroke: { ...DEFAULT_STROKE },\n    }\n\n    addElement(currentSlide.id, shapeElement)\n    selectElements([shapeElement.id])\n  }\n\n  // Insert image (placeholder - would open file picker)\n  const handleInsertImage = () => {\n    const input = document.createElement('input')\n    input.type = 'file'\n    input.accept = 'image/*'\n    input.onchange = async (e) => {\n      const file = (e.target as HTMLInputElement).files?.[0]\n      if (!file || !currentSlide) return\n\n      // Read file as data URL\n      const reader = new FileReader()\n      reader.onload = () => {\n        const imageElement = {\n          id: generateId(),\n          type: 'image' as const,\n          position: { x: 150, y: 100 },\n          size: { width: 300, height: 200 },\n          zIndex: 0,\n          src: reader.result as string,\n          alt: file.name,\n        }\n\n        addElement(currentSlide.id, imageElement)\n        selectElements([imageElement.id])\n      }\n      reader.readAsDataURL(file)\n    }\n    input.click()\n  }\n\n  // Insert table\n  const handleInsertTable = (rows: number, cols: number) => {\n    if (!currentSlide) return\n\n    // Create default cell structure\n    const createCell = (): TableCell => ({\n      id: generateId(),\n      content: {\n        paragraphs: [{\n          id: generateId(),\n          runs: [{\n            id: generateId(),\n            text: '',\n            style: {\n              fontFamily: 'Calibri',\n              fontSize: 14,\n              fontWeight: 'normal',\n              fontStyle: 'normal',\n              textDecoration: 'none',\n              color: '#000000',\n            },\n          }],\n          alignment: 'left',\n        }],\n      },\n      padding: { top: 4, right: 8, bottom: 4, left: 8 },\n      verticalAlign: 'middle',\n      borders: {\n        top: { color: '#d1d5db', width: 1, style: 'solid' },\n        right: { color: '#d1d5db', width: 1, style: 'solid' },\n        bottom: { color: '#d1d5db', width: 1, style: 'solid' },\n        left: { color: '#d1d5db', width: 1, style: 'solid' },\n      },\n    })\n\n    // Create cells array\n    const cells: TableCell[][] = []\n    for (let r = 0; r < rows; r++) {\n      const row: TableCell[] = []\n      for (let c = 0; c < cols; c++) {\n        row.push(createCell())\n      }\n      cells.push(row)\n    }\n\n    // Calculate default dimensions\n    const cellWidth = 100\n    const cellHeight = 40\n    const tableWidth = cols * cellWidth\n    const tableHeight = rows * cellHeight\n\n    const tableElement: TableElement = {\n      id: generateId(),\n      type: 'table',\n      position: { x: (960 - tableWidth) / 2, y: (540 - tableHeight) / 2 },\n      size: { width: tableWidth, height: tableHeight },\n      zIndex: 0,\n      rows,\n      columns: cols,\n      cells,\n      columnWidths: Array(cols).fill(cellWidth),\n      rowHeights: Array(rows).fill(cellHeight),\n      style: {\n        borderCollapse: true,\n        defaultCellFill: { type: 'solid', color: '#FFFFFF' },\n      },\n    }\n\n    addElement(currentSlide.id, tableElement)\n    selectElements([tableElement.id])\n    setTablePopoverOpen(false)\n  }\n\n  return (\n    <TooltipProvider delayDuration={300}>\n      <div className={cn('flex items-center gap-1 px-2 bg-muted/30', className)}>\n        {/* File Menu */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"sm\" className=\"gap-1 h-7 px-2 text-xs\">\n              File\n              <ChevronDown className=\"h-3 w-3\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\">\n            <DropdownMenuItem onClick={onImport}>\n              <FolderOpen className=\"h-4 w-4 mr-2\" />\n              Import PPTX...\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={onExport} disabled={!presentation}>\n              <Download className=\"h-4 w-4 mr-2\" />\n              Export as PPTX\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        {/* Theme Button */}\n        <Button variant=\"ghost\" size=\"sm\" className=\"gap-1 h-7 px-2 text-xs\" onClick={onTheme}>\n          <Palette className=\"h-3 w-3\" />\n          Theme\n        </Button>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-1\" />\n\n        {/* Undo/Redo Quick Buttons */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={() => undo()}\n              disabled={!canUndo}\n              title=\"Undo (Ctrl+Z)\"\n              className=\"h-7 w-7\"\n            >\n              <Undo2 className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Undo (Ctrl+Z)</TooltipContent>\n        </Tooltip>\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={() => redo()}\n              disabled={!canRedo}\n              title=\"Redo (Ctrl+Y)\"\n              className=\"h-7 w-7\"\n            >\n              <Redo2 className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Redo (Ctrl+Y)</TooltipContent>\n        </Tooltip>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-1\" />\n\n        {/* Selection Tool */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={editorState.activeTool === 'select' ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              onClick={() => setActiveTool('select')}\n              className=\"h-7 w-7\"\n            >\n              <MousePointer className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Select (V)</TooltipContent>\n        </Tooltip>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-1\" />\n\n        {/* Insert Text */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={handleInsertText}\n              disabled={!currentSlide}\n              className=\"h-7 w-7\"\n            >\n              <Type className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Insert Text Box</TooltipContent>\n        </Tooltip>\n\n        {/* Insert Shape Dropdown */}\n        <DropdownMenu>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" size=\"icon-sm\" disabled={!currentSlide} className=\"h-7 w-7\">\n                  <Square className=\"h-3.5 w-3.5\" />\n                </Button>\n              </DropdownMenuTrigger>\n            </TooltipTrigger>\n            <TooltipContent>Insert Shape</TooltipContent>\n          </Tooltip>\n          <DropdownMenuContent align=\"start\">\n            <DropdownMenuItem onClick={() => handleInsertShape('rectangle')}>\n              <Square className=\"h-4 w-4 mr-2\" />\n              Rectangle\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleInsertShape('roundedRectangle')}>\n              <Square className=\"h-4 w-4 mr-2 rounded\" />\n              Rounded Rectangle\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleInsertShape('ellipse')}>\n              <Circle className=\"h-4 w-4 mr-2\" />\n              Ellipse\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => handleInsertShape('triangle')}>\n              <Triangle className=\"h-4 w-4 mr-2\" />\n              Triangle\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleInsertShape('diamond')}>\n              <Square className=\"h-4 w-4 mr-2 rotate-45\" />\n              Diamond\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => handleInsertShape('arrow')}>\n              <ArrowRight className=\"h-4 w-4 mr-2\" />\n              Arrow\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleInsertShape('star5')}>\n              <Star className=\"h-4 w-4 mr-2\" />\n              Star\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handleInsertShape('plus')}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Plus\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem onClick={() => handleInsertShape('line')}>\n              <Minus className=\"h-4 w-4 mr-2\" />\n              Line\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n\n        {/* Insert Image */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon-sm\"\n              onClick={handleInsertImage}\n              disabled={!currentSlide}\n              className=\"h-7 w-7\"\n            >\n              <Image className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Insert Image</TooltipContent>\n        </Tooltip>\n\n        {/* Insert Table */}\n        <Popover open={tablePopoverOpen} onOpenChange={setTablePopoverOpen}>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <PopoverTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon-sm\"\n                  disabled={!currentSlide}\n                  className=\"h-7 w-7\"\n                >\n                  <Table className=\"h-3.5 w-3.5\" />\n                </Button>\n              </PopoverTrigger>\n            </TooltipTrigger>\n            <TooltipContent>Insert Table</TooltipContent>\n          </Tooltip>\n          <PopoverContent className=\"w-auto p-0\" align=\"start\">\n            <TableGridPicker onSelect={handleInsertTable} />\n          </PopoverContent>\n        </Popover>\n\n        <div className=\"flex-1\" />\n\n        {/* View Options */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={editorState.gridEnabled ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              onClick={toggleGrid}\n              className=\"h-7 w-7\"\n            >\n              <Grid className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Toggle Grid</TooltipContent>\n        </Tooltip>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-1\" />\n\n        {/* Zoom Controls */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon-sm\" onClick={zoomOut} className=\"h-7 w-7\">\n              <ZoomOut className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Zoom Out</TooltipContent>\n        </Tooltip>\n\n        <button\n          onClick={zoomTo100}\n          className=\"text-xs text-muted-foreground hover:text-foreground w-12 text-center\"\n        >\n          {Math.round(editorState.zoom * 100)}%\n        </button>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon-sm\" onClick={zoomIn} className=\"h-7 w-7\">\n              <ZoomIn className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Zoom In</TooltipContent>\n        </Tooltip>\n      </div>\n    </TooltipProvider>\n  )\n}\n","import e,{useRef as r,useMemo as t,useEffect as n,useState as o,useCallback as a,useLayoutEffect as l}from\"react\";function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function c(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(o[t]=e[t]);return o}function i(e){var t=r(e),n=r(function(e){t.current&&t.current(e)});return t.current=e,n.current}var s=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},f=function(e){return\"touches\"in e},v=function(e){return e&&e.ownerDocument.defaultView||self},d=function(e,r,t){var n=e.getBoundingClientRect(),o=f(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:s((o.pageX-(n.left+v(e).pageXOffset))/n.width),top:s((o.pageY-(n.top+v(e).pageYOffset))/n.height)}},h=function(e){!f(e)&&e.preventDefault()},m=e.memo(function(o){var a=o.onMove,l=o.onKey,s=c(o,[\"onMove\",\"onKey\"]),m=r(null),g=i(a),p=i(l),b=r(null),_=r(!1),x=t(function(){var e=function(e){h(e),(f(e)?e.touches.length>0:e.buttons>0)&&m.current?g(d(m.current,e,b.current)):t(!1)},r=function(){return t(!1)};function t(t){var n=_.current,o=v(m.current),a=t?o.addEventListener:o.removeEventListener;a(n?\"touchmove\":\"mousemove\",e),a(n?\"touchend\":\"mouseup\",r)}return[function(e){var r=e.nativeEvent,n=m.current;if(n&&(h(r),!function(e,r){return r&&!f(e)}(r,_.current)&&n)){if(f(r)){_.current=!0;var o=r.changedTouches||[];o.length&&(b.current=o[0].identifier)}n.focus(),g(d(n,r,b.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),p({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[p,g]),C=x[0],E=x[1],H=x[2];return n(function(){return H},[H]),e.createElement(\"div\",u({},s,{onTouchStart:C,onMouseDown:C,className:\"react-colorful__interactive\",ref:m,onKeyDown:E,tabIndex:0,role:\"slider\"}))}),g=function(e){return e.filter(Boolean).join(\" \")},p=function(r){var t=r.color,n=r.left,o=r.top,a=void 0===o?.5:o,l=g([\"react-colorful__pointer\",r.className]);return e.createElement(\"div\",{className:l,style:{top:100*a+\"%\",left:100*n+\"%\"}},e.createElement(\"div\",{className:\"react-colorful__pointer-fill\",style:{backgroundColor:t}}))},b=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},_={grad:.9,turn:360,rad:360/(2*Math.PI)},x=function(e){return L(C(e))},C=function(e){return\"#\"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?b(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?b(parseInt(e.substring(6,8),16)/255,2):1}},E=function(e,r){return void 0===r&&(r=\"deg\"),Number(e)*(_[r]||1)},H=function(e){var r=/hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?N({h:E(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},M=H,N=function(e){var r=e.s,t=e.l;return{h:e.h,s:(r*=(t<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}},w=function(e){return K(I(e))},y=function(e){var r=e.s,t=e.v,n=e.a,o=(200-r)*t/100;return{h:b(e.h),s:b(o>0&&o<200?r*t/100/(o<=100?o:200-o)*100:0),l:b(o/2),a:b(n,2)}},q=function(e){var r=y(e);return\"hsl(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%)\"},k=function(e){var r=y(e);return\"hsla(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%, \"+r.a+\")\"},I=function(e){var r=e.h,t=e.s,n=e.v,o=e.a;r=r/360*6,t/=100,n/=100;var a=Math.floor(r),l=n*(1-t),u=n*(1-(r-a)*t),c=n*(1-(1-r+a)*t),i=a%6;return{r:b(255*[n,u,l,l,c,n][i]),g:b(255*[c,n,n,u,l,l][i]),b:b(255*[l,l,c,n,n,u][i]),a:b(o,2)}},O=function(e){var r=/hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?A({h:E(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},j=O,z=function(e){var r=/rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?L({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},B=z,D=function(e){var r=e.toString(16);return r.length<2?\"0\"+r:r},K=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=o<1?D(b(255*o)):\"\";return\"#\"+D(r)+D(t)+D(n)+a},L=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=Math.max(r,t,n),l=a-Math.min(r,t,n),u=l?a===r?(t-n)/l:a===t?2+(n-r)/l:4+(r-t)/l:0;return{h:b(60*(u<0?u+6:u)),s:b(a?l/a*100:0),v:b(a/255*100),a:o}},A=function(e){return{h:b(e.h),s:b(e.s),v:b(e.v),a:b(e.a,2)}},S=e.memo(function(r){var t=r.hue,n=r.onChange,o=g([\"react-colorful__hue\",r.className]);return e.createElement(\"div\",{className:o},e.createElement(m,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:s(t+360*e.left,0,360)})},\"aria-label\":\"Hue\",\"aria-valuenow\":b(t),\"aria-valuemax\":\"360\",\"aria-valuemin\":\"0\"},e.createElement(p,{className:\"react-colorful__hue-pointer\",left:t/360,color:q({h:t,s:100,v:100,a:1})})))}),T=e.memo(function(r){var t=r.hsva,n=r.onChange,o={backgroundColor:q({h:t.h,s:100,v:100,a:1})};return e.createElement(\"div\",{className:\"react-colorful__saturation\",style:o},e.createElement(m,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:s(t.s+100*e.left,0,100),v:s(t.v-100*e.top,0,100)})},\"aria-label\":\"Color\",\"aria-valuetext\":\"Saturation \"+b(t.s)+\"%, Brightness \"+b(t.v)+\"%\"},e.createElement(p,{className:\"react-colorful__saturation-pointer\",top:1-t.v/100,left:t.s/100,color:q(t)})))}),F=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},P=function(e,r){return e.replace(/\\s/g,\"\")===r.replace(/\\s/g,\"\")},X=function(e,r){return e.toLowerCase()===r.toLowerCase()||F(C(e),C(r))};function Y(e,t,l){var u=i(l),c=o(function(){return e.toHsva(t)}),s=c[0],f=c[1],v=r({color:t,hsva:s});n(function(){if(!e.equal(t,v.current.color)){var r=e.toHsva(t);v.current={hsva:r,color:t},f(r)}},[t,e]),n(function(){var r;F(s,v.current.hsva)||e.equal(r=e.fromHsva(s),v.current.color)||(v.current={hsva:s,color:r},u(r))},[s,e,u]);var d=a(function(e){f(function(r){return Object.assign({},r,e)})},[]);return[s,d]}var R,V=\"undefined\"!=typeof window?l:n,$=function(){return R||(\"undefined\"!=typeof __webpack_nonce__?__webpack_nonce__:void 0)},G=function(e){R=e},J=new Map,Q=function(e){V(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!J.has(r)){var t=r.createElement(\"style\");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:\"\";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\\'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>\\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',J.set(r,t);var n=$();n&&t.setAttribute(\"nonce\",n),r.head.appendChild(t)}},[])},U=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h,className:\"react-colorful__last-control\"}))},W={defaultColor:\"000\",toHsva:x,fromHsva:function(e){return w({h:e.h,s:e.s,v:e.v,a:1})},equal:X},Z=function(r){return e.createElement(U,u({},r,{colorModel:W}))},ee=function(r){var t=r.className,n=r.hsva,o=r.onChange,a={backgroundImage:\"linear-gradient(90deg, \"+k(Object.assign({},n,{a:0}))+\", \"+k(Object.assign({},n,{a:1}))+\")\"},l=g([\"react-colorful__alpha\",t]),u=b(100*n.a);return e.createElement(\"div\",{className:l},e.createElement(\"div\",{className:\"react-colorful__alpha-gradient\",style:a}),e.createElement(m,{onMove:function(e){o({a:e.left})},onKey:function(e){o({a:s(n.a+e.left)})},\"aria-label\":\"Alpha\",\"aria-valuetext\":u+\"%\",\"aria-valuenow\":u,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"},e.createElement(p,{className:\"react-colorful__alpha-pointer\",left:n.a,color:k(n)})))},re=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h}),e.createElement(ee,{hsva:d,onChange:h,className:\"react-colorful__last-control\"}))},te={defaultColor:\"0001\",toHsva:x,fromHsva:w,equal:X},ne=function(r){return e.createElement(re,u({},r,{colorModel:te}))},oe={defaultColor:{h:0,s:0,l:0,a:1},toHsva:N,fromHsva:y,equal:F},ae=function(r){return e.createElement(re,u({},r,{colorModel:oe}))},le={defaultColor:\"hsla(0, 0%, 0%, 1)\",toHsva:H,fromHsva:k,equal:P},ue=function(r){return e.createElement(re,u({},r,{colorModel:le}))},ce={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return N({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){return{h:(r=y(e)).h,s:r.s,l:r.l};var r},equal:F},ie=function(r){return e.createElement(U,u({},r,{colorModel:ce}))},se={defaultColor:\"hsl(0, 0%, 0%)\",toHsva:M,fromHsva:q,equal:P},fe=function(r){return e.createElement(U,u({},r,{colorModel:se}))},ve={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:A,equal:F},de=function(r){return e.createElement(re,u({},r,{colorModel:ve}))},he={defaultColor:\"hsva(0, 0%, 0%, 1)\",toHsva:O,fromHsva:function(e){var r=A(e);return\"hsva(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%, \"+r.a+\")\"},equal:P},me=function(r){return e.createElement(re,u({},r,{colorModel:he}))},ge={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var r=A(e);return{h:r.h,s:r.s,v:r.v}},equal:F},pe=function(r){return e.createElement(U,u({},r,{colorModel:ge}))},be={defaultColor:\"hsv(0, 0%, 0%)\",toHsva:j,fromHsva:function(e){var r=A(e);return\"hsv(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%)\"},equal:P},_e=function(r){return e.createElement(U,u({},r,{colorModel:be}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(r){return e.createElement(re,u({},r,{colorModel:xe}))},Ee={defaultColor:\"rgba(0, 0, 0, 1)\",toHsva:z,fromHsva:function(e){var r=I(e);return\"rgba(\"+r.r+\", \"+r.g+\", \"+r.b+\", \"+r.a+\")\"},equal:P},He=function(r){return e.createElement(re,u({},r,{colorModel:Ee}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return L({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(r=I(e)).r,g:r.g,b:r.b};var r},equal:F},Ne=function(r){return e.createElement(U,u({},r,{colorModel:Me}))},we={defaultColor:\"rgb(0, 0, 0)\",toHsva:B,fromHsva:function(e){var r=I(e);return\"rgb(\"+r.r+\", \"+r.g+\", \"+r.b+\")\"},equal:P},ye=function(r){return e.createElement(U,u({},r,{colorModel:we}))},qe=/^#?([0-9A-F]{3,8})$/i,ke=function(r){var t=r.color,l=void 0===t?\"\":t,s=r.onChange,f=r.onBlur,v=r.escape,d=r.validate,h=r.format,m=r.process,g=c(r,[\"color\",\"onChange\",\"onBlur\",\"escape\",\"validate\",\"format\",\"process\"]),p=o(function(){return v(l)}),b=p[0],_=p[1],x=i(s),C=i(f),E=a(function(e){var r=v(e.target.value);_(r),d(r)&&x(m?m(r):r)},[v,m,d,x]),H=a(function(e){d(e.target.value)||_(v(l)),C(e)},[l,v,d,C]);return n(function(){_(v(l))},[l,v]),e.createElement(\"input\",u({},g,{value:h?h(b):b,spellCheck:\"false\",onChange:E,onBlur:H}))},Ie=function(e){return\"#\"+e},Oe=function(r){var t=r.prefixed,n=r.alpha,o=c(r,[\"prefixed\",\"alpha\"]),l=a(function(e){return e.replace(/([^0-9A-F]+)/gi,\"\").substring(0,n?8:6)},[n]),i=a(function(e){return function(e,r){var t=qe.exec(e),n=t?t[1].length:0;return 3===n||6===n||!!r&&4===n||!!r&&8===n}(e,n)},[n]);return e.createElement(ke,u({},o,{escape:l,format:t?Ie:void 0,process:Ie,validate:i}))};export{ne as HexAlphaColorPicker,Oe as HexColorInput,Z as HexColorPicker,ie as HslColorPicker,fe as HslStringColorPicker,ae as HslaColorPicker,ue as HslaStringColorPicker,pe as HsvColorPicker,_e as HsvStringColorPicker,de as HsvaColorPicker,me as HsvaStringColorPicker,Ne as RgbColorPicker,ye as RgbStringColorPicker,Ce as RgbaColorPicker,He as RgbaStringColorPicker,G as setNonce};\n//# sourceMappingURL=index.module.js.map\n","import {\n  Bold,\n  Italic,\n  Underline,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  AlignJustify,\n  // ChevronDown,\n  Minus,\n  Plus,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip'\nimport { Separator } from '@/components/ui/separator'\nimport { HexColorPicker } from 'react-colorful'\nimport { usePresentation, useEditor, useSelection } from '@/context'\nimport { TextElement, TextContent } from '@/types'\nimport { applyFormatToSelection, toggleFormat, TextFormat } from '@/utils/textFormatting'\nimport { cn } from '@/lib/utils'\n\n// const FONT_FAMILIES = [\n//   'Calibri',\n//   'Calibri Light',\n//   'Arial',\n//   'Arial Black',\n//   'Times New Roman',\n//   'Georgia',\n//   'Verdana',\n//   'Helvetica',\n//   'Tahoma',\n//   'Trebuchet MS',\n//   'Courier New',\n//   'Impact',\n// ]\n\nconst FONT_SIZES = [8, 9, 10, 11, 12, 14, 16, 18, 20, 24, 28, 32, 36, 40, 44, 48, 54, 60, 72, 96]\n\ninterface FormattingToolbarProps {\n  className?: string\n}\n\nexport function FormattingToolbar({ className }: FormattingToolbarProps) {\n  const { presentation, updateElement } = usePresentation()\n  const { editorState, textEditingState } = useEditor()\n  const { getSelectedElements } = useSelection()\n\n  const selectedElements = getSelectedElements()\n  const currentSlide = presentation?.slides.find(\n    s => s.id === editorState.currentSlideId\n  )\n\n  // Only show for text elements\n  const textElement = selectedElements.length === 1 && selectedElements[0].type === 'text'\n    ? selectedElements[0] as TextElement\n    : null\n\n  if (!textElement || !currentSlide) return null\n\n  const slideId = currentSlide.id\n  const isEditingWithSelection = textEditingState.elementId === textElement.id && textEditingState.selection\n\n  // Get the style to display\n  const firstRun = textElement.content.paragraphs[0]?.runs[0]\n  const displayStyle = isEditingWithSelection && textEditingState.selectionStyle\n    ? { ...firstRun?.style, ...textEditingState.selectionStyle }\n    : firstRun?.style\n\n  const alignment = textElement.content.paragraphs[0]?.alignment || 'left'\n\n  // Format state\n  const isBold = displayStyle?.fontWeight === 'bold' || (typeof displayStyle?.fontWeight === 'number' && displayStyle.fontWeight >= 600)\n  const isItalic = displayStyle?.fontStyle === 'italic'\n  const isUnderline = displayStyle?.textDecoration === 'underline'\n  // const currentFontFamily = displayStyle?.fontFamily || 'Calibri'\n  const currentFontSize = displayStyle?.fontSize || 18\n  const currentColor = displayStyle?.color || '#000000'\n\n  // Apply format\n  const applyFormat = (property: string, value: string | number) => {\n    if (isEditingWithSelection && textEditingState.selection) {\n      const newContent = applyFormatToSelection(\n        textElement.content,\n        textEditingState.selection,\n        { property: property as TextFormat['property'], value }\n      )\n      updateElement(slideId, textElement.id, { content: newContent })\n    } else {\n      const newContent: TextContent = {\n        ...textElement.content,\n        paragraphs: textElement.content.paragraphs.map(p => ({\n          ...p,\n          runs: p.runs.map(r => ({\n            ...r,\n            style: { ...r.style, [property]: value },\n          })),\n        })),\n      }\n      updateElement(slideId, textElement.id, { content: newContent })\n    }\n  }\n\n  // Toggle bold/italic/underline\n  const handleToggleFormat = (property: 'fontWeight' | 'fontStyle' | 'textDecoration') => {\n    if (isEditingWithSelection && textEditingState.selection) {\n      const newContent = toggleFormat(textElement.content, textEditingState.selection, property)\n      updateElement(slideId, textElement.id, { content: newContent })\n    } else {\n      let newValue: string\n      switch (property) {\n        case 'fontWeight':\n          newValue = isBold ? 'normal' : 'bold'\n          break\n        case 'fontStyle':\n          newValue = isItalic ? 'normal' : 'italic'\n          break\n        case 'textDecoration':\n          newValue = isUnderline ? 'none' : 'underline'\n          break\n      }\n      applyFormat(property, newValue)\n    }\n  }\n\n  // Update alignment\n  const updateAlignment = (newAlignment: 'left' | 'center' | 'right' | 'justify') => {\n    const newContent = {\n      ...textElement.content,\n      paragraphs: textElement.content.paragraphs.map(p => ({\n        ...p,\n        alignment: newAlignment,\n      })),\n    }\n    updateElement(slideId, textElement.id, { content: newContent })\n  }\n\n  // Font size increment/decrement\n  const changeFontSize = (delta: number) => {\n    const currentIdx = FONT_SIZES.findIndex(s => s >= currentFontSize)\n    let newSize: number\n    if (delta > 0) {\n      newSize = currentIdx < FONT_SIZES.length - 1 ? FONT_SIZES[currentIdx + 1] : currentFontSize + 2\n    } else {\n      newSize = currentIdx > 0 ? FONT_SIZES[currentIdx - 1] : Math.max(6, currentFontSize - 2)\n    }\n    applyFormat('fontSize', newSize)\n  }\n\n  return (\n    <TooltipProvider delayDuration={300}>\n      <div className={cn('flex items-center gap-1 px-2 bg-muted/20 border-b', className)}>\n        {/* Font Family - commented out for now, may re-enable later */}\n        {/* <Popover>\n          <PopoverTrigger asChild>\n            <button className=\"h-7 px-2 text-xs border rounded bg-background hover:bg-muted flex items-center gap-1 min-w-[100px] max-w-[140px]\">\n              <span className=\"truncate\">{currentFontFamily}</span>\n              <ChevronDown className=\"h-3 w-3 flex-shrink-0 opacity-50\" />\n            </button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-48 p-1 max-h-64 overflow-auto\" align=\"start\">\n            {FONT_FAMILIES.map(font => (\n              <button\n                key={font}\n                onClick={() => applyFormat('fontFamily', font)}\n                className={cn(\n                  'w-full text-left px-2 py-1.5 text-sm rounded hover:bg-muted',\n                  currentFontFamily === font && 'bg-muted font-medium'\n                )}\n                style={{ fontFamily: font }}\n              >\n                {font}\n              </button>\n            ))}\n          </PopoverContent>\n        </Popover> */}\n\n        {/* Font Size */}\n        <div className=\"flex items-center\">\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon-sm\"\n                className=\"h-7 w-6\"\n                onClick={() => changeFontSize(-1)}\n              >\n                <Minus className=\"h-3 w-3\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Decrease Font Size</TooltipContent>\n          </Tooltip>\n\n          <Popover>\n            <PopoverTrigger asChild>\n              <button className=\"h-7 w-10 text-xs border rounded bg-background hover:bg-muted text-center\">\n                {Math.round(currentFontSize)}\n              </button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-20 p-1 max-h-48 overflow-auto\" align=\"start\">\n              {FONT_SIZES.map(size => (\n                <button\n                  key={size}\n                  onClick={() => applyFormat('fontSize', size)}\n                  className={cn(\n                    'w-full text-center px-2 py-1 text-sm rounded hover:bg-muted',\n                    currentFontSize === size && 'bg-muted font-medium'\n                  )}\n                >\n                  {size}\n                </button>\n              ))}\n            </PopoverContent>\n          </Popover>\n\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"icon-sm\"\n                className=\"h-7 w-6\"\n                onClick={() => changeFontSize(1)}\n              >\n                <Plus className=\"h-3 w-3\" />\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>Increase Font Size</TooltipContent>\n          </Tooltip>\n        </div>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-0.5\" />\n\n        {/* Bold / Italic / Underline */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={isBold ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => handleToggleFormat('fontWeight')}\n            >\n              <Bold className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Bold (Ctrl+B)</TooltipContent>\n        </Tooltip>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={isItalic ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => handleToggleFormat('fontStyle')}\n            >\n              <Italic className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Italic (Ctrl+I)</TooltipContent>\n        </Tooltip>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={isUnderline ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => handleToggleFormat('textDecoration')}\n            >\n              <Underline className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Underline (Ctrl+U)</TooltipContent>\n        </Tooltip>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-0.5\" />\n\n        {/* Text Color */}\n        <Popover>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <PopoverTrigger asChild>\n                <button className=\"h-7 w-7 flex items-center justify-center rounded hover:bg-muted\">\n                  <div className=\"flex flex-col items-center\">\n                    <span className=\"text-xs font-bold leading-none\" style={{ color: currentColor }}>A</span>\n                    <div className=\"w-4 h-1 rounded-sm mt-0.5\" style={{ backgroundColor: currentColor }} />\n                  </div>\n                </button>\n              </PopoverTrigger>\n            </TooltipTrigger>\n            <TooltipContent>Font Color</TooltipContent>\n          </Tooltip>\n          <PopoverContent className=\"w-auto p-3\" align=\"start\">\n            <HexColorPicker color={currentColor} onChange={(color) => applyFormat('color', color)} />\n            <input\n              type=\"text\"\n              value={currentColor}\n              onChange={(e) => applyFormat('color', e.target.value)}\n              className=\"w-full mt-2 h-7 px-2 text-xs border rounded\"\n            />\n          </PopoverContent>\n        </Popover>\n\n        <Separator orientation=\"vertical\" className=\"h-5 mx-0.5\" />\n\n        {/* Alignment */}\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={alignment === 'left' ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => updateAlignment('left')}\n            >\n              <AlignLeft className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Align Left</TooltipContent>\n        </Tooltip>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={alignment === 'center' ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => updateAlignment('center')}\n            >\n              <AlignCenter className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Align Center</TooltipContent>\n        </Tooltip>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={alignment === 'right' ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => updateAlignment('right')}\n            >\n              <AlignRight className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Align Right</TooltipContent>\n        </Tooltip>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <Button\n              variant={alignment === 'justify' ? 'secondary' : 'ghost'}\n              size=\"icon-sm\"\n              className=\"h-7 w-7\"\n              onClick={() => updateAlignment('justify')}\n            >\n              <AlignJustify className=\"h-3.5 w-3.5\" />\n            </Button>\n          </TooltipTrigger>\n          <TooltipContent>Justify</TooltipContent>\n        </Tooltip>\n      </div>\n    </TooltipProvider>\n  )\n}\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-previous/src/use-previous.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","import { ScrollArea } from '@/components/ui/scroll-area'\nimport { Separator } from '@/components/ui/separator'\nimport { usePresentation, useEditor, useSelection } from '@/context'\nimport { TextElement, ShapeElement, ImageElement, TableElement, TextContent, TableCell, Fill } from '@/types'\nimport { HexColorPicker } from 'react-colorful'\nimport { Button } from '@/components/ui/button'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  AlignJustify,\n  Bold,\n  Italic,\n  Underline,\n  Type,\n  Image as ImageIcon,\n  CheckSquare,\n  Grid3X3,\n} from 'lucide-react'\nimport { applyFormatToSelection, toggleFormat, TextFormat } from '@/utils/textFormatting'\n\nexport function PropertiesPanel() {\n  const { presentation, updateElement, updateSlideBackground } = usePresentation()\n  const { editorState } = useEditor()\n  const { getSelectedElements } = useSelection()\n\n  const currentSlide = presentation?.slides.find(\n    s => s.id === editorState.currentSlideId\n  )\n\n  const selectedElements = getSelectedElements()\n\n  // If nothing selected, show slide properties\n  if (selectedElements.length === 0) {\n    return (\n      <ScrollArea className=\"h-full\">\n        <div className=\"p-4\">\n          <h3 className=\"text-sm font-semibold mb-4\">Slide Properties</h3>\n\n          {currentSlide && (\n            <>\n              {/* Background color */}\n              <div className=\"space-y-2\">\n                <label className=\"text-sm text-muted-foreground\">Background</label>\n                <ColorPickerField\n                  color={currentSlide.background.color || '#FFFFFF'}\n                  onChange={(color) => {\n                    updateSlideBackground(currentSlide.id, {\n                      type: 'solid',\n                      color,\n                    })\n                  }}\n                />\n              </div>\n            </>\n          )}\n        </div>\n      </ScrollArea>\n    )\n  }\n\n  // Single element selected\n  if (selectedElements.length === 1) {\n    const element = selectedElements[0]\n\n    return (\n      <ScrollArea className=\"h-full\">\n        <div className=\"p-4 space-y-4\">\n          <h3 className=\"text-sm font-semibold\">\n            {element.type.charAt(0).toUpperCase() + element.type.slice(1)} Properties\n          </h3>\n\n          {/* Position & Size */}\n          <div className=\"space-y-2\">\n            <label className=\"text-xs text-muted-foreground uppercase\">Position & Size</label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <div>\n                <label className=\"text-xs\">X</label>\n                <input\n                  type=\"number\"\n                  value={Math.round(element.position.x)}\n                  onChange={(e) => {\n                    updateElement(currentSlide!.id, element.id, {\n                      position: { ...element.position, x: Number(e.target.value) },\n                    })\n                  }}\n                  className=\"w-full h-8 px-2 text-sm border rounded\"\n                />\n              </div>\n              <div>\n                <label className=\"text-xs\">Y</label>\n                <input\n                  type=\"number\"\n                  value={Math.round(element.position.y)}\n                  onChange={(e) => {\n                    updateElement(currentSlide!.id, element.id, {\n                      position: { ...element.position, y: Number(e.target.value) },\n                    })\n                  }}\n                  className=\"w-full h-8 px-2 text-sm border rounded\"\n                />\n              </div>\n              <div>\n                <label className=\"text-xs\">Width</label>\n                <input\n                  type=\"number\"\n                  value={Math.round(element.size.width)}\n                  onChange={(e) => {\n                    updateElement(currentSlide!.id, element.id, {\n                      size: { ...element.size, width: Number(e.target.value) },\n                    })\n                  }}\n                  className=\"w-full h-8 px-2 text-sm border rounded\"\n                />\n              </div>\n              <div>\n                <label className=\"text-xs\">Height</label>\n                <input\n                  type=\"number\"\n                  value={Math.round(element.size.height)}\n                  onChange={(e) => {\n                    updateElement(currentSlide!.id, element.id, {\n                      size: { ...element.size, height: Number(e.target.value) },\n                    })\n                  }}\n                  className=\"w-full h-8 px-2 text-sm border rounded\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Rotation */}\n          <div className=\"space-y-2\">\n            <label className=\"text-xs text-muted-foreground uppercase\">Rotation</label>\n            <input\n              type=\"number\"\n              value={element.rotation || 0}\n              onChange={(e) => {\n                updateElement(currentSlide!.id, element.id, {\n                  rotation: Number(e.target.value),\n                })\n              }}\n              className=\"w-full h-8 px-2 text-sm border rounded\"\n              min={-360}\n              max={360}\n            />\n          </div>\n\n          <Separator />\n\n          {/* Text-specific properties */}\n          {element.type === 'text' && (\n            <TextProperties\n              element={element as TextElement}\n              slideId={currentSlide!.id}\n            />\n          )}\n\n          {/* Shape-specific properties */}\n          {element.type === 'shape' && (\n            <ShapeProperties\n              element={element as ShapeElement}\n              slideId={currentSlide!.id}\n            />\n          )}\n\n          {/* Image-specific properties */}\n          {element.type === 'image' && (\n            <ImageProperties\n              element={element as ImageElement}\n              slideId={currentSlide!.id}\n            />\n          )}\n\n          {/* Table-specific properties */}\n          {element.type === 'table' && (\n            <TableProperties\n              element={element as TableElement}\n              slideId={currentSlide!.id}\n            />\n          )}\n        </div>\n      </ScrollArea>\n    )\n  }\n\n  // Multiple elements selected\n  return (\n    <ScrollArea className=\"h-full\">\n      <div className=\"p-4\">\n        <h3 className=\"text-sm font-semibold mb-4\">\n          {selectedElements.length} Elements Selected\n        </h3>\n        <p className=\"text-sm text-muted-foreground\">\n          Select a single element to edit its properties.\n        </p>\n      </div>\n    </ScrollArea>\n  )\n}\n\n// Text-specific properties\nfunction TextProperties({ element, slideId }: { element: TextElement; slideId: string }) {\n  const { updateElement } = usePresentation()\n  const { textEditingState } = useEditor()\n\n  // Check if we're currently editing this text element with a selection\n  const isEditingWithSelection = textEditingState.elementId === element.id && textEditingState.selection\n\n  // Get style to display - either from selection or from first run\n  const firstRun = element.content.paragraphs[0]?.runs[0]\n  const displayStyle = isEditingWithSelection && textEditingState.selectionStyle\n    ? { ...firstRun?.style, ...textEditingState.selectionStyle }\n    : firstRun?.style\n\n  const alignment = element.content.paragraphs[0]?.alignment || 'left'\n\n  // Apply format - either to selection or to all text\n  const applyFormat = (property: keyof TextFormat['property'] extends never ? string : TextFormat['property'], value: string | number) => {\n    if (isEditingWithSelection && textEditingState.selection) {\n      // Apply to selection only\n      const newContent = applyFormatToSelection(\n        element.content,\n        textEditingState.selection,\n        { property: property as TextFormat['property'], value }\n      )\n      updateElement(slideId, element.id, { content: newContent })\n    } else {\n      // Apply to all runs (original behavior)\n      const newContent: TextContent = {\n        ...element.content,\n        paragraphs: element.content.paragraphs.map(p => ({\n          ...p,\n          runs: p.runs.map(r => ({\n            ...r,\n            style: { ...r.style, [property]: value },\n          })),\n        })),\n      }\n      updateElement(slideId, element.id, { content: newContent })\n    }\n  }\n\n  // Toggle format (bold/italic/underline)\n  const handleToggleFormat = (property: 'fontWeight' | 'fontStyle' | 'textDecoration') => {\n    if (isEditingWithSelection && textEditingState.selection) {\n      const newContent = toggleFormat(element.content, textEditingState.selection, property)\n      updateElement(slideId, element.id, { content: newContent })\n    } else {\n      // Toggle all runs\n      let newValue: string\n      switch (property) {\n        case 'fontWeight':\n          newValue = displayStyle?.fontWeight === 'bold' ? 'normal' : 'bold'\n          break\n        case 'fontStyle':\n          newValue = displayStyle?.fontStyle === 'italic' ? 'normal' : 'italic'\n          break\n        case 'textDecoration':\n          newValue = displayStyle?.textDecoration === 'underline' ? 'none' : 'underline'\n          break\n      }\n      applyFormat(property, newValue)\n    }\n  }\n\n  const updateAlignment = (newAlignment: 'left' | 'center' | 'right' | 'justify') => {\n    const newContent = {\n      ...element.content,\n      paragraphs: element.content.paragraphs.map(p => ({\n        ...p,\n        alignment: newAlignment,\n      })),\n    }\n    updateElement(slideId, element.id, { content: newContent })\n  }\n\n  // Check if a format is active (for button states)\n  const isBold = displayStyle?.fontWeight === 'bold' || (typeof displayStyle?.fontWeight === 'number' && displayStyle.fontWeight >= 600)\n  const isItalic = displayStyle?.fontStyle === 'italic'\n  const isUnderline = displayStyle?.textDecoration === 'underline'\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-xs text-muted-foreground uppercase\">\n        Text Formatting\n        {isEditingWithSelection && (\n          <span className=\"ml-2 text-primary\">(Selection)</span>\n        )}\n      </label>\n\n      {/* Font Family */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Font</label>\n        <select\n          value={displayStyle?.fontFamily || 'Calibri'}\n          onChange={(e) => applyFormat('fontFamily', e.target.value)}\n          className=\"w-full h-8 px-2 text-sm border rounded\"\n        >\n          <option value=\"Calibri\">Calibri</option>\n          <option value=\"Arial\">Arial</option>\n          <option value=\"Times New Roman\">Times New Roman</option>\n          <option value=\"Georgia\">Georgia</option>\n          <option value=\"Verdana\">Verdana</option>\n          <option value=\"Helvetica\">Helvetica</option>\n        </select>\n      </div>\n\n      {/* Font Size */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Size</label>\n        <input\n          type=\"number\"\n          value={displayStyle?.fontSize || 18}\n          onChange={(e) => applyFormat('fontSize', Number(e.target.value))}\n          className=\"w-full h-8 px-2 text-sm border rounded\"\n          min={8}\n          max={200}\n        />\n      </div>\n\n      {/* Bold/Italic/Underline */}\n      <div className=\"flex gap-1\">\n        <Button\n          variant={isBold ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => handleToggleFormat('fontWeight')}\n        >\n          <Bold className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={isItalic ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => handleToggleFormat('fontStyle')}\n        >\n          <Italic className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={isUnderline ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => handleToggleFormat('textDecoration')}\n        >\n          <Underline className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Alignment */}\n      <div className=\"flex gap-1\">\n        <Button\n          variant={alignment === 'left' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => updateAlignment('left')}\n        >\n          <AlignLeft className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={alignment === 'center' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => updateAlignment('center')}\n        >\n          <AlignCenter className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={alignment === 'right' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => updateAlignment('right')}\n        >\n          <AlignRight className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={alignment === 'justify' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => updateAlignment('justify')}\n        >\n          <AlignJustify className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Text Color */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Text Color</label>\n        <ColorPickerField\n          color={displayStyle?.color || '#000000'}\n          onChange={(color) => applyFormat('color', color)}\n        />\n      </div>\n    </div>\n  )\n}\n\n// Shape-specific properties\nfunction ShapeProperties({ element, slideId }: { element: ShapeElement; slideId: string }) {\n  const { updateElement } = usePresentation()\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-xs text-muted-foreground uppercase\">Shape Formatting</label>\n\n      {/* Fill Color */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Fill Color</label>\n        <ColorPickerField\n          color={element.fill?.color || '#4472C4'}\n          onChange={(color) => {\n            updateElement(slideId, element.id, {\n              fill: { ...element.fill, type: 'solid', color },\n            })\n          }}\n        />\n      </div>\n\n      {/* Stroke Color */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Stroke Color</label>\n        <ColorPickerField\n          color={element.stroke?.color || '#2F528F'}\n          onChange={(color) => {\n            updateElement(slideId, element.id, {\n              stroke: {\n                color,\n                width: element.stroke?.width || 1,\n                style: element.stroke?.style || 'solid',\n              },\n            })\n          }}\n        />\n      </div>\n\n      {/* Stroke Width */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Stroke Width</label>\n        <input\n          type=\"number\"\n          value={element.stroke?.width || 1}\n          onChange={(e) => {\n            updateElement(slideId, element.id, {\n              stroke: { ...element.stroke!, width: Number(e.target.value) },\n            })\n          }}\n          className=\"w-full h-8 px-2 text-sm border rounded\"\n          min={0}\n          max={20}\n        />\n      </div>\n    </div>\n  )\n}\n\n// Image-specific properties\nfunction ImageProperties({ element, slideId }: { element: ImageElement; slideId: string }) {\n  const { updateElement } = usePresentation()\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-xs text-muted-foreground uppercase\">Image Properties</label>\n\n      {/* Opacity */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Opacity</label>\n        <input\n          type=\"range\"\n          min={0}\n          max={100}\n          value={(element.opacity ?? 1) * 100}\n          onChange={(e) => {\n            updateElement(slideId, element.id, {\n              opacity: Number(e.target.value) / 100,\n            })\n          }}\n          className=\"w-full\"\n        />\n        <span className=\"text-xs text-muted-foreground\">\n          {Math.round((element.opacity ?? 1) * 100)}%\n        </span>\n      </div>\n    </div>\n  )\n}\n\n// Table-specific properties\nfunction TableProperties({ element, slideId }: { element: TableElement; slideId: string }) {\n  const { updateElement } = usePresentation()\n\n  // Apply table style preset\n  const applyTableStyle = (styleName: string) => {\n    const newCells = element.cells.map((row, rowIndex) =>\n      row.map((cell, colIndex) => {\n        let fill: Fill | undefined = cell.fill\n        let borders = cell.borders\n        let clearFill = false\n\n        switch (styleName) {\n          case 'header-row':\n            if (rowIndex === 0) {\n              fill = { type: 'solid', color: '#4472C4' }\n            }\n            break\n          case 'alternating':\n            if (rowIndex % 2 === 0) {\n              fill = { type: 'solid', color: '#D6DCE4' }\n            } else {\n              fill = { type: 'solid', color: '#FFFFFF' }\n            }\n            break\n          case 'first-column':\n            if (colIndex === 0) {\n              fill = { type: 'solid', color: '#4472C4' }\n            }\n            break\n          case 'grid':\n            borders = {\n              top: { color: '#000000', width: 1, style: 'solid' },\n              right: { color: '#000000', width: 1, style: 'solid' },\n              bottom: { color: '#000000', width: 1, style: 'solid' },\n              left: { color: '#000000', width: 1, style: 'solid' },\n            }\n            break\n          case 'no-borders':\n            borders = undefined\n            break\n          case 'clear':\n            clearFill = true\n            borders = undefined\n            break\n        }\n\n        return { ...cell, fill: clearFill ? undefined : fill, borders }\n      })\n    )\n\n    updateElement(slideId, element.id, { cells: newCells })\n  }\n\n  // Update all cells in a row/column to a specific content type\n  const setCellContentType = (contentType: 'text' | 'image' | 'checkbox', scope: 'all' | 'row' | 'column', index?: number) => {\n    const newCells = element.cells.map((row, rowIndex) =>\n      row.map((cell, colIndex) => {\n        let shouldUpdate = false\n        if (scope === 'all') shouldUpdate = true\n        else if (scope === 'row' && rowIndex === index) shouldUpdate = true\n        else if (scope === 'column' && colIndex === index) shouldUpdate = true\n\n        if (shouldUpdate) {\n          return { ...cell, contentType, checked: contentType === 'checkbox' ? false : cell.checked }\n        }\n        return cell\n      })\n    )\n\n    updateElement(slideId, element.id, { cells: newCells })\n  }\n\n  // Add row/column\n  const addRow = () => {\n    const newRow: TableCell[] = element.cells[0].map((_, colIndex) => ({\n      id: `cell_${Date.now()}_${colIndex}`,\n      content: { paragraphs: [{ id: `p_${Date.now()}_${colIndex}`, runs: [{ id: `r_${Date.now()}_${colIndex}`, text: '', style: { fontFamily: 'Calibri', fontSize: 14, fontWeight: 'normal' as const, fontStyle: 'normal' as const, textDecoration: 'none' as const, color: '#000000' } }], alignment: 'left' as const }] },\n    }))\n    const newCells = [...element.cells, newRow]\n    const newRowHeights = [...element.rowHeights, element.rowHeights[0] || 30]\n    updateElement(slideId, element.id, {\n      cells: newCells,\n      rows: element.rows + 1,\n      rowHeights: newRowHeights,\n    })\n  }\n\n  const addColumn = () => {\n    const newCells = element.cells.map((row, rowIndex) => [\n      ...row,\n      {\n        id: `cell_${Date.now()}_${rowIndex}`,\n        content: { paragraphs: [{ id: `p_${Date.now()}_${rowIndex}`, runs: [{ id: `r_${Date.now()}_${rowIndex}`, text: '', style: { fontFamily: 'Calibri', fontSize: 14, fontWeight: 'normal' as const, fontStyle: 'normal' as const, textDecoration: 'none' as const, color: '#000000' } }], alignment: 'left' as const }] },\n      },\n    ])\n    const newColumnWidths = [...element.columnWidths, element.columnWidths[0] || 100]\n    updateElement(slideId, element.id, {\n      cells: newCells,\n      columns: element.columns + 1,\n      columnWidths: newColumnWidths,\n    })\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-xs text-muted-foreground uppercase\">Table Design</label>\n\n      {/* Table dimensions */}\n      <div className=\"grid grid-cols-2 gap-2\">\n        <div className=\"text-sm text-muted-foreground\">\n          {element.rows} rows x {element.columns} columns\n        </div>\n      </div>\n\n      {/* Add row/column */}\n      <div className=\"flex gap-2\">\n        <Button variant=\"outline\" size=\"sm\" onClick={addRow} className=\"flex-1\">\n          + Row\n        </Button>\n        <Button variant=\"outline\" size=\"sm\" onClick={addColumn} className=\"flex-1\">\n          + Column\n        </Button>\n      </div>\n\n      <Separator />\n\n      {/* Table style presets */}\n      <div className=\"space-y-2\">\n        <label className=\"text-xs text-muted-foreground\">Quick Styles</label>\n        <div className=\"grid grid-cols-2 gap-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('header-row')}>\n            Header Row\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('alternating')}>\n            Alternating\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('first-column')}>\n            First Column\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('grid')}>\n            <Grid3X3 className=\"h-4 w-4 mr-1\" />\n            Grid\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('no-borders')}>\n            No Borders\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => applyTableStyle('clear')}>\n            Clear Style\n          </Button>\n        </div>\n      </div>\n\n      <Separator />\n\n      {/* Cell content type */}\n      <div className=\"space-y-2\">\n        <label className=\"text-xs text-muted-foreground\">Set Cell Types</label>\n        <div className=\"space-y-2\">\n          <Select onValueChange={(value) => setCellContentType(value as 'text' | 'image' | 'checkbox', 'all')}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Set all cells to...\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"text\">\n                <div className=\"flex items-center gap-2\">\n                  <Type className=\"h-4 w-4\" />\n                  Text\n                </div>\n              </SelectItem>\n              <SelectItem value=\"image\">\n                <div className=\"flex items-center gap-2\">\n                  <ImageIcon className=\"h-4 w-4\" />\n                  Image\n                </div>\n              </SelectItem>\n              <SelectItem value=\"checkbox\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckSquare className=\"h-4 w-4\" />\n                  Checkbox\n                </div>\n              </SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        {/* Per-column type setting */}\n        <div className=\"space-y-1\">\n          <label className=\"text-xs text-muted-foreground\">Column types:</label>\n          <div className=\"flex gap-1 flex-wrap\">\n            {Array.from({ length: element.columns }).map((_, colIndex) => (\n              <Popover key={colIndex}>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-8 h-8 p-0\">\n                    {colIndex + 1}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-32 p-2\" align=\"start\">\n                  <div className=\"space-y-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('text', 'column', colIndex)}\n                    >\n                      <Type className=\"h-4 w-4 mr-2\" />\n                      Text\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('image', 'column', colIndex)}\n                    >\n                      <ImageIcon className=\"h-4 w-4 mr-2\" />\n                      Image\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('checkbox', 'column', colIndex)}\n                    >\n                      <CheckSquare className=\"h-4 w-4 mr-2\" />\n                      Checkbox\n                    </Button>\n                  </div>\n                </PopoverContent>\n              </Popover>\n            ))}\n          </div>\n        </div>\n\n        {/* Per-row type setting */}\n        <div className=\"space-y-1\">\n          <label className=\"text-xs text-muted-foreground\">Row types:</label>\n          <div className=\"flex gap-1 flex-wrap\">\n            {Array.from({ length: element.rows }).map((_, rowIndex) => (\n              <Popover key={rowIndex}>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-8 h-8 p-0\">\n                    {rowIndex + 1}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-32 p-2\" align=\"start\">\n                  <div className=\"space-y-1\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('text', 'row', rowIndex)}\n                    >\n                      <Type className=\"h-4 w-4 mr-2\" />\n                      Text\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('image', 'row', rowIndex)}\n                    >\n                      <ImageIcon className=\"h-4 w-4 mr-2\" />\n                      Image\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"w-full justify-start\"\n                      onClick={() => setCellContentType('checkbox', 'row', rowIndex)}\n                    >\n                      <CheckSquare className=\"h-4 w-4 mr-2\" />\n                      Checkbox\n                    </Button>\n                  </div>\n                </PopoverContent>\n              </Popover>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <Separator />\n\n      <TableTextFormatting element={element} slideId={slideId} />\n    </div>\n  )\n}\n\n// Table text formatting sub-component\nfunction TableTextFormatting({ element, slideId }: { element: TableElement; slideId: string }) {\n  const { updateElement } = usePresentation()\n\n  // Get current text style from first text cell\n  const getFirstTextStyle = () => {\n    for (const row of element.cells) {\n      for (const cell of row) {\n        if (!cell.contentType || cell.contentType === 'text') {\n          return cell.content.paragraphs[0]?.runs[0]?.style\n        }\n      }\n    }\n    return null\n  }\n\n  const currentStyle = getFirstTextStyle() || {\n    fontFamily: 'Calibri',\n    fontSize: 14,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    textDecoration: 'none',\n    color: '#000000',\n  }\n\n  // Apply text formatting to all text cells\n  const applyTextFormat = (property: string, value: string | number) => {\n    const newCells = element.cells.map(row =>\n      row.map(cell => {\n        if (!cell.contentType || cell.contentType === 'text') {\n          return {\n            ...cell,\n            content: {\n              ...cell.content,\n              paragraphs: cell.content.paragraphs.map(p => ({\n                ...p,\n                runs: p.runs.map(r => ({\n                  ...r,\n                  style: { ...r.style, [property]: value },\n                })),\n              })),\n            },\n          }\n        }\n        return cell\n      })\n    )\n    updateElement(slideId, element.id, { cells: newCells })\n  }\n\n  // Apply alignment to all text cells\n  const applyAlignment = (alignment: 'left' | 'center' | 'right' | 'justify') => {\n    const newCells = element.cells.map(row =>\n      row.map(cell => {\n        if (!cell.contentType || cell.contentType === 'text') {\n          return {\n            ...cell,\n            content: {\n              ...cell.content,\n              paragraphs: cell.content.paragraphs.map(p => ({\n                ...p,\n                alignment,\n              })),\n            },\n          }\n        }\n        return cell\n      })\n    )\n    updateElement(slideId, element.id, { cells: newCells })\n  }\n\n  const currentAlignment = element.cells[0]?.[0]?.content.paragraphs[0]?.alignment || 'left'\n  const isBold = currentStyle.fontWeight === 'bold'\n  const isItalic = currentStyle.fontStyle === 'italic'\n  const isUnderline = currentStyle.textDecoration === 'underline'\n\n  return (\n    <div className=\"space-y-4\">\n      <label className=\"text-xs text-muted-foreground uppercase\">Text Formatting</label>\n\n      {/* Font Family */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Font</label>\n        <select\n          value={currentStyle.fontFamily}\n          onChange={(e) => applyTextFormat('fontFamily', e.target.value)}\n          className=\"w-full h-8 px-2 text-sm border rounded\"\n        >\n          <option value=\"Calibri\">Calibri</option>\n          <option value=\"Arial\">Arial</option>\n          <option value=\"Times New Roman\">Times New Roman</option>\n          <option value=\"Georgia\">Georgia</option>\n          <option value=\"Verdana\">Verdana</option>\n          <option value=\"Helvetica\">Helvetica</option>\n        </select>\n      </div>\n\n      {/* Font Size */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Size</label>\n        <input\n          type=\"number\"\n          value={currentStyle.fontSize}\n          onChange={(e) => applyTextFormat('fontSize', Number(e.target.value))}\n          className=\"w-full h-8 px-2 text-sm border rounded\"\n          min={8}\n          max={72}\n        />\n      </div>\n\n      {/* Bold/Italic/Underline */}\n      <div className=\"flex gap-1\">\n        <Button\n          variant={isBold ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyTextFormat('fontWeight', isBold ? 'normal' : 'bold')}\n        >\n          <Bold className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={isItalic ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyTextFormat('fontStyle', isItalic ? 'normal' : 'italic')}\n        >\n          <Italic className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={isUnderline ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyTextFormat('textDecoration', isUnderline ? 'none' : 'underline')}\n        >\n          <Underline className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Alignment */}\n      <div className=\"flex gap-1\">\n        <Button\n          variant={currentAlignment === 'left' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyAlignment('left')}\n        >\n          <AlignLeft className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={currentAlignment === 'center' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyAlignment('center')}\n        >\n          <AlignCenter className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={currentAlignment === 'right' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyAlignment('right')}\n        >\n          <AlignRight className=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant={currentAlignment === 'justify' ? 'secondary' : 'outline'}\n          size=\"icon-sm\"\n          onClick={() => applyAlignment('justify')}\n        >\n          <AlignJustify className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Text Color */}\n      <div className=\"space-y-1\">\n        <label className=\"text-xs\">Text Color</label>\n        <ColorPickerField\n          color={currentStyle.color || '#000000'}\n          onChange={(color) => applyTextFormat('color', color)}\n        />\n      </div>\n    </div>\n  )\n}\n\n// Color picker field component\nfunction ColorPickerField({\n  color,\n  onChange,\n}: {\n  color: string\n  onChange: (color: string) => void\n}) {\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <button\n          className=\"w-full h-8 rounded border flex items-center gap-2 px-2\"\n        >\n          <div\n            className=\"w-5 h-5 rounded border\"\n            style={{ backgroundColor: color }}\n          />\n          <span className=\"text-sm\">{color}</span>\n        </button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-auto p-3\" align=\"start\">\n        <HexColorPicker color={color} onChange={onChange} />\n        <input\n          type=\"text\"\n          value={color}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-full mt-2 h-8 px-2 text-sm border rounded\"\n        />\n      </PopoverContent>\n    </Popover>\n  )\n}\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dialog.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContext, createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { hideOthers } from \"aria-hidden\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar DIALOG_NAME = \"Dialog\";\nvar [createDialogContext, createDialogScope] = createContextScope(DIALOG_NAME);\nvar [DialogProvider, useDialogContext] = createDialogContext(DIALOG_NAME);\nvar Dialog = (props) => {\n  const {\n    __scopeDialog,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const triggerRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DIALOG_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DialogProvider,\n    {\n      scope: __scopeDialog,\n      triggerRef,\n      contentRef,\n      contentId: useId(),\n      titleId: useId(),\n      descriptionId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children\n    }\n  );\n};\nDialog.displayName = DIALOG_NAME;\nvar TRIGGER_NAME = \"DialogTrigger\";\nvar DialogTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...triggerProps } = props;\n    const context = useDialogContext(TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n  }\n);\nDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DialogPortal\";\nvar [PortalProvider, usePortalContext] = createDialogContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar DialogPortal = (props) => {\n  const { __scopeDialog, forceMount, children, container } = props;\n  const context = useDialogContext(PORTAL_NAME, __scopeDialog);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeDialog, forceMount, children: React.Children.map(children, (child) => /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children: child }) })) });\n};\nDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"DialogOverlay\";\nvar DialogOverlay = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(DialogOverlayImpl, { ...overlayProps, ref: forwardedRef }) }) : null;\n  }\n);\nDialogOverlay.displayName = OVERLAY_NAME;\nvar Slot = createSlot(\"DialogOverlay.RemoveScroll\");\nvar DialogOverlayImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, __scopeDialog);\n    return (\n      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n      // ie. when `Overlay` and `Content` are siblings\n      /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, shards: [context.contentRef], children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-state\": getState(context.open),\n          ...overlayProps,\n          ref: forwardedRef,\n          style: { pointerEvents: \"auto\", ...overlayProps.style }\n        }\n      ) })\n    );\n  }\n);\nvar CONTENT_NAME = \"DialogContent\";\nvar DialogContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: context.modal ? /* @__PURE__ */ jsx(DialogContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(DialogContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nDialogContent.displayName = CONTENT_NAME;\nvar DialogContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, context.contentRef, contentRef);\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(props.onPointerDownOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (isRightClick) event.preventDefault();\n        }),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault()\n        )\n      }\n    );\n  }\n);\nvar DialogContentNonModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar DialogContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, trapFocus, onOpenAutoFocus, onCloseAutoFocus, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, __scopeDialog);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    useFocusGuards();\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        FocusScope,\n        {\n          asChild: true,\n          loop: true,\n          trapped: trapFocus,\n          onMountAutoFocus: onOpenAutoFocus,\n          onUnmountAutoFocus: onCloseAutoFocus,\n          children: /* @__PURE__ */ jsx(\n            DismissableLayer,\n            {\n              role: \"dialog\",\n              id: context.contentId,\n              \"aria-describedby\": context.descriptionId,\n              \"aria-labelledby\": context.titleId,\n              \"data-state\": getState(context.open),\n              ...contentProps,\n              ref: composedRefs,\n              onDismiss: () => context.onOpenChange(false)\n            }\n          )\n        }\n      ),\n      /* @__PURE__ */ jsxs(Fragment, { children: [\n        /* @__PURE__ */ jsx(TitleWarning, { titleId: context.titleId }),\n        /* @__PURE__ */ jsx(DescriptionWarning, { contentRef, descriptionId: context.descriptionId })\n      ] })\n    ] });\n  }\n);\nvar TITLE_NAME = \"DialogTitle\";\nvar DialogTitle = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...titleProps } = props;\n    const context = useDialogContext(TITLE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.h2, { id: context.titleId, ...titleProps, ref: forwardedRef });\n  }\n);\nDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"DialogDescription\";\nvar DialogDescription = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...descriptionProps } = props;\n    const context = useDialogContext(DESCRIPTION_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(Primitive.p, { id: context.descriptionId, ...descriptionProps, ref: forwardedRef });\n  }\n);\nDialogDescription.displayName = DESCRIPTION_NAME;\nvar CLOSE_NAME = \"DialogClose\";\nvar DialogClose = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...closeProps } = props;\n    const context = useDialogContext(CLOSE_NAME, __scopeDialog);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nDialogClose.displayName = CLOSE_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar TITLE_WARNING_NAME = \"DialogTitleWarning\";\nvar [WarningProvider, useWarningContext] = createContext(TITLE_WARNING_NAME, {\n  contentName: CONTENT_NAME,\n  titleName: TITLE_NAME,\n  docsSlug: \"dialog\"\n});\nvar TitleWarning = ({ titleId }) => {\n  const titleWarningContext = useWarningContext(TITLE_WARNING_NAME);\n  const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n  React.useEffect(() => {\n    if (titleId) {\n      const hasTitle = document.getElementById(titleId);\n      if (!hasTitle) console.error(MESSAGE);\n    }\n  }, [MESSAGE, titleId]);\n  return null;\n};\nvar DESCRIPTION_WARNING_NAME = \"DialogDescriptionWarning\";\nvar DescriptionWarning = ({ contentRef, descriptionId }) => {\n  const descriptionWarningContext = useWarningContext(DESCRIPTION_WARNING_NAME);\n  const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n  React.useEffect(() => {\n    const describedById = contentRef.current?.getAttribute(\"aria-describedby\");\n    if (descriptionId && describedById) {\n      const hasDescription = document.getElementById(descriptionId);\n      if (!hasDescription) console.warn(MESSAGE);\n    }\n  }, [MESSAGE, contentRef, descriptionId]);\n  return null;\n};\nvar Root = Dialog;\nvar Trigger = DialogTrigger;\nvar Portal = DialogPortal;\nvar Overlay = DialogOverlay;\nvar Content = DialogContent;\nvar Title = DialogTitle;\nvar Description = DialogDescription;\nvar Close = DialogClose;\nexport {\n  Close,\n  Content,\n  Description,\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n  Overlay,\n  Portal,\n  Root,\n  Title,\n  Trigger,\n  WarningProvider,\n  createDialogScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = 'DialogHeader'\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = 'DialogFooter'\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","import { useState } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Separator } from '@/components/ui/separator'\nimport { useThemes, usePresentation } from '@/context'\nimport { PresentationTheme } from '@/types'\nimport { Check, Pencil, Trash2, Plus, Copy } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface ThemePickerDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onEditTheme?: (theme: PresentationTheme) => void\n}\n\nexport function ThemePickerDialog({ open, onOpenChange, onEditTheme }: ThemePickerDialogProps) {\n  const { builtInThemes, customThemes, deleteTheme, createTheme, duplicateTheme } = useThemes()\n  const { presentation, setTheme } = usePresentation()\n  const [selectedThemeId, setSelectedThemeId] = useState<string | null>(\n    presentation?.theme?.id || null\n  )\n\n  const handleApplyTheme = () => {\n    const allThemes = [...builtInThemes, ...customThemes]\n    const theme = allThemes.find(t => t.id === selectedThemeId)\n    if (theme) {\n      setTheme(theme)\n      onOpenChange(false)\n    }\n  }\n\n  const handleDeleteTheme = (themeId: string) => {\n    if (confirm('Are you sure you want to delete this theme?')) {\n      deleteTheme(themeId)\n      if (selectedThemeId === themeId) {\n        setSelectedThemeId(null)\n      }\n    }\n  }\n\n  const handleCreateNew = () => {\n    const newTheme = createTheme('My Custom Theme')\n    if (onEditTheme) {\n      onEditTheme(newTheme)\n    }\n  }\n\n  const handleDuplicate = (themeId: string) => {\n    const duplicated = duplicateTheme(themeId)\n    if (duplicated && onEditTheme) {\n      onEditTheme(duplicated)\n    }\n  }\n\n  const handleEdit = (theme: PresentationTheme) => {\n    if (onEditTheme) {\n      onEditTheme(theme)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-2xl max-h-[80vh]\">\n        <DialogHeader>\n          <DialogTitle>Choose Theme</DialogTitle>\n          <DialogDescription>\n            Select a theme for your presentation or create a custom one\n          </DialogDescription>\n        </DialogHeader>\n\n        <ScrollArea className=\"h-[50vh] pr-4\">\n          <div className=\"space-y-6\">\n            {/* Built-in Themes */}\n            <div>\n              <h3 className=\"text-sm font-semibold mb-3\">Built-in Themes</h3>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {builtInThemes.map(theme => (\n                  <ThemeCard\n                    key={theme.id}\n                    theme={theme}\n                    isSelected={selectedThemeId === theme.id}\n                    isCurrent={presentation?.theme?.id === theme.id}\n                    onClick={() => setSelectedThemeId(theme.id)}\n                    onDuplicate={() => handleDuplicate(theme.id)}\n                  />\n                ))}\n              </div>\n            </div>\n\n            {/* Custom Themes */}\n            <div>\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-sm font-semibold\">Custom Themes</h3>\n                <Button variant=\"outline\" size=\"sm\" onClick={handleCreateNew}>\n                  <Plus className=\"h-4 w-4 mr-1\" />\n                  New Theme\n                </Button>\n              </div>\n              {customThemes.length === 0 ? (\n                <div className=\"text-center py-8 text-muted-foreground text-sm\">\n                  No custom themes yet. Create one to get started.\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-3 gap-3\">\n                  {customThemes.map(theme => (\n                    <ThemeCard\n                      key={theme.id}\n                      theme={theme}\n                      isSelected={selectedThemeId === theme.id}\n                      isCurrent={presentation?.theme?.id === theme.id}\n                      onClick={() => setSelectedThemeId(theme.id)}\n                      onEdit={() => handleEdit(theme)}\n                      onDelete={() => handleDeleteTheme(theme.id)}\n                      onDuplicate={() => handleDuplicate(theme.id)}\n                      isCustom\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </ScrollArea>\n\n        <Separator />\n\n        <div className=\"flex justify-end gap-2\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancel\n          </Button>\n          <Button onClick={handleApplyTheme} disabled={!selectedThemeId}>\n            Apply Theme\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\ninterface ThemeCardProps {\n  theme: PresentationTheme\n  isSelected: boolean\n  isCurrent: boolean\n  onClick: () => void\n  onEdit?: () => void\n  onDelete?: () => void\n  onDuplicate?: () => void\n  isCustom?: boolean\n}\n\nfunction ThemeCard({\n  theme,\n  isSelected,\n  isCurrent,\n  onClick,\n  onEdit,\n  onDelete,\n  onDuplicate,\n  isCustom,\n}: ThemeCardProps) {\n  const { colorScheme } = theme\n\n  return (\n    <div\n      className={cn(\n        'relative border rounded-lg p-2 cursor-pointer transition-all',\n        isSelected ? 'ring-2 ring-primary border-primary' : 'hover:border-muted-foreground/50',\n        isCurrent && 'border-green-500'\n      )}\n      onClick={onClick}\n    >\n      {/* Theme Preview */}\n      <div\n        className=\"h-20 rounded mb-2 relative overflow-hidden\"\n        style={{ backgroundColor: colorScheme.background1 }}\n      >\n        {/* Color swatches */}\n        <div className=\"absolute bottom-2 left-2 right-2 flex gap-1\">\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent1 }}\n          />\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent2 }}\n          />\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent3 }}\n          />\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent4 }}\n          />\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent5 }}\n          />\n          <div\n            className=\"w-4 h-4 rounded-sm border border-white/20\"\n            style={{ backgroundColor: colorScheme.accent6 }}\n          />\n        </div>\n\n        {/* Sample text */}\n        <div className=\"absolute top-2 left-2 text-xs font-semibold\" style={{ color: colorScheme.text1 }}>\n          Aa\n        </div>\n      </div>\n\n      {/* Theme Name */}\n      <div className=\"flex items-center justify-between\">\n        <span className=\"text-sm font-medium truncate\">{theme.name}</span>\n        {isCurrent && (\n          <Check className=\"h-4 w-4 text-green-500 flex-shrink-0\" />\n        )}\n      </div>\n\n      {/* Action buttons for custom themes */}\n      {(isCustom || onDuplicate) && (\n        <div className=\"absolute top-1 right-1 flex gap-1 opacity-0 hover:opacity-100 transition-opacity\">\n          {onDuplicate && (\n            <Button\n              variant=\"secondary\"\n              size=\"icon\"\n              className=\"h-6 w-6\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onDuplicate()\n              }}\n            >\n              <Copy className=\"h-3 w-3\" />\n            </Button>\n          )}\n          {onEdit && (\n            <Button\n              variant=\"secondary\"\n              size=\"icon\"\n              className=\"h-6 w-6\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onEdit()\n              }}\n            >\n              <Pencil className=\"h-3 w-3\" />\n            </Button>\n          )}\n          {onDelete && (\n            <Button\n              variant=\"destructive\"\n              size=\"icon\"\n              className=\"h-6 w-6\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onDelete()\n              }}\n            >\n              <Trash2 className=\"h-3 w-3\" />\n            </Button>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface LabelProps\n  extends React.LabelHTMLAttributes<HTMLLabelElement> {}\n\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nLabel.displayName = \"Label\"\n\nexport { Label }\n","\"use client\";\n\n// src/tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? \"\",\n      caller: TABS_NAME\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import { useState, useEffect, useRef } from 'react'\n// Theme editor dialog for creating and editing themes\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { HexColorPicker } from 'react-colorful'\nimport { useThemes } from '@/context'\nimport { PresentationTheme, ColorScheme, FontScheme, Background } from '@/types'\nimport { Upload, X, Image as ImageIcon } from 'lucide-react'\n\ninterface ThemeEditorDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  theme: PresentationTheme | null\n  onSave?: (theme: PresentationTheme) => void\n}\n\nexport function ThemeEditorDialog({\n  open,\n  onOpenChange,\n  theme,\n  onSave,\n}: ThemeEditorDialogProps) {\n  const { saveTheme } = useThemes()\n  const [editedTheme, setEditedTheme] = useState<PresentationTheme | null>(null)\n\n  // Initialize edited theme when dialog opens\n  useEffect(() => {\n    if (theme && open) {\n      setEditedTheme({\n        ...theme,\n        colorScheme: { ...theme.colorScheme },\n        fontScheme: {\n          majorFont: { ...theme.fontScheme.majorFont },\n          minorFont: { ...theme.fontScheme.minorFont },\n        },\n        defaultBackground: { ...theme.defaultBackground },\n      })\n    }\n  }, [theme, open])\n\n  if (!editedTheme) return null\n\n  const handleSave = () => {\n    saveTheme(editedTheme)\n    onSave?.(editedTheme)\n    onOpenChange(false)\n  }\n\n  const updateColorScheme = (key: keyof ColorScheme, value: string) => {\n    setEditedTheme(prev => prev ? {\n      ...prev,\n      colorScheme: { ...prev.colorScheme, [key]: value },\n    } : null)\n  }\n\n  const updateFontScheme = (type: 'majorFont' | 'minorFont', value: string) => {\n    setEditedTheme(prev => prev ? {\n      ...prev,\n      fontScheme: {\n        ...prev.fontScheme,\n        [type]: { latin: value },\n      },\n    } : null)\n  }\n\n  const updateBackground = (background: Background) => {\n    setEditedTheme(prev => prev ? {\n      ...prev,\n      defaultBackground: background,\n    } : null)\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-xl max-h-[85vh]\">\n        <DialogHeader>\n          <DialogTitle>\n            {theme?.id?.startsWith('custom_') || !theme?.id ? 'Create Theme' : 'Edit Theme'}\n          </DialogTitle>\n          <DialogDescription>\n            Customize colors, fonts, and default background\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* Theme Name */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"theme-name\">Theme Name</Label>\n            <Input\n              id=\"theme-name\"\n              value={editedTheme.name}\n              onChange={(e) => setEditedTheme(prev => prev ? { ...prev, name: e.target.value } : null)}\n              placeholder=\"Enter theme name\"\n            />\n          </div>\n\n          <Tabs defaultValue=\"colors\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"colors\">Colors</TabsTrigger>\n              <TabsTrigger value=\"fonts\">Fonts</TabsTrigger>\n              <TabsTrigger value=\"background\">Background</TabsTrigger>\n            </TabsList>\n\n            <ScrollArea className=\"h-[45vh] mt-4\">\n              {/* Colors Tab */}\n              <TabsContent value=\"colors\" className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <ColorField\n                    label=\"Dark 1 (Primary Text)\"\n                    color={editedTheme.colorScheme.dark1}\n                    onChange={(c) => updateColorScheme('dark1', c)}\n                  />\n                  <ColorField\n                    label=\"Light 1 (Background)\"\n                    color={editedTheme.colorScheme.light1}\n                    onChange={(c) => updateColorScheme('light1', c)}\n                  />\n                  <ColorField\n                    label=\"Dark 2 (Secondary Text)\"\n                    color={editedTheme.colorScheme.dark2}\n                    onChange={(c) => updateColorScheme('dark2', c)}\n                  />\n                  <ColorField\n                    label=\"Light 2 (Alt Background)\"\n                    color={editedTheme.colorScheme.light2}\n                    onChange={(c) => updateColorScheme('light2', c)}\n                  />\n                </div>\n\n                <div className=\"pt-4\">\n                  <Label className=\"text-xs text-muted-foreground uppercase\">Accent Colors</Label>\n                  <div className=\"grid grid-cols-3 gap-4 mt-2\">\n                    <ColorField\n                      label=\"Accent 1\"\n                      color={editedTheme.colorScheme.accent1}\n                      onChange={(c) => updateColorScheme('accent1', c)}\n                    />\n                    <ColorField\n                      label=\"Accent 2\"\n                      color={editedTheme.colorScheme.accent2}\n                      onChange={(c) => updateColorScheme('accent2', c)}\n                    />\n                    <ColorField\n                      label=\"Accent 3\"\n                      color={editedTheme.colorScheme.accent3}\n                      onChange={(c) => updateColorScheme('accent3', c)}\n                    />\n                    <ColorField\n                      label=\"Accent 4\"\n                      color={editedTheme.colorScheme.accent4}\n                      onChange={(c) => updateColorScheme('accent4', c)}\n                    />\n                    <ColorField\n                      label=\"Accent 5\"\n                      color={editedTheme.colorScheme.accent5}\n                      onChange={(c) => updateColorScheme('accent5', c)}\n                    />\n                    <ColorField\n                      label=\"Accent 6\"\n                      color={editedTheme.colorScheme.accent6}\n                      onChange={(c) => updateColorScheme('accent6', c)}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"pt-4\">\n                  <Label className=\"text-xs text-muted-foreground uppercase\">Links</Label>\n                  <div className=\"grid grid-cols-2 gap-4 mt-2\">\n                    <ColorField\n                      label=\"Hyperlink\"\n                      color={editedTheme.colorScheme.hyperlink}\n                      onChange={(c) => updateColorScheme('hyperlink', c)}\n                    />\n                    <ColorField\n                      label=\"Followed Link\"\n                      color={editedTheme.colorScheme.followedHyperlink}\n                      onChange={(c) => updateColorScheme('followedHyperlink', c)}\n                    />\n                  </div>\n                </div>\n              </TabsContent>\n\n              {/* Fonts Tab */}\n              <TabsContent value=\"fonts\" className=\"space-y-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label>Heading Font (Major)</Label>\n                    <select\n                      className=\"w-full h-10 px-3 border rounded-md\"\n                      value={editedTheme.fontScheme.majorFont.latin}\n                      onChange={(e) => updateFontScheme('majorFont', e.target.value)}\n                    >\n                      <option value=\"Calibri Light\">Calibri Light</option>\n                      <option value=\"Arial\">Arial</option>\n                      <option value=\"Helvetica\">Helvetica</option>\n                      <option value=\"Georgia\">Georgia</option>\n                      <option value=\"Times New Roman\">Times New Roman</option>\n                      <option value=\"Verdana\">Verdana</option>\n                      <option value=\"Trebuchet MS\">Trebuchet MS</option>\n                      <option value=\"Impact\">Impact</option>\n                    </select>\n                    <div\n                      className=\"p-4 border rounded-md mt-2\"\n                      style={{ fontFamily: editedTheme.fontScheme.majorFont.latin }}\n                    >\n                      <span className=\"text-2xl\">Heading Preview</span>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Body Font (Minor)</Label>\n                    <select\n                      className=\"w-full h-10 px-3 border rounded-md\"\n                      value={editedTheme.fontScheme.minorFont.latin}\n                      onChange={(e) => updateFontScheme('minorFont', e.target.value)}\n                    >\n                      <option value=\"Calibri\">Calibri</option>\n                      <option value=\"Arial\">Arial</option>\n                      <option value=\"Helvetica\">Helvetica</option>\n                      <option value=\"Georgia\">Georgia</option>\n                      <option value=\"Times New Roman\">Times New Roman</option>\n                      <option value=\"Verdana\">Verdana</option>\n                      <option value=\"Open Sans\">Open Sans</option>\n                      <option value=\"Roboto\">Roboto</option>\n                    </select>\n                    <div\n                      className=\"p-4 border rounded-md mt-2\"\n                      style={{ fontFamily: editedTheme.fontScheme.minorFont.latin }}\n                    >\n                      <span className=\"text-base\">Body text preview. The quick brown fox jumps over the lazy dog.</span>\n                    </div>\n                  </div>\n                </div>\n              </TabsContent>\n\n              {/* Background Tab */}\n              <TabsContent value=\"background\" className=\"space-y-4\">\n                <BackgroundEditor\n                  background={editedTheme.defaultBackground}\n                  onChange={updateBackground}\n                  colorScheme={editedTheme.colorScheme}\n                  fontScheme={editedTheme.fontScheme}\n                />\n              </TabsContent>\n            </ScrollArea>\n          </Tabs>\n        </div>\n\n        <div className=\"flex justify-end gap-2 pt-4\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancel\n          </Button>\n          <Button onClick={handleSave}>\n            Save Theme\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\ninterface ColorFieldProps {\n  label: string\n  color: string\n  onChange: (color: string) => void\n}\n\nfunction ColorField({ label, color, onChange }: ColorFieldProps) {\n  return (\n    <div className=\"space-y-1\">\n      <Label className=\"text-xs\">{label}</Label>\n      <Popover>\n        <PopoverTrigger asChild>\n          <button\n            className=\"w-full h-9 rounded border flex items-center gap-2 px-2 hover:bg-muted/50\"\n          >\n            <div\n              className=\"w-6 h-6 rounded border\"\n              style={{ backgroundColor: color }}\n            />\n            <span className=\"text-sm font-mono\">{color}</span>\n          </button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-auto p-3\" align=\"start\">\n          <HexColorPicker color={color} onChange={onChange} />\n          <input\n            type=\"text\"\n            value={color}\n            onChange={(e) => onChange(e.target.value)}\n            className=\"w-full mt-2 h-8 px-2 text-sm border rounded font-mono\"\n          />\n        </PopoverContent>\n      </Popover>\n    </div>\n  )\n}\n\ninterface BackgroundEditorProps {\n  background: Background\n  onChange: (background: Background) => void\n  colorScheme: ColorScheme\n  fontScheme: FontScheme\n}\n\nfunction BackgroundEditor({ background, onChange, colorScheme, fontScheme }: BackgroundEditorProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    const reader = new FileReader()\n    reader.onload = (event) => {\n      const imageUrl = event.target?.result as string\n      onChange({\n        type: 'image',\n        imageUrl,\n        imageFit: background.imageFit || 'cover',\n      })\n    }\n    reader.readAsDataURL(file)\n  }\n\n  const handleRemoveImage = () => {\n    onChange({ type: 'solid', color: '#FFFFFF' })\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const getBackgroundStyle = (): React.CSSProperties => {\n    switch (background.type) {\n      case 'image':\n        return {\n          backgroundImage: background.imageUrl ? `url(${background.imageUrl})` : undefined,\n          backgroundSize: background.imageFit === 'tile' ? 'auto' : background.imageFit || 'cover',\n          backgroundRepeat: background.imageFit === 'tile' ? 'repeat' : 'no-repeat',\n          backgroundPosition: 'center',\n        }\n      case 'gradient':\n        if (background.gradient) {\n          const stops = background.gradient.stops.map(s => `${s.color} ${s.position * 100}%`).join(', ')\n          if (background.gradient.type === 'linear') {\n            return { background: `linear-gradient(${background.gradient.angle || 0}deg, ${stops})` }\n          } else {\n            return { background: `radial-gradient(circle, ${stops})` }\n          }\n        }\n        return { backgroundColor: '#FFFFFF' }\n      case 'solid':\n      default:\n        return { backgroundColor: background.color || '#FFFFFF' }\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Background Type Selection */}\n      <div className=\"space-y-2\">\n        <Label>Background Type</Label>\n        <Select\n          value={background.type}\n          onValueChange={(value: 'solid' | 'gradient' | 'image') => {\n            if (value === 'solid') {\n              onChange({ type: 'solid', color: background.color || '#FFFFFF' })\n            } else if (value === 'gradient') {\n              onChange({\n                type: 'gradient',\n                gradient: background.gradient || {\n                  type: 'linear',\n                  angle: 45,\n                  stops: [\n                    { position: 0, color: '#FFFFFF' },\n                    { position: 1, color: '#E0E0E0' },\n                  ],\n                },\n              })\n            } else if (value === 'image') {\n              onChange({\n                type: 'image',\n                imageUrl: background.imageUrl,\n                imageFit: 'cover',\n              })\n            }\n          }}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"solid\">Solid Color</SelectItem>\n            <SelectItem value=\"gradient\">Gradient</SelectItem>\n            <SelectItem value=\"image\">Image</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Solid Color Options */}\n      {background.type === 'solid' && (\n        <div className=\"space-y-2\">\n          <ColorField\n            label=\"Background Color\"\n            color={background.color || '#FFFFFF'}\n            onChange={(c) => onChange({ type: 'solid', color: c })}\n          />\n        </div>\n      )}\n\n      {/* Gradient Options */}\n      {background.type === 'gradient' && background.gradient && (\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label className=\"text-xs\">Gradient Type</Label>\n            <Select\n              value={background.gradient.type}\n              onValueChange={(value: 'linear' | 'radial') => {\n                onChange({\n                  ...background,\n                  gradient: { ...background.gradient!, type: value },\n                })\n              }}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"linear\">Linear</SelectItem>\n                <SelectItem value=\"radial\">Radial</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {background.gradient.type === 'linear' && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs\">Angle: {background.gradient.angle || 0}</Label>\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"360\"\n                value={background.gradient.angle || 0}\n                onChange={(e) => {\n                  onChange({\n                    ...background,\n                    gradient: { ...background.gradient!, angle: parseInt(e.target.value) },\n                  })\n                }}\n                className=\"w-full\"\n              />\n            </div>\n          )}\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <ColorField\n              label=\"Start Color\"\n              color={background.gradient.stops[0]?.color || '#FFFFFF'}\n              onChange={(c) => {\n                const newStops = [...background.gradient!.stops]\n                newStops[0] = { ...newStops[0], color: c }\n                onChange({\n                  ...background,\n                  gradient: { ...background.gradient!, stops: newStops },\n                })\n              }}\n            />\n            <ColorField\n              label=\"End Color\"\n              color={background.gradient.stops[1]?.color || '#E0E0E0'}\n              onChange={(c) => {\n                const newStops = [...background.gradient!.stops]\n                newStops[1] = { ...newStops[1], color: c }\n                onChange({\n                  ...background,\n                  gradient: { ...background.gradient!, stops: newStops },\n                })\n              }}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Image Options */}\n      {background.type === 'image' && (\n        <div className=\"space-y-4\">\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            className=\"hidden\"\n            onChange={handleImageUpload}\n          />\n\n          {background.imageUrl ? (\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs\">Current Image</Label>\n              <div className=\"relative w-full h-24 border rounded-md overflow-hidden\">\n                <img\n                  src={background.imageUrl}\n                  alt=\"Background\"\n                  className=\"w-full h-full object-cover\"\n                />\n                <button\n                  onClick={handleRemoveImage}\n                  className=\"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </button>\n              </div>\n              <Button\n                variant=\"outline\"\n                onClick={() => fileInputRef.current?.click()}\n                className=\"w-full\"\n              >\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Change Image\n              </Button>\n            </div>\n          ) : (\n            <div\n              onClick={() => fileInputRef.current?.click()}\n              className=\"w-full h-32 border-2 border-dashed rounded-md flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-muted/50\"\n            >\n              <ImageIcon className=\"h-8 w-8 text-muted-foreground\" />\n              <span className=\"text-sm text-muted-foreground\">Click to upload an image</span>\n            </div>\n          )}\n\n          {background.imageUrl && (\n            <div className=\"space-y-2\">\n              <Label className=\"text-xs\">Image Fit</Label>\n              <Select\n                value={background.imageFit || 'cover'}\n                onValueChange={(value: 'cover' | 'contain' | 'stretch' | 'tile') => {\n                  onChange({ ...background, imageFit: value })\n                }}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"cover\">Cover (fill, may crop)</SelectItem>\n                  <SelectItem value=\"contain\">Contain (fit, may letterbox)</SelectItem>\n                  <SelectItem value=\"stretch\">Stretch (distort to fill)</SelectItem>\n                  <SelectItem value=\"tile\">Tile (repeat pattern)</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Preview */}\n      <div className=\"space-y-2\">\n        <Label>Preview</Label>\n        <div\n          className=\"w-full h-40 border rounded-md relative\"\n          style={getBackgroundStyle()}\n        >\n          <div className=\"absolute inset-4 flex flex-col justify-between\">\n            <div\n              style={{\n                fontFamily: fontScheme.majorFont.latin,\n                color: colorScheme.dark1,\n                fontSize: '20px',\n                textShadow: background.type === 'image' ? '0 1px 2px rgba(0,0,0,0.5)' : undefined,\n              }}\n            >\n              Slide Title\n            </div>\n            <div\n              style={{\n                fontFamily: fontScheme.minorFont.latin,\n                color: colorScheme.dark2,\n                fontSize: '12px',\n                textShadow: background.type === 'image' ? '0 1px 2px rgba(0,0,0,0.5)' : undefined,\n              }}\n            >\n              Body text goes here\n            </div>\n            <div className=\"flex gap-1\">\n              {[\n                colorScheme.accent1,\n                colorScheme.accent2,\n                colorScheme.accent3,\n                colorScheme.accent4,\n              ].map((color, i) => (\n                <div\n                  key={i}\n                  className=\"w-6 h-6 rounded\"\n                  style={{ backgroundColor: color }}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","/*!\n\nJSZip v3.10.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.1\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){\"use strict\";t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=e(\"./support\");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});","/**\n * PPTX Parsing Utilities\n * Conversion functions for EMU (English Metric Units) and other PPTX-specific values\n */\n\n// 914400 EMUs = 1 inch = 96 pixels (at 96 DPI)\nconst EMU_PER_INCH = 914400\nconst PIXELS_PER_INCH = 96\nconst EMU_PER_PIXEL = EMU_PER_INCH / PIXELS_PER_INCH // 9525\n\n/**\n * Convert EMU to pixels\n */\nexport function emuToPixels(emu: number): number {\n  return Math.round(emu / EMU_PER_PIXEL)\n}\n\n/**\n * Convert pixels to EMU\n */\nexport function pixelsToEmu(pixels: number): number {\n  return Math.round(pixels * EMU_PER_PIXEL)\n}\n\n/**\n * Convert hundredths of a point to pixels\n * PPTX uses hundredths of points for font sizes\n * 1 point = 1/72 inch, 1 pixel = 1/96 inch at 96 DPI\n */\nexport function hundredthsPointToPixels(hp: number): number {\n  const points = hp / 100\n  return Math.round(points * (PIXELS_PER_INCH / 72))\n}\n\n/**\n * Convert font size in hundredths of a point to standard points\n */\nexport function hundredthsPointToPoints(hp: number): number {\n  return hp / 100\n}\n\n/**\n * Convert PPTX percentage value to decimal (0-1)\n * PPTX uses values like 100000 for 100%\n */\nexport function pptxPercentToDecimal(pptxPercent: number): number {\n  return pptxPercent / 100000\n}\n\n/**\n * Convert PPTX angle (60000ths of a degree) to degrees\n */\nexport function pptxAngleToDegrees(pptxAngle: number): number {\n  return pptxAngle / 60000\n}\n\n/**\n * Parse PPTX color string\n * Colors can be hex values or theme color references\n */\nexport function parseColor(colorStr: string): string {\n  // Remove leading hash if present\n  if (colorStr.startsWith('#')) {\n    return colorStr\n  }\n  // Add hash for hex colors\n  if (/^[0-9A-Fa-f]{6}$/.test(colorStr)) {\n    return `#${colorStr}`\n  }\n  return colorStr\n}\n\n/**\n * Get attribute value from XML element\n */\nexport function getAttr(element: Element, attrName: string): string | null {\n  return element.getAttribute(attrName)\n}\n\n/**\n * Get numeric attribute value from XML element\n */\nexport function getNumericAttr(element: Element, attrName: string, defaultValue = 0): number {\n  const value = element.getAttribute(attrName)\n  return value ? parseInt(value, 10) : defaultValue\n}\n\n/**\n * Find child element by tag name (handles namespaces)\n */\nexport function findChild(parent: Element, tagName: string): Element | null {\n  // Try with and without namespace prefix\n  const prefixedMatches = ['a:', 'p:', 'r:', 'c:'].map(prefix =>\n    parent.getElementsByTagName(prefix + tagName)[0]\n  ).filter(Boolean)\n\n  if (prefixedMatches.length > 0) {\n    return prefixedMatches[0]\n  }\n\n  // Try without prefix\n  return parent.getElementsByTagName(tagName)[0] || null\n}\n\n/**\n * Find all child elements by tag name (handles namespaces)\n */\nexport function findAllChildren(parent: Element, tagName: string): Element[] {\n  const results: Element[] = []\n\n  // Try with common namespace prefixes\n  for (const prefix of ['a:', 'p:', 'r:', 'c:', '']) {\n    const elements = parent.getElementsByTagName(prefix + tagName)\n    for (let i = 0; i < elements.length; i++) {\n      results.push(elements[i])\n    }\n  }\n\n  return results\n}\n\n/**\n * Get text content from XML element\n */\nexport function getTextContent(element: Element): string {\n  return element.textContent || ''\n}\n\n/**\n * Parse XML string to Document\n */\nexport function parseXML(xmlString: string): Document {\n  const parser = new DOMParser()\n  return parser.parseFromString(xmlString, 'application/xml')\n}\n\n/**\n * Extract relationship ID from reference\n */\nexport function extractRelId(refString: string): string | null {\n  const match = refString.match(/rId\\d+/)\n  return match ? match[0] : null\n}\n\n/**\n * Standard slide dimensions (16:9 ratio in EMU)\n */\nexport const STANDARD_SLIDE_WIDTH_EMU = 9144000  // 960 pixels\nexport const STANDARD_SLIDE_HEIGHT_EMU = 5143500 // 540 pixels\n\n/**\n * Theme color mapping\n */\nexport const THEME_COLOR_MAP: Record<string, string> = {\n  dk1: 'dark1',\n  dk2: 'dark2',\n  lt1: 'light1',\n  lt2: 'light2',\n  accent1: 'accent1',\n  accent2: 'accent2',\n  accent3: 'accent3',\n  accent4: 'accent4',\n  accent5: 'accent5',\n  accent6: 'accent6',\n  hlink: 'hyperlink',\n  folHlink: 'followedHyperlink',\n}\n\n/**\n * Default theme colors (Office theme)\n */\nexport const DEFAULT_THEME_COLORS: Record<string, string> = {\n  dark1: '#000000',\n  dark2: '#44546A',\n  light1: '#FFFFFF',\n  light2: '#E7E6E6',\n  accent1: '#4472C4',\n  accent2: '#ED7D31',\n  accent3: '#A5A5A5',\n  accent4: '#FFC000',\n  accent5: '#5B9BD5',\n  accent6: '#70AD47',\n  hyperlink: '#0563C1',\n  followedHyperlink: '#954F72',\n}\n","/**\n * Text Parser\n * Parses text content from PPTX XML including formatting\n */\n\nimport { TextContent, Paragraph, TextRun, TextStyle, FontScheme } from '@/types'\nimport { generateId } from '@/utils'\nimport {\n  parseColor,\n  hundredthsPointToPoints,\n  findAllChildren,\n  findChild,\n  getAttr,\n  getNumericAttr,\n  getTextContent,\n  DEFAULT_THEME_COLORS,\n  THEME_COLOR_MAP,\n} from './utils'\n\n// Default font scheme for fallback\nconst DEFAULT_FONT_SCHEME: FontScheme = {\n  majorFont: { latin: 'Calibri Light' },\n  minorFont: { latin: 'Calibri' },\n}\n\n// Module-level state for font scheme (set by importer)\nlet currentFontScheme: FontScheme = DEFAULT_FONT_SCHEME\nlet currentScaleFactor: number = 1\n\n/**\n * Set the font scheme for text parsing\n */\nexport function setFontScheme(fontScheme: FontScheme): void {\n  currentFontScheme = fontScheme\n}\n\n/**\n * Set the scale factor for font sizes\n */\nexport function setScaleFactor(scale: number): void {\n  currentScaleFactor = scale\n}\n\n/**\n * Resolve theme font reference to actual font name\n */\nfunction resolveThemeFont(typeface: string): string {\n  // Theme font references start with + followed by mn (minor) or mj (major)\n  // Examples: +mn-lt (minor latin), +mj-lt (major latin), +mn-ea (minor east asian)\n  if (typeface.startsWith('+mn')) {\n    return currentFontScheme.minorFont.latin\n  }\n  if (typeface.startsWith('+mj')) {\n    return currentFontScheme.majorFont.latin\n  }\n  return typeface\n}\n\n/**\n * Parse text body element (p:txBody or a:txBody)\n */\nexport function parseTextBody(\n  txBody: Element,\n  themeColors: Record<string, string> = DEFAULT_THEME_COLORS\n): TextContent {\n  const paragraphs: Paragraph[] = []\n\n  // Parse list style defaults (a:lstStyle) for fallback text properties\n  const lstStyleDefaults = parseLstStyleDefaults(txBody, themeColors)\n\n  const pElements = findAllChildren(txBody, 'p')\n\n  for (const pEl of pElements) {\n    const paragraph = parseParagraph(pEl, themeColors, lstStyleDefaults)\n    if (paragraph.runs.length > 0 || paragraphs.length === 0) {\n      paragraphs.push(paragraph)\n    }\n  }\n\n  // Ensure at least one paragraph\n  if (paragraphs.length === 0) {\n    paragraphs.push({\n      id: generateId(),\n      runs: [{ id: generateId(), text: '', style: getDefaultTextStyle() }],\n      alignment: 'left',\n    })\n  }\n\n  return { paragraphs }\n}\n\n/**\n * Parse a single paragraph\n */\nfunction parseParagraph(\n  pEl: Element,\n  themeColors: Record<string, string>,\n  lstStyleDefaults?: Partial<TextStyle>\n): Paragraph {\n  const runs: TextRun[] = []\n  const alignment = parseAlignment(pEl)\n\n  // Check paragraph-level default run properties (a:pPr > a:defRPr)\n  const pPrEl = findChild(pEl, 'pPr')\n  let paraDefaults = lstStyleDefaults\n  if (pPrEl) {\n    const defRPrEl = findChild(pPrEl, 'defRPr')\n    if (defRPrEl) {\n      const pDefStyle = parseTextRunProperties(defRPrEl, themeColors)\n      paraDefaults = { ...lstStyleDefaults, ...stripDefaults(pDefStyle) }\n    }\n  }\n\n  // Find text runs (a:r elements)\n  const rElements = findAllChildren(pEl, 'r')\n\n  for (const rEl of rElements) {\n    const run = parseTextRun(rEl, themeColors, paraDefaults)\n    if (run) {\n      runs.push(run)\n    }\n  }\n\n  // Handle field elements (a:fld) - like page numbers, dates\n  const fldElements = findAllChildren(pEl, 'fld')\n  for (const fldEl of fldElements) {\n    const run = parseTextField(fldEl, themeColors, paraDefaults)\n    if (run) {\n      runs.push(run)\n    }\n  }\n\n  // If no runs found, check for direct text content\n  if (runs.length === 0) {\n    const textContent = getTextContent(pEl).trim()\n    if (textContent) {\n      const style = paraDefaults\n        ? { ...getDefaultTextStyle(), ...paraDefaults }\n        : getDefaultTextStyle()\n      runs.push({\n        id: generateId(),\n        text: textContent,\n        style,\n      })\n    }\n  }\n\n  return { id: generateId(), runs, alignment }\n}\n\n/**\n * Parse a text run (a:r element)\n */\nfunction parseTextRun(\n  rEl: Element,\n  themeColors: Record<string, string>,\n  defaults?: Partial<TextStyle>\n): TextRun | null {\n  // Get text content (a:t element)\n  const tEl = findChild(rEl, 't')\n  if (!tEl) return null\n\n  const text = getTextContent(tEl)\n  if (!text) return null\n\n  // Get run properties (a:rPr)\n  const rPrEl = findChild(rEl, 'rPr')\n  const baseStyle = defaults\n    ? { ...getDefaultTextStyle(), ...defaults }\n    : getDefaultTextStyle()\n  const style = rPrEl\n    ? mergeRunProperties(rPrEl, themeColors, baseStyle)\n    : baseStyle\n\n  return { id: generateId(), text, style }\n}\n\n/**\n * Parse field element (dates, page numbers, etc.)\n */\nfunction parseTextField(\n  fldEl: Element,\n  themeColors: Record<string, string>,\n  defaults?: Partial<TextStyle>\n): TextRun | null {\n  const tEl = findChild(fldEl, 't')\n  if (!tEl) return null\n\n  const text = getTextContent(tEl)\n  const baseStyle = defaults\n    ? { ...getDefaultTextStyle(), ...defaults }\n    : getDefaultTextStyle()\n  const rPrEl = findChild(fldEl, 'rPr')\n  const style = rPrEl\n    ? mergeRunProperties(rPrEl, themeColors, baseStyle)\n    : baseStyle\n\n  return { id: generateId(), text, style }\n}\n\n/**\n * Parse text run properties (a:rPr)\n */\nfunction parseTextRunProperties(\n  rPrEl: Element,\n  themeColors: Record<string, string>\n): TextStyle {\n  const style: TextStyle = getDefaultTextStyle()\n\n  // Font size (sz attribute in hundredths of a point)\n  const sz = getNumericAttr(rPrEl, 'sz', 0)\n  if (sz > 0) {\n    // Apply scale factor to font size\n    style.fontSize = Math.round(hundredthsPointToPoints(sz) * currentScaleFactor)\n  }\n\n  // Bold (b attribute)\n  const bold = getAttr(rPrEl, 'b')\n  if (bold === '1' || bold === 'true') {\n    style.fontWeight = 'bold'\n  }\n\n  // Italic (i attribute)\n  const italic = getAttr(rPrEl, 'i')\n  if (italic === '1' || italic === 'true') {\n    style.fontStyle = 'italic'\n  }\n\n  // Underline (u attribute)\n  const underline = getAttr(rPrEl, 'u')\n  if (underline && underline !== 'none') {\n    style.textDecoration = 'underline'\n  }\n\n  // Strikethrough (strike attribute)\n  const strike = getAttr(rPrEl, 'strike')\n  if (strike && strike !== 'noStrike') {\n    style.textDecoration = 'line-through'\n  }\n\n  // Font family - check latin element first\n  const latinEl = findChild(rPrEl, 'latin')\n  if (latinEl) {\n    const typeface = getAttr(latinEl, 'typeface')\n    if (typeface) {\n      // Resolve theme font references like +mn-lt or +mj-lt\n      style.fontFamily = resolveThemeFont(typeface)\n    }\n  }\n\n  // If no font specified, use minor (body) font from theme\n  if (style.fontFamily === 'Calibri') {\n    style.fontFamily = currentFontScheme.minorFont.latin\n  }\n\n  // Color\n  const solidFillEl = findChild(rPrEl, 'solidFill')\n  if (solidFillEl) {\n    const color = parseSolidFill(solidFillEl, themeColors)\n    if (color) {\n      style.color = color\n    }\n  }\n\n  return style\n}\n\n/**\n * Parse list style defaults from a:lstStyle element\n * Extracts default font, size, color from a:lvl1pPr > a:defRPr\n */\nfunction parseLstStyleDefaults(\n  txBody: Element,\n  themeColors: Record<string, string>\n): Partial<TextStyle> | undefined {\n  const lstStyleEl = findChild(txBody, 'lstStyle')\n  if (!lstStyleEl) return undefined\n\n  // Check level 1 paragraph properties (most common default)\n  const lvl1El = findChild(lstStyleEl, 'lvl1pPr')\n  if (!lvl1El) return undefined\n\n  const defRPrEl = findChild(lvl1El, 'defRPr')\n  if (!defRPrEl) return undefined\n\n  const style = parseTextRunProperties(defRPrEl, themeColors)\n  return stripDefaults(style)\n}\n\n/**\n * Strip default values from a TextStyle, leaving only explicitly-set properties\n */\nfunction stripDefaults(style: TextStyle): Partial<TextStyle> {\n  const result: Partial<TextStyle> = {}\n  const defaults = getDefaultTextStyle()\n\n  if (style.fontFamily !== defaults.fontFamily) result.fontFamily = style.fontFamily\n  if (style.fontSize !== defaults.fontSize) result.fontSize = style.fontSize\n  if (style.fontWeight !== defaults.fontWeight) result.fontWeight = style.fontWeight\n  if (style.fontStyle !== defaults.fontStyle) result.fontStyle = style.fontStyle\n  if (style.textDecoration !== defaults.textDecoration) result.textDecoration = style.textDecoration\n  if (style.color !== defaults.color) result.color = style.color\n\n  return result\n}\n\n/**\n * Merge run properties on top of a base style\n * Only overrides properties that are explicitly set in the run\n */\nfunction mergeRunProperties(\n  rPrEl: Element,\n  themeColors: Record<string, string>,\n  baseStyle: TextStyle\n): TextStyle {\n  const style = { ...baseStyle }\n\n  // Font size\n  const sz = getNumericAttr(rPrEl, 'sz', 0)\n  if (sz > 0) {\n    style.fontSize = Math.round(hundredthsPointToPoints(sz) * currentScaleFactor)\n  }\n\n  // Bold\n  const bold = getAttr(rPrEl, 'b')\n  if (bold === '1' || bold === 'true') style.fontWeight = 'bold'\n  else if (bold === '0' || bold === 'false') style.fontWeight = 'normal'\n\n  // Italic\n  const italic = getAttr(rPrEl, 'i')\n  if (italic === '1' || italic === 'true') style.fontStyle = 'italic'\n  else if (italic === '0' || italic === 'false') style.fontStyle = 'normal'\n\n  // Underline\n  const underline = getAttr(rPrEl, 'u')\n  if (underline && underline !== 'none') style.textDecoration = 'underline'\n\n  // Strikethrough\n  const strike = getAttr(rPrEl, 'strike')\n  if (strike && strike !== 'noStrike') style.textDecoration = 'line-through'\n\n  // Font family\n  const latinEl = findChild(rPrEl, 'latin')\n  if (latinEl) {\n    const typeface = getAttr(latinEl, 'typeface')\n    if (typeface) style.fontFamily = resolveThemeFont(typeface)\n  }\n\n  // Color\n  const solidFillEl = findChild(rPrEl, 'solidFill')\n  if (solidFillEl) {\n    const color = parseSolidFill(solidFillEl, themeColors)\n    if (color) style.color = color\n  }\n\n  return style\n}\n\n/**\n * Parse paragraph alignment\n */\nfunction parseAlignment(pEl: Element): 'left' | 'center' | 'right' | 'justify' {\n  const pPrEl = findChild(pEl, 'pPr')\n  if (!pPrEl) return 'left'\n\n  const algn = getAttr(pPrEl, 'algn')\n  switch (algn) {\n    case 'ctr':\n      return 'center'\n    case 'r':\n      return 'right'\n    case 'just':\n      return 'justify'\n    default:\n      return 'left'\n  }\n}\n\n/**\n * Parse solid fill color\n */\nfunction parseSolidFill(\n  solidFillEl: Element,\n  themeColors: Record<string, string>\n): string | null {\n  // Check for srgbClr (direct RGB color)\n  const srgbClrEl = findChild(solidFillEl, 'srgbClr')\n  if (srgbClrEl) {\n    const val = getAttr(srgbClrEl, 'val')\n    if (val) {\n      return parseColor(val)\n    }\n  }\n\n  // Check for schemeClr (theme color reference)\n  const schemeClrEl = findChild(solidFillEl, 'schemeClr')\n  if (schemeClrEl) {\n    const val = getAttr(schemeClrEl, 'val')\n    if (val) {\n      const themeKey = THEME_COLOR_MAP[val] || val\n      return themeColors[themeKey] || DEFAULT_THEME_COLORS[themeKey] || '#000000'\n    }\n  }\n\n  return null\n}\n\n/**\n * Get default text style\n */\nfunction getDefaultTextStyle(): TextStyle {\n  return {\n    fontFamily: 'Calibri',\n    fontSize: 18,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    textDecoration: 'none',\n    color: '#000000',\n  }\n}\n\n/**\n * Parse text body and extract plain text\n */\nexport function extractPlainText(txBody: Element): string {\n  const textContent = parseTextBody(txBody)\n  return textContent.paragraphs\n    .map(p => p.runs.map(r => r.text).join(''))\n    .join('\\n')\n}\n","/**\n * Shape Parser\n * Parses shape elements from PPTX XML\n */\n\nimport { ShapeElement, ShapeType, Fill, Stroke, TextContent } from '@/types'\nimport { generateId } from '@/utils'\nimport {\n  emuToPixels,\n  parseColor,\n  getAttr,\n  getNumericAttr,\n  findChild,\n  findAllChildren,\n  DEFAULT_THEME_COLORS,\n  THEME_COLOR_MAP,\n} from './utils'\nimport { parseTextBody } from './textParser'\n\n/**\n * Map PPTX preset geometry to our shape types\n */\nconst PRESET_GEOMETRY_MAP: Record<string, ShapeType> = {\n  // Rectangles\n  rect: 'rectangle',\n  roundRect: 'roundedRectangle',\n  snip1Rect: 'rectangle',\n  snip2DiagRect: 'rectangle',\n  snip2SameRect: 'rectangle',\n  snipRoundRect: 'roundedRectangle',\n  round1Rect: 'roundedRectangle',\n  round2DiagRect: 'roundedRectangle',\n  round2SameRect: 'roundedRectangle',\n\n  // Ellipses\n  ellipse: 'ellipse',\n  pie: 'ellipse',\n  chord: 'ellipse',\n  arc: 'ellipse',\n\n  // Triangles\n  triangle: 'triangle',\n  rtTriangle: 'rightTriangle',\n\n  // Arrows\n  rightArrow: 'arrowRight',\n  leftArrow: 'arrowLeft',\n  upArrow: 'arrowUp',\n  downArrow: 'arrowDown',\n  leftRightArrow: 'arrow',\n  upDownArrow: 'arrow',\n  bentArrow: 'arrow',\n  uturnArrow: 'arrow',\n  stripedRightArrow: 'arrowRight',\n  notchedRightArrow: 'arrowRight',\n  homePlate: 'pentagon',\n  chevron: 'arrow',\n\n  // Stars\n  star4: 'star5',\n  star5: 'star5',\n  star6: 'star6',\n  star8: 'star5',\n  star10: 'star5',\n  star12: 'star5',\n  star16: 'star5',\n  star24: 'star5',\n  star32: 'star5',\n\n  // Polygons\n  diamond: 'diamond',\n  pentagon: 'pentagon',\n  hexagon: 'hexagon',\n  octagon: 'octagon',\n  parallelogram: 'rectangle',\n  trapezoid: 'rectangle',\n\n  // Lines\n  line: 'line',\n  straightConnector1: 'line',\n  bentConnector2: 'line',\n  bentConnector3: 'line',\n  curvedConnector2: 'line',\n  curvedConnector3: 'line',\n\n  // Callouts\n  wedgeRectCallout: 'callout',\n  wedgeRoundRectCallout: 'callout',\n  wedgeEllipseCallout: 'callout',\n  cloudCallout: 'callout',\n  borderCallout1: 'callout',\n  borderCallout2: 'callout',\n  borderCallout3: 'callout',\n\n  // Special shapes\n  heart: 'heart',\n  cloud: 'cloud',\n  plus: 'plus',\n  cross: 'plus',\n  donut: 'ellipse',\n  cube: 'rectangle',\n  can: 'ellipse',\n  flowChartProcess: 'rectangle',\n  flowChartDecision: 'diamond',\n  flowChartTerminator: 'roundedRectangle',\n  flowChartDocument: 'rectangle',\n}\n\n/**\n * Parse a shape element (p:sp)\n * If fallback position/size is provided, it will be used when xfrm is missing.\n */\nexport function parseShape(\n  spEl: Element,\n  _slideIndex: number,\n  themeColors: Record<string, string> = DEFAULT_THEME_COLORS,\n  fallback?: { x: number; y: number; width: number; height: number },\n): ShapeElement | null {\n  // Get shape properties (p:spPr)\n  const spPrEl = findChild(spEl, 'spPr')\n  if (!spPrEl) return null\n\n  // Get transformation (a:xfrm)\n  const xfrmEl = findChild(spPrEl, 'xfrm')\n\n  let x = 0, y = 0, width = 0, height = 0, rotation = 0\n\n  if (xfrmEl) {\n    const offEl = findChild(xfrmEl, 'off')\n    const extEl = findChild(xfrmEl, 'ext')\n\n    if (offEl) {\n      x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n      y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n    }\n    if (extEl) {\n      width = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n      height = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n    }\n\n    const rot = getNumericAttr(xfrmEl, 'rot', 0)\n    rotation = rot / 60000\n  }\n\n  // Use fallback if no position/size from xfrm\n  if (width === 0 && height === 0 && fallback) {\n    x = fallback.x\n    y = fallback.y\n    width = fallback.width\n    height = fallback.height\n  }\n\n  // Skip if still no size\n  if (width === 0 && height === 0) return null\n\n  // Get shape type from preset geometry\n  const prstGeomEl = findChild(spPrEl, 'prstGeom')\n  const presetType = prstGeomEl ? getAttr(prstGeomEl, 'prst') : 'rect'\n  const shapeType: ShapeType = PRESET_GEOMETRY_MAP[presetType || 'rect'] || 'rectangle'\n\n  // Parse fill\n  const fill = parseFill(spPrEl, themeColors)\n\n  // Parse stroke/outline (a:ln)\n  const stroke = parseStroke(spPrEl, themeColors)\n\n  // Parse text content if present\n  const txBodyEl = findChild(spEl, 'txBody')\n  const text: TextContent | undefined = txBodyEl\n    ? parseTextBody(txBodyEl, themeColors)\n    : undefined\n\n  return {\n    id: generateId(),\n    type: 'shape',\n    shapeType,\n    position: { x, y },\n    size: { width, height },\n    rotation: rotation || 0,\n    zIndex: 0, // Will be set by slide parser\n    fill,\n    stroke,\n    text,\n  }\n}\n\n/**\n * Parse fill properties\n */\nfunction parseFill(\n  spPrEl: Element,\n  themeColors: Record<string, string>\n): Fill | undefined {\n  // Check for solid fill\n  const solidFillEl = findChild(spPrEl, 'solidFill')\n  if (solidFillEl) {\n    const color = parseColorElement(solidFillEl, themeColors)\n    if (color) {\n      return { type: 'solid', color }\n    }\n  }\n\n  // Check for no fill\n  const noFillEl = findChild(spPrEl, 'noFill')\n  if (noFillEl) {\n    return { type: 'none' }\n  }\n\n  // Check for gradient fill\n  const gradFillEl = findChild(spPrEl, 'gradFill')\n  if (gradFillEl) {\n    const gradient = parseGradientFill(gradFillEl, themeColors)\n    if (gradient) {\n      return gradient\n    }\n  }\n\n  // Default fill\n  return { type: 'solid', color: '#4472C4' }\n}\n\n/**\n * Parse gradient fill\n */\nfunction parseGradientFill(\n  gradFillEl: Element,\n  themeColors: Record<string, string>\n): Fill | undefined {\n  const gsLst = findChild(gradFillEl, 'gsLst')\n  if (!gsLst) return undefined\n\n  const stops = findAllChildren(gsLst, 'gs')\n  if (stops.length < 2) return undefined\n\n  const colors: string[] = []\n  for (const stop of stops) {\n    const color = parseColorElement(stop, themeColors)\n    if (color) {\n      colors.push(color)\n    }\n  }\n\n  if (colors.length >= 2) {\n    // Determine gradient direction\n    const linEl = findChild(gradFillEl, 'lin')\n    let angle = 0\n    if (linEl) {\n      const angAttr = getNumericAttr(linEl, 'ang', 0)\n      angle = angAttr / 60000\n    }\n\n    return {\n      type: 'gradient',\n      gradient: {\n        type: 'linear',\n        angle,\n        stops: colors.map((color, i) => ({\n          color,\n          position: i / (colors.length - 1),\n        })),\n      },\n    }\n  }\n\n  return undefined\n}\n\n/**\n * Parse stroke/outline properties\n */\nfunction parseStroke(\n  spPrEl: Element,\n  themeColors: Record<string, string>\n): Stroke | undefined {\n  const lnEl = findChild(spPrEl, 'ln')\n  if (!lnEl) return undefined\n\n  // Check for no line\n  const noFillEl = findChild(lnEl, 'noFill')\n  if (noFillEl) return undefined\n\n  // Get width (in EMU)\n  const wAttr = getNumericAttr(lnEl, 'w', 12700) // Default ~1pt\n  const width = Math.max(1, emuToPixels(wAttr))\n\n  // Get color\n  const solidFillEl = findChild(lnEl, 'solidFill')\n  let color = '#2F528F' // Default outline color\n  if (solidFillEl) {\n    const parsedColor = parseColorElement(solidFillEl, themeColors)\n    if (parsedColor) {\n      color = parsedColor\n    }\n  }\n\n  // Get line style\n  const prstDashEl = findChild(lnEl, 'prstDash')\n  let style: 'solid' | 'dashed' | 'dotted' = 'solid'\n  if (prstDashEl) {\n    const val = getAttr(prstDashEl, 'val')\n    if (val === 'dash' || val === 'lgDash' || val === 'sysDash') {\n      style = 'dashed'\n    } else if (val === 'dot' || val === 'sysDot') {\n      style = 'dotted'\n    }\n  }\n\n  return { color, width, style }\n}\n\n/**\n * Parse color from various color elements\n */\nfunction parseColorElement(\n  parentEl: Element,\n  themeColors: Record<string, string>\n): string | null {\n  // Check for srgbClr (direct RGB color)\n  const srgbClrEl = findChild(parentEl, 'srgbClr')\n  if (srgbClrEl) {\n    const val = getAttr(srgbClrEl, 'val')\n    if (val) {\n      return parseColor(val)\n    }\n  }\n\n  // Check for schemeClr (theme color reference)\n  const schemeClrEl = findChild(parentEl, 'schemeClr')\n  if (schemeClrEl) {\n    const val = getAttr(schemeClrEl, 'val')\n    if (val) {\n      const themeKey = THEME_COLOR_MAP[val] || val\n      return themeColors[themeKey] || DEFAULT_THEME_COLORS[themeKey] || null\n    }\n  }\n\n  // Check for prstClr (preset color)\n  const prstClrEl = findChild(parentEl, 'prstClr')\n  if (prstClrEl) {\n    const val = getAttr(prstClrEl, 'val')\n    if (val) {\n      return getPresetColor(val)\n    }\n  }\n\n  return null\n}\n\n/**\n * Get preset color value\n */\nfunction getPresetColor(name: string): string {\n  const presetColors: Record<string, string> = {\n    black: '#000000',\n    white: '#FFFFFF',\n    red: '#FF0000',\n    green: '#00FF00',\n    blue: '#0000FF',\n    yellow: '#FFFF00',\n    cyan: '#00FFFF',\n    magenta: '#FF00FF',\n    gray: '#808080',\n    grey: '#808080',\n    silver: '#C0C0C0',\n    maroon: '#800000',\n    olive: '#808000',\n    navy: '#000080',\n    purple: '#800080',\n    teal: '#008080',\n    orange: '#FFA500',\n    pink: '#FFC0CB',\n  }\n  return presetColors[name.toLowerCase()] || '#000000'\n}\n","/**\n * Image Parser\n * Parses image elements from PPTX XML and extracts image data\n */\n\nimport { ImageElement } from '@/types'\nimport { generateId } from '@/utils'\nimport {\n  emuToPixels,\n  getAttr,\n  getNumericAttr,\n  findChild,\n} from './utils'\nimport JSZip from 'jszip'\n\n/**\n * Parse a picture element (p:pic)\n */\nexport function parseImage(\n  picEl: Element,\n  _slideIndex: number,\n  imageMap: Map<string, string> // Maps relationship IDs to data URLs\n): ImageElement | null {\n  // Get shape properties (p:spPr)\n  const spPrEl = findChild(picEl, 'spPr')\n  if (!spPrEl) return null\n\n  // Get transformation (a:xfrm)\n  const xfrmEl = findChild(spPrEl, 'xfrm')\n  if (!xfrmEl) return null\n\n  // Get position and size\n  const offEl = findChild(xfrmEl, 'off')\n  const extEl = findChild(xfrmEl, 'ext')\n  if (!offEl || !extEl) return null\n\n  const x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n  const y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n  const width = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n  const height = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n\n  // Skip if no size\n  if (width === 0 && height === 0) return null\n\n  // Get rotation\n  const rot = getNumericAttr(xfrmEl, 'rot', 0)\n  const rotation = rot / 60000\n\n  // Get image reference from blipFill\n  const blipFillEl = findChild(picEl, 'blipFill')\n  if (!blipFillEl) return null\n\n  const blipEl = findChild(blipFillEl, 'blip')\n  if (!blipEl) return null\n\n  // Get relationship ID (r:embed or r:link)\n  const embedId = getAttr(blipEl, 'r:embed') || getAttr(blipEl, 'embed')\n  if (!embedId) return null\n\n  // Get image source from map\n  const src = imageMap.get(embedId)\n  if (!src) {\n    console.warn(`Image not found for relationship ID: ${embedId}`)\n    return null\n  }\n\n  return {\n    id: generateId(),\n    type: 'image',\n    position: { x, y },\n    size: { width, height },\n    rotation: rotation || 0,\n    zIndex: 0, // Will be set by slide parser\n    src,\n    alt: '',\n    opacity: 1,\n  }\n}\n\n/**\n * Extract all images from PPTX file\n * Returns a map of media file paths to data URLs\n */\nexport async function extractImages(zip: JSZip): Promise<Map<string, string>> {\n  const imageMap = new Map<string, string>()\n\n  // Get all files in ppt/media/\n  const mediaFolder = zip.folder('ppt/media')\n  if (!mediaFolder) {\n    return imageMap\n  }\n\n  const mediaFiles: Array<{ name: string; file: JSZip.JSZipObject }> = []\n  mediaFolder.forEach((relativePath, file) => {\n    if (!file.dir) {\n      mediaFiles.push({ name: relativePath, file })\n    }\n  })\n\n  // Process each image file\n  for (const { name, file } of mediaFiles) {\n    try {\n      const extension = name.split('.').pop()?.toLowerCase() || ''\n      const mimeType = getMimeType(extension)\n\n      if (mimeType) {\n        const arrayBuffer = await file.async('arraybuffer')\n        const base64 = arrayBufferToBase64(arrayBuffer)\n        const dataUrl = `data:${mimeType};base64,${base64}`\n\n        // Store with full path as key\n        const fullPath = `ppt/media/${name}`\n        imageMap.set(fullPath, dataUrl)\n      }\n    } catch (error) {\n      console.warn(`Failed to extract image: ${name}`, error)\n    }\n  }\n\n  return imageMap\n}\n\n/**\n * Parse slide relationships to map relationship IDs to media paths\n */\nexport function parseSlideRelationships(relsXml: string): Map<string, string> {\n  const relMap = new Map<string, string>()\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(relsXml, 'application/xml')\n\n  const relationships = doc.getElementsByTagName('Relationship')\n  for (let i = 0; i < relationships.length; i++) {\n    const rel = relationships[i]\n    const id = rel.getAttribute('Id')\n    const target = rel.getAttribute('Target')\n    const type = rel.getAttribute('Type')\n\n    if (id && target) {\n      // Check if it's an image relationship\n      if (type?.includes('/image')) {\n        // Normalize path (remove ../ and resolve to ppt/media/...)\n        let normalizedPath = target\n        if (target.startsWith('../')) {\n          normalizedPath = 'ppt/' + target.substring(3)\n        } else if (!target.startsWith('ppt/')) {\n          normalizedPath = 'ppt/slides/' + target\n        }\n        relMap.set(id, normalizedPath)\n      }\n    }\n  }\n\n  return relMap\n}\n\n/**\n * Build image map for a specific slide\n * Maps relationship IDs to data URLs\n */\nexport function buildSlideImageMap(\n  relMap: Map<string, string>,\n  globalImageMap: Map<string, string>\n): Map<string, string> {\n  const slideImageMap = new Map<string, string>()\n\n  for (const [relId, mediaPath] of relMap.entries()) {\n    const dataUrl = globalImageMap.get(mediaPath)\n    if (dataUrl) {\n      slideImageMap.set(relId, dataUrl)\n    }\n  }\n\n  return slideImageMap\n}\n\n/**\n * Convert ArrayBuffer to base64 string\n */\nfunction arrayBufferToBase64(buffer: ArrayBuffer): string {\n  const bytes = new Uint8Array(buffer)\n  let binary = ''\n  for (let i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i])\n  }\n  return btoa(binary)\n}\n\n/**\n * Get MIME type for image extension\n */\nfunction getMimeType(extension: string): string | null {\n  const mimeTypes: Record<string, string> = {\n    png: 'image/png',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    bmp: 'image/bmp',\n    tiff: 'image/tiff',\n    tif: 'image/tiff',\n    webp: 'image/webp',\n    svg: 'image/svg+xml',\n    emf: 'image/emf',\n    wmf: 'image/wmf',\n  }\n  return mimeTypes[extension] || null\n}\n","/**\n * Slide Parser\n * Parses slide XML and extracts all elements\n */\n\nimport { Slide, SlideElement, TextElement, ShapeElement, ImageElement, TableElement, TableCell, CellBorders, Stroke, Background } from '@/types'\nimport { generateId } from '@/utils'\nimport {\n  findChild,\n  findAllChildren,\n  getAttr,\n  getNumericAttr,\n  emuToPixels,\n  parseColor,\n  DEFAULT_THEME_COLORS,\n  THEME_COLOR_MAP,\n} from './utils'\nimport { parseShape } from './shapeParser'\nimport { parseImage, buildSlideImageMap, parseSlideRelationships } from './imageParser'\nimport { parseTextBody } from './textParser'\nimport type { LayoutPlaceholders } from '../importer'\nimport type { ThemeBgFillStyle } from './themeParser'\n\nexport interface SlideParseContext {\n  slideXml: string\n  slideRelsXml: string\n  slideIndex: number\n  themeColors: Record<string, string>\n  globalImageMap: Map<string, string>\n  masterBackground?: Background\n}\n\n/**\n * Parse a slide XML document\n */\nexport function parseSlide(\n  slideXml: string,\n  slideRelsXml: string,\n  slideIndex: number,\n  themeColors: Record<string, string>,\n  globalImageMap: Map<string, string>,\n  masterBackground?: Background,\n  scaleFactor: number = 1,\n  layoutPlaceholders?: LayoutPlaceholders,\n  layoutImageMap?: Map<string, string>,\n  layoutXml?: string,\n  masterXml?: string,\n  masterImageMap?: Map<string, string>,\n): Slide {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(slideXml, 'application/xml')\n\n  // Parse slide relationships to get image mappings\n  const relMap = parseSlideRelationships(slideRelsXml)\n  const imageMap = buildSlideImageMap(relMap, globalImageMap)\n\n  // Get common slide data (p:cSld)\n  let cSldEl = doc.getElementsByTagName('p:cSld')[0]\n  if (!cSldEl) {\n    cSldEl = doc.getElementsByTagName('cSld')[0] as Element\n  }\n  if (!cSldEl) {\n    return createEmptySlide(slideIndex, masterBackground)\n  }\n\n  // Parse background - use master background as fallback\n  let background = parseSlideBackground(cSldEl, themeColors)\n  if (background.type === 'solid' && background.color === '#FFFFFF' && masterBackground) {\n    background = masterBackground\n  }\n\n  // Get shape tree (p:spTree)\n  let spTreeEl = cSldEl.getElementsByTagName('p:spTree')[0]\n  if (!spTreeEl) {\n    spTreeEl = cSldEl.getElementsByTagName('spTree')[0] as Element\n  }\n  if (!spTreeEl) {\n    return {\n      id: generateId(),\n      order: slideIndex,\n      elements: [],\n      background,\n    }\n  }\n\n  // Parse all elements\n  const elements: SlideElement[] = []\n  let zIndex = 1\n\n  // Helper to scale element dimensions.\n  // Uses edge-based calculation and nudges elements that would overflow\n  // the canvas back in, so footer text at the very bottom isn't clipped.\n  const TARGET_H = 540\n  const scaleElement = (el: SlideElement): SlideElement => {\n    const x1 = Math.round(el.position.x * scaleFactor)\n    const y1 = Math.round(el.position.y * scaleFactor)\n    const x2 = Math.round((el.position.x + el.size.width) * scaleFactor)\n    const y2 = Math.round((el.position.y + el.size.height) * scaleFactor)\n    el.position.x = x1\n    el.size.width = x2 - x1\n    let h = y2 - y1\n\n    // If the element overflows the bottom by a small amount, shift it up\n    if (y1 + h > TARGET_H && y1 + h <= TARGET_H + 15) {\n      el.position.y = TARGET_H - h\n    } else {\n      el.position.y = y1\n    }\n    el.size.height = h\n    return el\n  }\n\n  // Unwrap mc:AlternateContent elements - extract graphicFrames from Choice/Fallback\n  const altContentEls = spTreeEl.getElementsByTagName('mc:AlternateContent')\n  for (let i = 0; i < altContentEls.length; i++) {\n    const ac = altContentEls[i]\n    // Only process direct children of spTree\n    if (ac.parentElement !== spTreeEl) continue\n\n    // Try mc:Choice first, then mc:Fallback\n    const choiceEl = ac.getElementsByTagName('mc:Choice')[0]\n    const fallbackEl = ac.getElementsByTagName('mc:Fallback')[0]\n    const sourceEl = choiceEl || fallbackEl\n    if (!sourceEl) continue\n\n    // Extract graphicFrames from inside\n    const gfEls = sourceEl.getElementsByTagName('p:graphicFrame')\n    for (let j = 0; j < gfEls.length; j++) {\n      const tableElements = parseGraphicFrame(gfEls[j], themeColors)\n      for (const el of tableElements) {\n        el.zIndex = zIndex++\n        elements.push(scaleElement(el))\n      }\n    }\n\n    // Extract any shapes from inside\n    const spEls = sourceEl.getElementsByTagName('p:sp')\n    for (let j = 0; j < spEls.length; j++) {\n      const element = parseShapeElement(spEls[j], themeColors, layoutPlaceholders)\n      if (element) {\n        element.zIndex = zIndex++\n        elements.push(scaleElement(element))\n      }\n    }\n  }\n\n  // Build set of slide placeholder IDs that have actual content\n  // (so layout doesn't duplicate content the slide provides)\n  const slideFilledPlaceholders = new Set<string>()\n  const allSlideShapeEls = spTreeEl.getElementsByTagName('p:sp')\n  for (let i = 0; i < allSlideShapeEls.length; i++) {\n    const sp = allSlideShapeEls[i]\n    const phEls = sp.getElementsByTagName('p:ph')\n    if (phEls.length === 0) continue\n    // Check if slide shape has actual text content\n    const txBody = sp.getElementsByTagName('p:txBody')[0]\n    if (txBody && hasActualText(txBody)) {\n      const phIdx = phEls[0].getAttribute('idx')\n      const phType = phEls[0].getAttribute('type')\n      if (phIdx) slideFilledPlaceholders.add(`idx:${phIdx}`)\n      if (phType) slideFilledPlaceholders.add(`type:${phType}`)\n    }\n  }\n\n  // First: parse master slide elements (shapes, images, connectors) as bottom layer\n  // These include elements like footer lines, logos, and decorative shapes from the slide master\n  if (masterXml && masterImageMap) {\n    // Also collect layout-filled placeholders to avoid duplicating them from the master\n    const layoutFilledPlaceholders = new Set<string>(slideFilledPlaceholders)\n    if (layoutXml) {\n      const layoutParser = new DOMParser()\n      const layoutDoc = layoutParser.parseFromString(layoutXml, 'application/xml')\n      const layoutSpEls = layoutDoc.getElementsByTagName('p:sp')\n      for (let i = 0; i < layoutSpEls.length; i++) {\n        const sp = layoutSpEls[i]\n        const phEls = sp.getElementsByTagName('p:ph')\n        if (phEls.length === 0) continue\n        const txBody = sp.getElementsByTagName('p:txBody')[0]\n        if (txBody && hasActualText(txBody)) {\n          const phIdx = phEls[0].getAttribute('idx')\n          const phType = phEls[0].getAttribute('type')\n          if (phIdx) layoutFilledPlaceholders.add(`idx:${phIdx}`)\n          if (phType) layoutFilledPlaceholders.add(`type:${phType}`)\n        }\n        // Also skip layout placeholders that have visible fills (they override master)\n        const spPr = sp.getElementsByTagName('p:spPr')[0]\n        if (spPr) {\n          const hasXfrm = spPr.getElementsByTagName('a:xfrm').length > 0\n          const hasFill = spPr.getElementsByTagName('a:solidFill').length > 0 ||\n            spPr.getElementsByTagName('a:gradFill').length > 0\n          if (hasXfrm && hasFill) {\n            const phIdx = phEls[0].getAttribute('idx')\n            const phType = phEls[0].getAttribute('type')\n            if (phIdx) layoutFilledPlaceholders.add(`idx:${phIdx}`)\n            if (phType) layoutFilledPlaceholders.add(`type:${phType}`)\n          }\n        }\n      }\n    }\n\n    const masterElements = parseLayoutElements(masterXml, themeColors, masterImageMap, layoutFilledPlaceholders)\n    for (const el of masterElements) {\n      el.zIndex = zIndex++\n      elements.push(scaleElement(el))\n    }\n  }\n\n  // Next: parse layout elements (images, shapes, text) as middle layer\n  if (layoutXml && layoutImageMap) {\n    const layoutElements = parseLayoutElements(layoutXml, themeColors, layoutImageMap, slideFilledPlaceholders)\n    for (const el of layoutElements) {\n      el.zIndex = zIndex++\n      elements.push(scaleElement(el))\n    }\n  }\n\n  // Parse slide elements in document order to preserve z-ordering\n  for (let i = 0; i < spTreeEl.childNodes.length; i++) {\n    const child = spTreeEl.childNodes[i] as Element\n    if (!child.tagName) continue\n\n    if (child.tagName === 'p:sp') {\n      if (isInsideGroup(child, spTreeEl)) continue\n      const element = parseShapeElement(child, themeColors, layoutPlaceholders)\n      if (element) {\n        element.zIndex = zIndex++\n        elements.push(scaleElement(element))\n      }\n    } else if (child.tagName === 'p:pic') {\n      if (isInsideGroup(child, spTreeEl)) continue\n      const image = parseImage(child, slideIndex, imageMap)\n      if (image) {\n        image.zIndex = zIndex++\n        elements.push(scaleElement(image))\n      }\n    } else if (child.tagName === 'p:cxnSp') {\n      if (isInsideGroup(child, spTreeEl)) continue\n      const connector = parseConnectorShape(child, themeColors)\n      if (connector) {\n        connector.zIndex = zIndex++\n        elements.push(scaleElement(connector))\n      }\n    } else if (child.tagName === 'p:graphicFrame') {\n      if (isInsideGroup(child, spTreeEl)) continue\n      const tableElements = parseGraphicFrame(child, themeColors)\n      for (const el of tableElements) {\n        el.zIndex = zIndex++\n        elements.push(scaleElement(el))\n      }\n    } else if (child.tagName === 'p:grpSp') {\n      const groupElements = parseGroupShape(child, slideIndex, themeColors, imageMap, layoutPlaceholders)\n      for (const el of groupElements) {\n        el.zIndex = zIndex++\n        elements.push(scaleElement(el))\n      }\n    }\n  }\n\n  return {\n    id: generateId(),\n    order: slideIndex,\n    elements,\n    background,\n  }\n}\n\n/**\n * Parse layout XML to extract non-placeholder visual elements (images, decorated shapes).\n * These are rendered as background elements on each slide that uses this layout.\n */\nfunction parseLayoutElements(\n  layoutXml: string,\n  themeColors: Record<string, string>,\n  layoutImageMap: Map<string, string>,\n  slideShapeIds?: Set<string>,\n): SlideElement[] {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(layoutXml, 'application/xml')\n  const elements: SlideElement[] = []\n\n  const cSldEl = doc.getElementsByTagName('p:cSld')[0]\n  if (!cSldEl) return elements\n\n  const spTreeEl = cSldEl.getElementsByTagName('p:spTree')[0]\n  if (!spTreeEl) return elements\n\n  // Iterate through spTree children in document order to preserve z-ordering\n  for (let i = 0; i < spTreeEl.childNodes.length; i++) {\n    const child = spTreeEl.childNodes[i] as Element\n    if (!child.tagName) continue\n\n    if (child.tagName === 'p:pic') {\n      // Image element\n      const image = parseImage(child, -1, layoutImageMap)\n      if (image) elements.push(image)\n\n    } else if (child.tagName === 'p:sp') {\n      // Shape element\n      const sp = child\n      const spPr = sp.getElementsByTagName('p:spPr')[0]\n\n      // Check if this is a placeholder\n      const phEls = sp.getElementsByTagName('p:ph')\n      const isPlaceholder = phEls.length > 0\n\n      // For placeholder shapes: check if the slide overrides this placeholder\n      if (isPlaceholder && slideShapeIds) {\n        const phIdx = phEls[0].getAttribute('idx')\n        const phType = phEls[0].getAttribute('type')\n        if (phIdx && slideShapeIds.has(`idx:${phIdx}`)) continue\n        if (phType && slideShapeIds.has(`type:${phType}`)) continue\n      }\n\n      // Check for visible content\n      const hasSolidFill = spPr ? spPr.getElementsByTagName('a:solidFill').length > 0 : false\n      const hasGradFill = spPr ? spPr.getElementsByTagName('a:gradFill').length > 0 : false\n      const hasBlipFill = spPr ? spPr.getElementsByTagName('a:blipFill').length > 0 : false\n      const lnEl = spPr ? spPr.getElementsByTagName('a:ln')[0] : null\n      const hasLine = lnEl && !lnEl.getElementsByTagName('a:noFill')[0]\n      const hasFill = hasSolidFill || hasGradFill || hasBlipFill\n      const hasVisibleContent = hasFill || hasLine\n\n      // Check for text content\n      const txBody = sp.getElementsByTagName('p:txBody')[0]\n      const hasText = txBody ? hasActualText(txBody) : false\n\n      // Check for xfrm\n      const hasXfrm = spPr ? spPr.getElementsByTagName('a:xfrm').length > 0 : false\n\n      // Include if it has visible content AND position\n      if (hasXfrm && (hasVisibleContent || hasText)) {\n        if (hasBlipFill) {\n          // Image fill on shape - parse as image, detect clip shape\n          const xfrmEl = spPr!.getElementsByTagName('a:xfrm')[0]\n          const offEl = xfrmEl.getElementsByTagName('a:off')[0]\n          const extEl = xfrmEl.getElementsByTagName('a:ext')[0]\n          if (offEl && extEl) {\n            const x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n            const y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n            const w = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n            const h = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n            const rot = getNumericAttr(xfrmEl, 'rot', 0) / 60000\n\n            // Check geometry for clip shape (ellipse = circular image)\n            const prstGeomEl = spPr!.getElementsByTagName('a:prstGeom')[0]\n            const geomType = prstGeomEl ? getAttr(prstGeomEl, 'prst') : 'rect'\n            const clipShape = (geomType === 'ellipse') ? 'ellipse' as const : undefined\n\n            const blipEl = spPr!.getElementsByTagName('a:blip')[0]\n            if (blipEl) {\n              const embedId = blipEl.getAttribute('r:embed')\n              if (embedId) {\n                const imgSrc = layoutImageMap.get(embedId)\n                if (imgSrc) {\n                  const imgEl: ImageElement = {\n                    id: generateId(),\n                    type: 'image',\n                    position: { x, y },\n                    size: { width: w, height: h },\n                    rotation: rot || 0,\n                    zIndex: 0,\n                    src: imgSrc,\n                    originalSize: { width: w, height: h },\n                    clipShape,\n                  }\n                  elements.push(imgEl)\n                  continue\n                }\n              }\n            }\n          }\n        }\n\n        if ((hasFill || hasLine) && !hasBlipFill) {\n          const shape = parseShape(sp, 0, themeColors, undefined)\n          if (shape) elements.push(shape)\n        } else if (hasText) {\n          const xfrmEl = spPr!.getElementsByTagName('a:xfrm')[0]\n          const offEl = xfrmEl.getElementsByTagName('a:off')[0]\n          const extEl = xfrmEl.getElementsByTagName('a:ext')[0]\n          if (offEl && extEl) {\n            const x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n            const y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n            const w = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n            const h = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n            const rot = getNumericAttr(xfrmEl, 'rot', 0) / 60000\n            const textEl = parseAsTextElement(sp, x, y, w, h, rot, themeColors)\n            if (textEl) elements.push(textEl)\n          }\n        }\n      } else if (!isPlaceholder && hasVisibleContent && !hasXfrm) {\n        const shape = parseShape(sp, 0, themeColors, undefined)\n        if (shape) elements.push(shape)\n      }\n\n    } else if (child.tagName === 'p:graphicFrame') {\n      // Table or other graphic frame\n      const tableElements = parseGraphicFrame(child, themeColors)\n      for (const el of tableElements) {\n        elements.push(el)\n      }\n\n    } else if (child.tagName === 'p:cxnSp') {\n      // Connector shape\n      const connector = parseConnectorShape(child, themeColors)\n      if (connector) elements.push(connector)\n\n    } else if (child.tagName === 'p:grpSp') {\n      // Group shape - flatten and extract all child elements\n      const groupElements = parseGroupShape(child, -1, themeColors, layoutImageMap)\n      for (const el of groupElements) {\n        elements.push(el)\n      }\n    }\n  }\n\n  return elements\n}\n\n/**\n * Check if an element is inside a group shape\n */\nfunction isInsideGroup(el: Element, spTreeEl: Element): boolean {\n  let parent = el.parentElement\n  while (parent && parent !== spTreeEl) {\n    if (parent.tagName === 'p:grpSp') {\n      return true\n    }\n    parent = parent.parentElement\n  }\n  return false\n}\n\n/**\n * Default placeholder positions (in pixels, based on 1280x720 source - will be scaled)\n */\nconst PLACEHOLDER_DEFAULTS: Record<string, { x: number; y: number; width: number; height: number }> = {\n  'title': { x: 67, y: 27, width: 1147, height: 107 },\n  'ctrTitle': { x: 133, y: 240, width: 1013, height: 133 },\n  'subTitle': { x: 133, y: 400, width: 1013, height: 80 },\n  'body': { x: 67, y: 160, width: 1147, height: 467 },\n  'dt': { x: 67, y: 667, width: 267, height: 40 },\n  'ftr': { x: 400, y: 667, width: 480, height: 40 },\n  'sldNum': { x: 947, y: 667, width: 267, height: 40 },\n}\n\n/**\n * Parse a shape element - decide if it should be text or shape\n */\nfunction parseShapeElement(\n  spEl: Element,\n  themeColors: Record<string, string>,\n  layoutPlaceholders?: LayoutPlaceholders,\n): TextElement | ShapeElement | null {\n  // Get shape properties (p:spPr)\n  const spPrEl = findChild(spEl, 'spPr')\n\n  // Get transformation (a:xfrm)\n  const xfrmEl = spPrEl ? findChild(spPrEl, 'xfrm') : null\n\n  // Check if this is a placeholder\n  const nvSpPrEl = findChild(spEl, 'nvSpPr')\n  const nvPrEl = nvSpPrEl ? findChild(nvSpPrEl, 'nvPr') : null\n  const phEl = nvPrEl ? findChild(nvPrEl, 'ph') : null\n  const placeholderType = phEl ? getAttr(phEl, 'type') || 'body' : null\n  const placeholderIdx = phEl ? getAttr(phEl, 'idx') : null\n\n  // Get position and size\n  let x = 0, y = 0, width = 0, height = 0, rotation = 0\n\n  if (xfrmEl) {\n    const offEl = findChild(xfrmEl, 'off')\n    const extEl = findChild(xfrmEl, 'ext')\n\n    if (offEl) {\n      x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n      y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n    }\n\n    if (extEl) {\n      width = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n      height = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n    }\n\n    const rot = getNumericAttr(xfrmEl, 'rot', 0)\n    rotation = rot / 60000\n  }\n\n  // For elements without explicit transform, try layout placeholders then defaults\n  if (width === 0 && height === 0) {\n    let resolved = false\n\n    // Try layout placeholders by type\n    if (placeholderType && layoutPlaceholders) {\n      const byType = layoutPlaceholders.get(`type:${placeholderType}`)\n      if (byType) {\n        x = byType.x; y = byType.y; width = byType.width; height = byType.height\n        resolved = true\n      }\n    }\n\n    // Try layout placeholders by index\n    if (!resolved && placeholderIdx && layoutPlaceholders) {\n      const byIdx = layoutPlaceholders.get(`idx:${placeholderIdx}`)\n      if (byIdx) {\n        x = byIdx.x; y = byIdx.y; width = byIdx.width; height = byIdx.height\n        resolved = true\n      }\n    }\n\n    // Fall back to hard-coded defaults for known placeholder types\n    if (!resolved && placeholderType) {\n      const defaults = PLACEHOLDER_DEFAULTS[placeholderType] || PLACEHOLDER_DEFAULTS['body']\n      x = defaults.x\n      y = defaults.y\n      width = defaults.width\n      height = defaults.height\n      resolved = true\n    }\n\n    // Skip elements that still have no size\n    if (!resolved) {\n      return null\n    }\n  }\n\n  // Check if this has text content (including field elements like slide numbers)\n  const txBodyEl = findChild(spEl, 'txBody')\n  const hasTextContent = txBodyEl && hasActualText(txBodyEl)\n\n  // Check the geometry type\n  const prstGeomEl = spPrEl ? findChild(spPrEl, 'prstGeom') : null\n  const geomType = prstGeomEl ? getAttr(prstGeomEl, 'prst') : null\n\n  // Check if it has a visible fill (check both shape props and style)\n  const solidFillEl = spPrEl ? findChild(spPrEl, 'solidFill') : null\n  const gradFillEl = spPrEl ? findChild(spPrEl, 'gradFill') : null\n  // Also check for line/outline which makes the shape visible\n  const lnEl = spPrEl ? findChild(spPrEl, 'ln') : null\n  const hasLine = lnEl && !findChild(lnEl, 'noFill')\n  const hasVisibleFill = solidFillEl || gradFillEl\n\n  const isRectOrNoGeom = !geomType || geomType === 'rect'\n  const fallback = { x, y, width, height }\n\n  // Priority 1: Text content in rectangular/no-geometry shape  text element\n  if (hasTextContent && isRectOrNoGeom && !hasVisibleFill) {\n    return parseAsTextElement(spEl, x, y, width, height, rotation, themeColors)\n  }\n\n  // Priority 2: Non-rect geometry (lines, arrows, etc.)  shape\n  if (geomType && geomType !== 'rect') {\n    return parseShape(spEl, 0, themeColors, fallback)\n  }\n\n  // Priority 3: Has visible fill or outline  shape (with possible text overlay)\n  if (hasVisibleFill || hasLine) {\n    return parseShape(spEl, 0, themeColors, fallback)\n  }\n\n  // Priority 4: Has text content  text element\n  if (hasTextContent) {\n    return parseAsTextElement(spEl, x, y, width, height, rotation, themeColors)\n  }\n\n  // Priority 5: Has a txBody at all (even if empty-looking)  try parsing as text\n  // This catches placeholder shapes with inherited text styling\n  if (txBodyEl) {\n    const result = parseAsTextElement(spEl, x, y, width, height, rotation, themeColors)\n    if (result) return result\n  }\n\n  // Skip truly empty/invisible shapes\n  return null\n}\n\n/**\n * Check if a txBody element has actual text content\n */\nfunction hasActualText(txBodyEl: Element): boolean {\n  // Check regular text runs\n  const textElements = txBodyEl.getElementsByTagName('a:t')\n  for (let i = 0; i < textElements.length; i++) {\n    const text = textElements[i].textContent?.trim()\n    if (text && text.length > 0) {\n      return true\n    }\n  }\n\n  // Check field elements (slide numbers, dates, etc.)\n  const fieldElements = txBodyEl.getElementsByTagName('a:fld')\n  if (fieldElements.length > 0) {\n    for (let i = 0; i < fieldElements.length; i++) {\n      const fldText = fieldElements[i].getElementsByTagName('a:t')\n      for (let j = 0; j < fldText.length; j++) {\n        const text = fldText[j].textContent?.trim()\n        if (text && text.length > 0) return true\n      }\n    }\n  }\n\n  return false\n}\n\n/**\n * Parse element as a text element\n */\nfunction parseAsTextElement(\n  spEl: Element,\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  rotation: number,\n  themeColors: Record<string, string>\n): TextElement | null {\n  const txBodyEl = findChild(spEl, 'txBody')\n  if (!txBodyEl) return null\n\n  const content = parseTextBody(txBodyEl, themeColors)\n\n  // Ensure we have some text\n  const hasText = content.paragraphs.some(p =>\n    p.runs.some(r => r.text.trim().length > 0)\n  )\n  if (!hasText) return null\n\n  return {\n    id: generateId(),\n    type: 'text',\n    position: { x, y },\n    size: { width, height },\n    rotation: rotation || 0,\n    zIndex: 0,\n    content,\n    style: {\n      padding: { top: 5, right: 5, bottom: 5, left: 5 },\n      verticalAlign: 'top',\n      autoFit: false,\n      wordWrap: true,\n    },\n  }\n}\n\n/**\n * Parse group shape and flatten its elements\n */\nfunction parseGroupShape(\n  grpSpEl: Element,\n  slideIndex: number,\n  themeColors: Record<string, string>,\n  imageMap: Map<string, string>,\n  layoutPlaceholders?: LayoutPlaceholders,\n): SlideElement[] {\n  const elements: SlideElement[] = []\n\n  // Get group transform for offset calculation\n  const grpSpPrEl = findChild(grpSpEl, 'grpSpPr')\n  let offsetX = 0\n  let offsetY = 0\n  let scaleX = 1\n  let scaleY = 1\n\n  if (grpSpPrEl) {\n    const xfrmEl = findChild(grpSpPrEl, 'xfrm')\n    if (xfrmEl) {\n      const offEl = findChild(xfrmEl, 'off')\n      const extEl = findChild(xfrmEl, 'ext')\n      const chOffEl = findChild(xfrmEl, 'chOff')\n      const chExtEl = findChild(xfrmEl, 'chExt')\n\n      if (offEl && chOffEl) {\n        const grpX = getNumericAttr(offEl, 'x', 0)\n        const grpY = getNumericAttr(offEl, 'y', 0)\n        const chX = getNumericAttr(chOffEl, 'x', 0)\n        const chY = getNumericAttr(chOffEl, 'y', 0)\n        offsetX = emuToPixels(grpX - chX)\n        offsetY = emuToPixels(grpY - chY)\n      }\n\n      if (extEl && chExtEl) {\n        const grpW = getNumericAttr(extEl, 'cx', 1)\n        const grpH = getNumericAttr(extEl, 'cy', 1)\n        const chW = getNumericAttr(chExtEl, 'cx', 1)\n        const chH = getNumericAttr(chExtEl, 'cy', 1)\n        if (chW > 0) scaleX = grpW / chW\n        if (chH > 0) scaleY = grpH / chH\n      }\n    }\n  }\n\n  const childNodes = grpSpEl.childNodes\n  for (let i = 0; i < childNodes.length; i++) {\n    const child = childNodes[i] as Element\n    if (!child.tagName) continue\n\n    if (child.tagName === 'p:sp') {\n      const element = parseShapeElement(child, themeColors, layoutPlaceholders)\n      if (element) {\n        element.position.x = element.position.x * scaleX + offsetX\n        element.position.y = element.position.y * scaleY + offsetY\n        element.size.width = element.size.width * scaleX\n        element.size.height = element.size.height * scaleY\n        elements.push(element)\n      }\n    } else if (child.tagName === 'p:pic') {\n      const image = parseImage(child, slideIndex, imageMap)\n      if (image) {\n        image.position.x = image.position.x * scaleX + offsetX\n        image.position.y = image.position.y * scaleY + offsetY\n        image.size.width = image.size.width * scaleX\n        image.size.height = image.size.height * scaleY\n        elements.push(image)\n      }\n    } else if (child.tagName === 'p:grpSp') {\n      const nestedElements = parseGroupShape(child, slideIndex, themeColors, imageMap, layoutPlaceholders)\n      for (const el of nestedElements) {\n        el.position.x = el.position.x * scaleX + offsetX\n        el.position.y = el.position.y * scaleY + offsetY\n        el.size.width = el.size.width * scaleX\n        el.size.height = el.size.height * scaleY\n        elements.push(el)\n      }\n    }\n  }\n\n  return elements\n}\n\n/**\n * Parse a connector shape (p:cxnSp) - lines and connectors\n */\nfunction parseConnectorShape(\n  cxnSpEl: Element,\n  themeColors: Record<string, string>,\n): ShapeElement | null {\n  const spPrEl = findChild(cxnSpEl, 'spPr')\n  if (!spPrEl) return null\n\n  const xfrmEl = findChild(spPrEl, 'xfrm')\n  if (!xfrmEl) return null\n\n  const offEl = findChild(xfrmEl, 'off')\n  const extEl = findChild(xfrmEl, 'ext')\n  if (!offEl || !extEl) return null\n\n  const x = emuToPixels(getNumericAttr(offEl, 'x', 0))\n  const y = emuToPixels(getNumericAttr(offEl, 'y', 0))\n  const width = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n  const height = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n\n  // Connectors can have zero width or height (horizontal/vertical lines)\n  if (width === 0 && height === 0) return null\n\n  const rot = getNumericAttr(xfrmEl, 'rot', 0)\n  const rotation = rot / 60000\n\n  // Parse line color and width\n  const lnEl = findChild(spPrEl, 'ln')\n  let strokeColor = '#000000'\n  let strokeWidth = 1\n  let strokeStyle: 'solid' | 'dashed' | 'dotted' = 'solid'\n\n  if (lnEl) {\n    const w = getNumericAttr(lnEl, 'w', 12700)\n    strokeWidth = Math.max(1, emuToPixels(w))\n\n    const solidFillEl = findChild(lnEl, 'solidFill')\n    if (solidFillEl) {\n      const srgbClrEl = findChild(solidFillEl, 'srgbClr')\n      if (srgbClrEl) {\n        const val = getAttr(srgbClrEl, 'val')\n        if (val) strokeColor = parseColor(val)\n      } else {\n        const schemeClrEl = findChild(solidFillEl, 'schemeClr')\n        if (schemeClrEl) {\n          const val = getAttr(schemeClrEl, 'val')\n          if (val) {\n            const key = THEME_COLOR_MAP[val] || val\n            strokeColor = themeColors[key] || DEFAULT_THEME_COLORS[key] || '#000000'\n          }\n        }\n      }\n    }\n\n    const prstDashEl = findChild(lnEl, 'prstDash')\n    if (prstDashEl) {\n      const val = getAttr(prstDashEl, 'val')\n      if (val === 'dash' || val === 'lgDash' || val === 'sysDash') strokeStyle = 'dashed'\n      else if (val === 'dot' || val === 'sysDot') strokeStyle = 'dotted'\n    }\n  }\n\n  // For lines with zero height, ensure minimum height of 1\n  const finalWidth = Math.max(width, 1)\n  const finalHeight = Math.max(height, 1)\n\n  return {\n    id: generateId(),\n    type: 'shape',\n    shapeType: 'line',\n    position: { x, y },\n    size: { width: finalWidth, height: finalHeight },\n    rotation: rotation || 0,\n    zIndex: 0,\n    fill: { type: 'none' },\n    stroke: {\n      color: strokeColor,\n      width: strokeWidth,\n      style: strokeStyle,\n    },\n  }\n}\n\n/**\n * Parse a graphic frame (p:graphicFrame) - extracts tables as TableElement\n */\nfunction parseGraphicFrame(\n  gfEl: Element,\n  themeColors: Record<string, string>,\n): SlideElement[] {\n  const elements: SlideElement[] = []\n\n  // Get frame position/size from xfrm\n  const xfrmEl = gfEl.getElementsByTagName('p:xfrm')[0] || gfEl.getElementsByTagName('a:xfrm')[0]\n  if (!xfrmEl) return elements\n\n  const offEl = findChild(xfrmEl, 'off')\n  const extEl = findChild(xfrmEl, 'ext')\n  if (!offEl || !extEl) return elements\n\n  const frameX = emuToPixels(getNumericAttr(offEl, 'x', 0))\n  const frameY = emuToPixels(getNumericAttr(offEl, 'y', 0))\n  const frameWidth = emuToPixels(getNumericAttr(extEl, 'cx', 0))\n  const frameHeight = emuToPixels(getNumericAttr(extEl, 'cy', 0))\n\n  if (frameWidth === 0 && frameHeight === 0) return elements\n\n  // Find table element\n  const tblEl = gfEl.getElementsByTagName('a:tbl')[0]\n  if (!tblEl) return elements\n\n  // Parse table grid (column widths)\n  const tblGridEl = tblEl.getElementsByTagName('a:tblGrid')[0]\n  const colWidths: number[] = []\n  if (tblGridEl) {\n    const gridColEls = tblGridEl.getElementsByTagName('a:gridCol')\n    for (let i = 0; i < gridColEls.length; i++) {\n      const w = getNumericAttr(gridColEls[i], 'w', 0)\n      colWidths.push(emuToPixels(w))\n    }\n  }\n\n  // Collect direct a:tr children (avoid nested tables)\n  const directTrEls: Element[] = []\n  for (let i = 0; i < tblEl.childNodes.length; i++) {\n    const child = tblEl.childNodes[i] as Element\n    if (child.tagName === 'a:tr') directTrEls.push(child)\n  }\n\n  const numRows = directTrEls.length\n  if (numRows === 0) return elements\n\n  // If no grid info, distribute evenly using first row cell count\n  if (colWidths.length === 0) {\n    const firstRow = directTrEls[0]\n    let tcCount = 0\n    for (let c = 0; c < firstRow.childNodes.length; c++) {\n      if ((firstRow.childNodes[c] as Element).tagName === 'a:tc') tcCount++\n    }\n    const colWidth = frameWidth / Math.max(tcCount, 1)\n    for (let i = 0; i < tcCount; i++) {\n      colWidths.push(colWidth)\n    }\n  }\n\n  const numCols = colWidths.length\n  const rowHeights: number[] = []\n  const cells: TableCell[][] = []\n\n  for (let rowIdx = 0; rowIdx < numRows; rowIdx++) {\n    const tr = directTrEls[rowIdx]\n    const rowHeight = emuToPixels(getNumericAttr(tr, 'h', 0)) || Math.round(frameHeight / numRows)\n    rowHeights.push(rowHeight)\n\n    // Collect direct a:tc children\n    const tcEls: Element[] = []\n    for (let c = 0; c < tr.childNodes.length; c++) {\n      const child = tr.childNodes[c] as Element\n      if (child.tagName === 'a:tc') tcEls.push(child)\n    }\n\n    const row: TableCell[] = []\n    for (let colIdx = 0; colIdx < tcEls.length; colIdx++) {\n      const tc = tcEls[colIdx]\n\n      // Parse cell text\n      const txBodyEl = tc.getElementsByTagName('a:txBody')[0]\n      const content = txBodyEl\n        ? parseTextBody(txBodyEl, themeColors)\n        : { paragraphs: [{ id: generateId(), runs: [{ id: generateId(), text: '', style: { fontFamily: 'Calibri', fontSize: 14, fontWeight: 'normal' as const, fontStyle: 'normal' as const, textDecoration: 'none' as const, color: '#000000' } }], alignment: 'left' as const }] }\n\n      // Parse cell properties\n      const tcPrEl = tc.getElementsByTagName('a:tcPr')[0]\n\n      // Parse cell fill\n      let cellFill: TableCell['fill'] = undefined\n      if (tcPrEl) {\n        const solidFillEl = findChild(tcPrEl, 'solidFill')\n        if (solidFillEl) {\n          const color = parseFillColor(solidFillEl, themeColors)\n          if (color) cellFill = { type: 'solid', color }\n        }\n      }\n\n      // Parse cell borders - for imported PPTX tables, missing borders mean no borders\n      const noBorder: Stroke = { color: 'transparent', width: 0, style: 'none' }\n      const defaultNoBorders: CellBorders = { top: noBorder, right: noBorder, bottom: noBorder, left: noBorder }\n      const borders = tcPrEl ? (parseCellBorders(tcPrEl, themeColors) || defaultNoBorders) : defaultNoBorders\n\n      // Parse vertical align\n      let verticalAlign: 'top' | 'middle' | 'bottom' = 'middle'\n      if (tcPrEl) {\n        const anchor = getAttr(tcPrEl, 'anchor')\n        if (anchor === 't') verticalAlign = 'top'\n        else if (anchor === 'b') verticalAlign = 'bottom'\n        else if (anchor === 'ctr') verticalAlign = 'middle'\n      }\n\n      // Parse merge info\n      const gridSpan = getNumericAttr(tc, 'gridSpan', 1)\n      const rowSpanAttr = getNumericAttr(tc, 'rowSpan', 1)\n      const hMerge = tc.getAttribute('hMerge')\n      const vMerge = tc.getAttribute('vMerge')\n\n      const cell: TableCell = {\n        id: generateId(),\n        content,\n        fill: cellFill,\n        borders,\n        padding: { top: 3, right: 5, bottom: 3, left: 5 },\n        verticalAlign,\n        colSpan: gridSpan > 1 ? gridSpan : undefined,\n        rowSpan: rowSpanAttr > 1 ? rowSpanAttr : undefined,\n      }\n\n      // Mark merged cells (hMerge/vMerge) with empty content\n      if (hMerge === '1' || hMerge === 'true' || vMerge === '1' || vMerge === 'true') {\n        cell.content = { paragraphs: [{ id: generateId(), runs: [{ id: generateId(), text: '', style: { fontFamily: 'Calibri', fontSize: 14, fontWeight: 'normal' as const, fontStyle: 'normal' as const, textDecoration: 'none' as const, color: '#000000' } }], alignment: 'left' as const }] }\n      }\n\n      row.push(cell)\n    }\n\n    // Pad row to match expected column count\n    while (row.length < numCols) {\n      row.push({\n        id: generateId(),\n        content: { paragraphs: [{ id: generateId(), runs: [{ id: generateId(), text: '', style: { fontFamily: 'Calibri', fontSize: 14, fontWeight: 'normal' as const, fontStyle: 'normal' as const, textDecoration: 'none' as const, color: '#000000' } }], alignment: 'left' as const }] },\n        padding: { top: 3, right: 5, bottom: 3, left: 5 },\n        verticalAlign: 'middle',\n      })\n    }\n\n    cells.push(row)\n  }\n\n  const tableEl: TableElement = {\n    id: generateId(),\n    type: 'table',\n    position: { x: frameX, y: frameY },\n    size: { width: frameWidth, height: frameHeight },\n    rotation: 0,\n    zIndex: 0,\n    rows: numRows,\n    columns: numCols,\n    cells,\n    columnWidths: colWidths,\n    rowHeights,\n    style: {\n      borderCollapse: true,\n    },\n  }\n\n  elements.push(tableEl)\n  return elements\n}\n\n/**\n * Parse a fill color from a solidFill element\n */\nfunction parseFillColor(solidFillEl: Element, themeColors: Record<string, string>): string | undefined {\n  const srgbEl = findChild(solidFillEl, 'srgbClr')\n  if (srgbEl) {\n    const val = getAttr(srgbEl, 'val')\n    if (val) return parseColor(val)\n  }\n  const schemeEl = findChild(solidFillEl, 'schemeClr')\n  if (schemeEl) {\n    const val = getAttr(schemeEl, 'val')\n    if (val) {\n      const key = THEME_COLOR_MAP[val] || val\n      return themeColors[key] || DEFAULT_THEME_COLORS[key]\n    }\n  }\n  return undefined\n}\n\n/**\n * Parse cell borders from a:tcPr element\n * Looks for a:lnL (left), a:lnR (right), a:lnT (top), a:lnB (bottom)\n */\nfunction parseCellBorders(tcPrEl: Element, themeColors: Record<string, string>): CellBorders | undefined {\n  const noBorder: Stroke = { color: 'transparent', width: 0, style: 'none' }\n  const left = parseBorderLine(tcPrEl, 'lnL', themeColors)\n  const right = parseBorderLine(tcPrEl, 'lnR', themeColors)\n  const top = parseBorderLine(tcPrEl, 'lnT', themeColors)\n  const bottom = parseBorderLine(tcPrEl, 'lnB', themeColors)\n\n  if (!left && !right && !top && !bottom) return undefined\n  // Fill in missing borders with explicit no-border to prevent default gray rendering\n  return {\n    left: left || noBorder,\n    right: right || noBorder,\n    top: top || noBorder,\n    bottom: bottom || noBorder,\n  }\n}\n\n/**\n * Parse a single border line element (a:lnL, a:lnR, a:lnT, a:lnB)\n */\nfunction parseBorderLine(tcPrEl: Element, tag: string, themeColors: Record<string, string>): Stroke | undefined {\n  const lnEl = findChild(tcPrEl, tag)\n  if (!lnEl) return undefined\n\n  // Check for no fill (invisible border)\n  const noFillEl = findChild(lnEl, 'noFill')\n  if (noFillEl) return undefined\n\n  // Width in EMU (default 12700 = ~1pt)\n  const wAttr = getNumericAttr(lnEl, 'w', 12700)\n  const width = Math.max(1, Math.round(wAttr / 12700))\n\n  // Color\n  let color = '#000000'\n  const solidFillEl = findChild(lnEl, 'solidFill')\n  if (solidFillEl) {\n    const parsed = parseFillColor(solidFillEl, themeColors)\n    if (parsed) color = parsed\n  }\n\n  // Dash style\n  const prstDashEl = findChild(lnEl, 'prstDash')\n  let style: 'solid' | 'dashed' | 'dotted' = 'solid'\n  if (prstDashEl) {\n    const val = getAttr(prstDashEl, 'val')\n    if (val === 'dash' || val === 'lgDash' || val === 'sysDash') style = 'dashed'\n    else if (val === 'dot' || val === 'sysDot') style = 'dotted'\n  }\n\n  return { color, width, style }\n}\n\n/**\n * Parse slide background\n */\nfunction parseSlideBackground(\n  cSldEl: Element,\n  themeColors: Record<string, string>,\n  bgFillStyles?: ThemeBgFillStyle[],\n): Background {\n  const defaultBackground: Background = {\n    type: 'solid',\n    color: '#FFFFFF',\n  }\n\n  const bgEls = cSldEl.getElementsByTagName('p:bg')\n  if (bgEls.length === 0) {\n    return defaultBackground\n  }\n\n  const bgEl = bgEls[0]\n\n  // Check for bgPr (background properties) - explicit fill defined\n  const bgPrEl = findChild(bgEl, 'bgPr')\n  if (bgPrEl) {\n    const solidFillEl = findChild(bgPrEl, 'solidFill')\n    if (solidFillEl) {\n      const color = parseBackgroundColor(solidFillEl, themeColors)\n      if (color) {\n        return { type: 'solid', color }\n      }\n    }\n\n    const gradFillEl = findChild(bgPrEl, 'gradFill')\n    if (gradFillEl) {\n      const gradient = parseGradientFill(gradFillEl, themeColors)\n      if (gradient) {\n        return gradient\n      }\n    }\n\n    const blipFillEl = findChild(bgPrEl, 'blipFill')\n    if (blipFillEl) {\n      return { type: 'solid', color: '#E7E6E6' }\n    }\n  }\n\n  // Check for bgRef (reference to theme fill style)\n  const bgRefEl = findChild(bgEl, 'bgRef')\n  if (bgRefEl) {\n    const idx = parseInt(getAttr(bgRefEl, 'idx') || '0')\n\n    // bgRef idx >= 1001 references bgFillStyleLst (1001=index 0, 1002=index 1, etc.)\n    if (idx >= 1001 && bgFillStyles && bgFillStyles.length > 0) {\n      const styleIndex = idx - 1001\n      const fillStyle = bgFillStyles[styleIndex]\n\n      if (fillStyle) {\n        // Get the override color from schemeClr in bgRef (this substitutes into the fill style)\n        const schemeClrEl = findChild(bgRefEl, 'schemeClr')\n        const overrideScheme = schemeClrEl ? getAttr(schemeClrEl, 'val') : null\n\n        if (fillStyle.type === 'solid') {\n          // Use the fill style's own color, or the override scheme color\n          if (fillStyle.solidColor) {\n            return { type: 'solid', color: fillStyle.solidColor }\n          }\n          // Use the schemeClr from bgRef as the color\n          if (overrideScheme) {\n            const color = resolveSchemeColor(overrideScheme, themeColors)\n            if (color) return { type: 'solid', color }\n          }\n          // Use the fill style's schemeClr\n          if (fillStyle.schemeClr) {\n            const color = resolveSchemeColor(fillStyle.schemeClr, themeColors)\n            if (color) return { type: 'solid', color }\n          }\n        } else if (fillStyle.type === 'gradient' && fillStyle.gradient) {\n          // Resolve gradient stops using theme colors\n          const stops: Array<{ position: number; color: string }> = []\n          for (const stop of fillStyle.gradient.stops) {\n            let color = stop.color\n            if (!color && stop.schemeClr) {\n              color = resolveSchemeColor(stop.schemeClr, themeColors) || '#808080'\n            }\n            if (!color && overrideScheme) {\n              color = resolveSchemeColor(overrideScheme, themeColors) || '#808080'\n            }\n            if (color) {\n              stops.push({ position: stop.position, color })\n            }\n          }\n          if (stops.length >= 2) {\n            return {\n              type: 'gradient',\n              gradient: {\n                type: 'linear',\n                angle: fillStyle.gradient.angle,\n                stops,\n              },\n            }\n          }\n          // Fall back to first stop color as solid\n          if (stops.length === 1) {\n            return { type: 'solid', color: stops[0].color }\n          }\n        }\n      }\n    }\n\n    // Fallback: try direct color from bgRef\n    const color = parseBackgroundColor(bgRefEl, themeColors)\n    if (color) {\n      return { type: 'solid', color }\n    }\n  }\n\n  return defaultBackground\n}\n\n/** Resolve a scheme color name to an actual hex color */\nfunction resolveSchemeColor(schemeVal: string, themeColors: Record<string, string>): string | null {\n  const colorMap: Record<string, string> = {\n    'lt1': 'light1', 'lt2': 'light2',\n    'dk1': 'dark1', 'dk2': 'dark2',\n    'bg1': 'light1', 'bg2': 'light2',\n    'tx1': 'dark1', 'tx2': 'dark2',\n    'accent1': 'accent1', 'accent2': 'accent2',\n    'accent3': 'accent3', 'accent4': 'accent4',\n    'accent5': 'accent5', 'accent6': 'accent6',\n    'hlink': 'hyperlink', 'folHlink': 'followedHyperlink',\n  }\n  const key = colorMap[schemeVal] || schemeVal\n  return themeColors[key] || DEFAULT_THEME_COLORS[key as keyof typeof DEFAULT_THEME_COLORS] || null\n}\n\n/**\n * Parse gradient fill\n */\nfunction parseGradientFill(\n  gradFillEl: Element,\n  themeColors: Record<string, string>\n): Background | null {\n  const gsLst = findChild(gradFillEl, 'gsLst')\n  if (!gsLst) return null\n\n  const gsEls = findAllChildren(gsLst, 'gs')\n  if (gsEls.length < 2) {\n    if (gsEls.length === 1) {\n      const color = parseBackgroundColor(gsEls[0], themeColors)\n      if (color) {\n        return { type: 'solid', color }\n      }\n    }\n    return null\n  }\n\n  const stops: Array<{ position: number; color: string }> = []\n  for (const gs of gsEls) {\n    const pos = getNumericAttr(gs, 'pos', 0) / 100000\n    const color = parseBackgroundColor(gs, themeColors)\n    if (color) {\n      stops.push({ position: pos, color })\n    }\n  }\n\n  if (stops.length < 2) {\n    return stops.length === 1 ? { type: 'solid', color: stops[0].color } : null\n  }\n\n  const linEl = findChild(gradFillEl, 'lin')\n  let angle = 0\n  if (linEl) {\n    angle = getNumericAttr(linEl, 'ang', 0) / 60000\n  }\n\n  return {\n    type: 'gradient',\n    gradient: {\n      type: 'linear',\n      angle,\n      stops,\n    },\n  }\n}\n\n/**\n * Parse background color from element\n */\nfunction parseBackgroundColor(\n  el: Element,\n  themeColors: Record<string, string>\n): string | null {\n  const srgbClrEl = findChild(el, 'srgbClr')\n  if (srgbClrEl) {\n    const val = getAttr(srgbClrEl, 'val')\n    if (val) {\n      return parseColor(val)\n    }\n  }\n\n  const schemeClrEl = findChild(el, 'schemeClr')\n  if (schemeClrEl) {\n    const val = getAttr(schemeClrEl, 'val')\n    if (val) {\n      const colorMap: Record<string, string> = {\n        'lt1': 'light1',\n        'lt2': 'light2',\n        'dk1': 'dark1',\n        'dk2': 'dark2',\n        'accent1': 'accent1',\n        'accent2': 'accent2',\n        'accent3': 'accent3',\n        'accent4': 'accent4',\n        'accent5': 'accent5',\n        'accent6': 'accent6',\n        'bg1': 'light1',\n        'bg2': 'light2',\n        'tx1': 'dark1',\n        'tx2': 'dark2',\n      }\n      const key = colorMap[val] || val\n      return themeColors[key] || DEFAULT_THEME_COLORS[key as keyof typeof DEFAULT_THEME_COLORS] || null\n    }\n  }\n\n  return null\n}\n\n/**\n * Parse slide master background\n */\nexport function parseMasterBackground(\n  masterXml: string,\n  themeColors: Record<string, string>,\n  _globalImageMap: Map<string, string>,\n  bgFillStyles?: ThemeBgFillStyle[],\n): Background {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(masterXml, 'application/xml')\n\n  const cSldEl = doc.getElementsByTagName('p:cSld')[0]\n  if (!cSldEl) {\n    return { type: 'solid', color: '#FFFFFF' }\n  }\n\n  return parseSlideBackground(cSldEl, themeColors, bgFillStyles)\n}\n\n/**\n * Create an empty slide\n */\nfunction createEmptySlide(slideIndex: number, masterBackground?: Background): Slide {\n  return {\n    id: generateId(),\n    order: slideIndex,\n    elements: [],\n    background: masterBackground || { type: 'solid', color: '#FFFFFF' },\n  }\n}\n","/**\n * Theme Parser\n * Parses theme colors and fonts from PPTX XML\n */\n\nimport { ColorScheme, FontScheme } from '@/types'\nimport {\n  parseColor,\n  getAttr,\n  findChild,\n  DEFAULT_THEME_COLORS,\n} from './utils'\n\n/** Parsed background fill style from theme */\nexport interface ThemeBgFillStyle {\n  type: 'solid' | 'gradient'\n  solidColor?: string\n  schemeClr?: string\n  gradient?: { stops: Array<{ position: number; color?: string; schemeClr?: string }>; angle: number }\n}\n\n/**\n * Parse theme XML and extract colors and fonts\n */\nexport function parseTheme(themeXml: string): {\n  colors: Record<string, string>\n  fonts: { heading: string; body: string }\n  colorScheme: ColorScheme\n  fontScheme: FontScheme\n  bgFillStyles: ThemeBgFillStyle[]\n} {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(themeXml, 'application/xml')\n\n  const colors = parseThemeColors(doc)\n  const fonts = parseThemeFonts(doc)\n  const bgFillStyles = parseBgFillStyleLst(doc)\n\n  // Build ColorScheme\n  const colorScheme: ColorScheme = {\n    dark1: colors.dark1 || DEFAULT_THEME_COLORS.dark1,\n    light1: colors.light1 || DEFAULT_THEME_COLORS.light1,\n    dark2: colors.dark2 || DEFAULT_THEME_COLORS.dark2,\n    light2: colors.light2 || DEFAULT_THEME_COLORS.light2,\n    accent1: colors.accent1 || DEFAULT_THEME_COLORS.accent1,\n    accent2: colors.accent2 || DEFAULT_THEME_COLORS.accent2,\n    accent3: colors.accent3 || DEFAULT_THEME_COLORS.accent3,\n    accent4: colors.accent4 || DEFAULT_THEME_COLORS.accent4,\n    accent5: colors.accent5 || DEFAULT_THEME_COLORS.accent5,\n    accent6: colors.accent6 || DEFAULT_THEME_COLORS.accent6,\n    hyperlink: colors.hyperlink || DEFAULT_THEME_COLORS.hyperlink,\n    followedHyperlink: colors.followedHyperlink || DEFAULT_THEME_COLORS.followedHyperlink,\n    // Semantic aliases (light1 = background1, dark1 = text1, etc.)\n    background1: colors.light1 || DEFAULT_THEME_COLORS.light1,\n    text1: colors.dark1 || DEFAULT_THEME_COLORS.dark1,\n    background2: colors.light2 || DEFAULT_THEME_COLORS.light2,\n    text2: colors.dark2 || DEFAULT_THEME_COLORS.dark2,\n  }\n\n  // Build FontScheme\n  const fontScheme: FontScheme = {\n    majorFont: { latin: fonts.heading },\n    minorFont: { latin: fonts.body },\n  }\n\n  return { colors, fonts, colorScheme, fontScheme, bgFillStyles }\n}\n\n/**\n * Parse background fill style list from theme fmtScheme\n * These are referenced by bgRef idx (1001 = index 0, 1002 = index 1, etc.)\n */\nfunction parseBgFillStyleLst(doc: Document): ThemeBgFillStyle[] {\n  const styles: ThemeBgFillStyle[] = []\n\n  const bgFillLst = doc.getElementsByTagName('a:bgFillStyleLst')[0]\n  if (!bgFillLst) return styles\n\n  // Iterate direct children (solidFill, gradFill, etc.)\n  for (let i = 0; i < bgFillLst.childNodes.length; i++) {\n    const child = bgFillLst.childNodes[i] as Element\n    if (!child.tagName) continue\n\n    if (child.tagName === 'a:solidFill') {\n      const srgbEl = child.getElementsByTagName('a:srgbClr')[0]\n      const schemeEl = child.getElementsByTagName('a:schemeClr')[0]\n      styles.push({\n        type: 'solid',\n        solidColor: srgbEl ? parseColor(getAttr(srgbEl, 'val') || '') : undefined,\n        schemeClr: schemeEl ? getAttr(schemeEl, 'val') || undefined : undefined,\n      })\n    } else if (child.tagName === 'a:gradFill') {\n      const gsLst = child.getElementsByTagName('a:gsLst')[0]\n      const stops: ThemeBgFillStyle['gradient'] extends undefined ? never : NonNullable<ThemeBgFillStyle['gradient']>['stops'] = []\n      if (gsLst) {\n        const gsEls = gsLst.getElementsByTagName('a:gs')\n        for (let j = 0; j < gsEls.length; j++) {\n          const gs = gsEls[j]\n          const pos = parseInt(getAttr(gs, 'pos') || '0') / 100000\n          const srgb = gs.getElementsByTagName('a:srgbClr')[0]\n          const scheme = gs.getElementsByTagName('a:schemeClr')[0]\n          stops.push({\n            position: pos,\n            color: srgb ? parseColor(getAttr(srgb, 'val') || '') : undefined,\n            schemeClr: scheme ? getAttr(scheme, 'val') || undefined : undefined,\n          })\n        }\n      }\n      const linEl = child.getElementsByTagName('a:lin')[0]\n      const angle = linEl ? parseInt(getAttr(linEl, 'ang') || '0') / 60000 : 0\n      styles.push({ type: 'gradient', gradient: { stops, angle } })\n    } else {\n      // Other fill types (blipFill, pattFill) - treat as solid placeholder\n      styles.push({ type: 'solid', schemeClr: 'bg1' })\n    }\n  }\n\n  return styles\n}\n\n/**\n * Parse theme colors from a:clrScheme\n */\nfunction parseThemeColors(doc: Document): Record<string, string> {\n  const colors: Record<string, string> = { ...DEFAULT_THEME_COLORS }\n\n  // Find color scheme (a:clrScheme)\n  const clrSchemeEl = doc.getElementsByTagName('a:clrScheme')[0]\n  if (!clrSchemeEl) {\n    return colors\n  }\n\n  // Parse each color definition\n  const colorMappings = [\n    { tag: 'a:dk1', key: 'dark1' },\n    { tag: 'a:dk2', key: 'dark2' },\n    { tag: 'a:lt1', key: 'light1' },\n    { tag: 'a:lt2', key: 'light2' },\n    { tag: 'a:accent1', key: 'accent1' },\n    { tag: 'a:accent2', key: 'accent2' },\n    { tag: 'a:accent3', key: 'accent3' },\n    { tag: 'a:accent4', key: 'accent4' },\n    { tag: 'a:accent5', key: 'accent5' },\n    { tag: 'a:accent6', key: 'accent6' },\n    { tag: 'a:hlink', key: 'hyperlink' },\n    { tag: 'a:folHlink', key: 'followedHyperlink' },\n  ]\n\n  for (const { tag, key } of colorMappings) {\n    const elements = clrSchemeEl.getElementsByTagName(tag)\n    if (elements.length > 0) {\n      const color = extractColor(elements[0])\n      if (color) {\n        colors[key] = color\n      }\n    }\n  }\n\n  return colors\n}\n\n/**\n * Extract color value from color element\n */\nfunction extractColor(colorEl: Element): string | null {\n  // Check for srgbClr (direct RGB)\n  const srgbClrEls = colorEl.getElementsByTagName('a:srgbClr')\n  if (srgbClrEls.length > 0) {\n    const val = getAttr(srgbClrEls[0], 'val')\n    if (val) {\n      return parseColor(val)\n    }\n  }\n\n  // Check for sysClr (system color)\n  const sysClrEls = colorEl.getElementsByTagName('a:sysClr')\n  if (sysClrEls.length > 0) {\n    const lastClr = getAttr(sysClrEls[0], 'lastClr')\n    if (lastClr) {\n      return parseColor(lastClr)\n    }\n    // Fallback to val attribute\n    const val = getAttr(sysClrEls[0], 'val')\n    if (val) {\n      return getSystemColor(val)\n    }\n  }\n\n  return null\n}\n\n/**\n * Get system color value\n */\nfunction getSystemColor(sysColor: string): string {\n  const systemColors: Record<string, string> = {\n    windowText: '#000000',\n    window: '#FFFFFF',\n    highlight: '#0078D4',\n    highlightText: '#FFFFFF',\n    buttonFace: '#F0F0F0',\n    buttonText: '#000000',\n    captionText: '#000000',\n    grayText: '#808080',\n    infoBackground: '#FFFFE1',\n    infoText: '#000000',\n    menuText: '#000000',\n    scrollbar: '#C0C0C0',\n    windowFrame: '#000000',\n    menuHighlight: '#0078D4',\n  }\n  return systemColors[sysColor] || '#000000'\n}\n\n/**\n * Parse theme fonts from a:fontScheme\n */\nfunction parseThemeFonts(doc: Document): { heading: string; body: string } {\n  const fonts = {\n    heading: 'Calibri Light',\n    body: 'Calibri',\n  }\n\n  // Find font scheme (a:fontScheme)\n  const fontSchemeEl = doc.getElementsByTagName('a:fontScheme')[0]\n  if (!fontSchemeEl) {\n    return fonts\n  }\n\n  // Get major font (headings)\n  const majorFontEl = fontSchemeEl.getElementsByTagName('a:majorFont')[0]\n  if (majorFontEl) {\n    const latinEl = majorFontEl.getElementsByTagName('a:latin')[0]\n    if (latinEl) {\n      const typeface = getAttr(latinEl, 'typeface')\n      if (typeface) {\n        fonts.heading = typeface\n      }\n    }\n  }\n\n  // Get minor font (body)\n  const minorFontEl = fontSchemeEl.getElementsByTagName('a:minorFont')[0]\n  if (minorFontEl) {\n    const latinEl = minorFontEl.getElementsByTagName('a:latin')[0]\n    if (latinEl) {\n      const typeface = getAttr(latinEl, 'typeface')\n      if (typeface) {\n        fonts.body = typeface\n      }\n    }\n  }\n\n  return fonts\n}\n\n/**\n * Parse background color from slide master or slide layout\n */\nexport function parseBackground(bgEl: Element, themeColors: Record<string, string>): string | null {\n  if (!bgEl) return null\n\n  // Check for solid fill\n  const bgPrEl = findChild(bgEl, 'bgPr')\n  if (bgPrEl) {\n    const solidFillEl = findChild(bgPrEl, 'solidFill')\n    if (solidFillEl) {\n      // Check for srgbClr\n      const srgbClrEl = findChild(solidFillEl, 'srgbClr')\n      if (srgbClrEl) {\n        const val = getAttr(srgbClrEl, 'val')\n        if (val) {\n          return parseColor(val)\n        }\n      }\n      // Check for schemeClr\n      const schemeClrEl = findChild(solidFillEl, 'schemeClr')\n      if (schemeClrEl) {\n        const val = getAttr(schemeClrEl, 'val')\n        if (val && themeColors[val]) {\n          return themeColors[val]\n        }\n      }\n    }\n  }\n\n  // Check for bgRef (reference to theme)\n  const bgRefEl = findChild(bgEl, 'bgRef')\n  if (bgRefEl) {\n    const schemeClrEl = findChild(bgRefEl, 'schemeClr')\n    if (schemeClrEl) {\n      const val = getAttr(schemeClrEl, 'val')\n      const mappedKey = val === 'lt1' ? 'light1' : val === 'lt2' ? 'light2' : val\n      if (mappedKey && themeColors[mappedKey]) {\n        return themeColors[mappedKey]\n      }\n    }\n  }\n\n  return null\n}\n\n/**\n * Parse slide master for default background\n */\nexport function parseSlideMaster(\n  masterXml: string,\n  themeColors: Record<string, string>\n): { background: string | null } {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(masterXml, 'application/xml')\n\n  // Find cSld element\n  const cSldEls = doc.getElementsByTagName('p:cSld')\n  if (cSldEls.length === 0) {\n    return { background: null }\n  }\n\n  // Find background element\n  const bgEls = cSldEls[0].getElementsByTagName('p:bg')\n  if (bgEls.length === 0) {\n    return { background: null }\n  }\n\n  const background = parseBackground(bgEls[0], themeColors)\n  return { background }\n}\n","/**\n * PPTX Importer\n * Main entry point for importing PowerPoint files\n */\n\nimport JSZip from 'jszip'\nimport { Presentation, Slide, ColorScheme, FontScheme, Background, DEFAULT_THEME } from '@/types'\nimport { generateId } from '@/utils'\nimport { parseSlide, parseMasterBackground } from './parser/slideParser'\nimport { parseTheme, ThemeBgFillStyle } from './parser/themeParser'\nimport { extractImages, parseSlideRelationships, buildSlideImageMap } from './parser/imageParser'\nimport { setFontScheme, setScaleFactor } from './parser/textParser'\nimport { DEFAULT_THEME_COLORS, emuToPixels } from './parser/utils'\n\n/** Placeholder position/size resolved from layout or master */\nexport type PlaceholderTransform = { x: number; y: number; width: number; height: number }\nexport type LayoutPlaceholders = Map<string, PlaceholderTransform>\n\nexport interface ImportResult {\n  success: boolean\n  presentation?: Presentation\n  error?: string\n}\n\nexport interface ImportProgress {\n  stage: 'loading' | 'parsing-theme' | 'extracting-images' | 'parsing-slides' | 'complete'\n  current: number\n  total: number\n  message: string\n}\n\n/**\n * Import a PPTX file and convert it to our Presentation format\n */\nexport async function importPptx(\n  file: File,\n  onProgress?: (progress: ImportProgress) => void\n): Promise<ImportResult> {\n  try {\n    // Validate file type (support both PPTX and PPTM)\n    const fileName = file.name.toLowerCase()\n    if (!fileName.endsWith('.pptx') && !fileName.endsWith('.pptm')) {\n      return {\n        success: false,\n        error: 'Invalid file type. Please select a .pptx or .pptm file.',\n      }\n    }\n\n    // Report loading progress\n    onProgress?.({\n      stage: 'loading',\n      current: 0,\n      total: 100,\n      message: 'Loading file...',\n    })\n\n    // Read file as ArrayBuffer\n    const arrayBuffer = await file.arrayBuffer()\n\n    // Load ZIP\n    const zip = await JSZip.loadAsync(arrayBuffer)\n\n    // Parse presentation.xml to get slide order and metadata\n    const presentationXmlContent = await zip.file('ppt/presentation.xml')?.async('string')\n    if (!presentationXmlContent) {\n      return {\n        success: false,\n        error: 'Invalid PPTX file: missing presentation.xml',\n      }\n    }\n\n    const { slideIds, presentationName, scaleFactor, slideWidth, slideHeight } = parsePresentationXml(presentationXmlContent)\n    console.log('[Import] slideIds:', slideIds, 'slideWidth:', slideWidth, 'slideHeight:', slideHeight, 'scaleFactor:', scaleFactor)\n\n    // Report theme parsing progress\n    onProgress?.({\n      stage: 'parsing-theme',\n      current: 10,\n      total: 100,\n      message: 'Parsing themes...',\n    })\n\n    // Parse ALL themes and build a theme map\n    const themeMap = new Map<string, { colors: Record<string, string>; colorScheme: ColorScheme; fontScheme: FontScheme; bgFillStyles: ThemeBgFillStyle[] }>()\n    const themeFiles = Object.keys(zip.files).filter(f => f.match(/ppt\\/theme\\/theme\\d+\\.xml$/))\n\n    for (const themeFile of themeFiles) {\n      try {\n        const themeXml = await zip.file(themeFile)?.async('string')\n        if (themeXml) {\n          const parsedTheme = parseTheme(themeXml)\n          themeMap.set(themeFile, parsedTheme)\n          console.log(`[Import] Theme ${themeFile} bgFillStyles:`, parsedTheme.bgFillStyles.length, JSON.stringify(parsedTheme.bgFillStyles))\n        }\n      } catch (error) {\n        console.warn(`Failed to parse ${themeFile}:`, error)\n      }\n    }\n\n    // Use first theme as default\n    const defaultTheme = themeMap.get('ppt/theme/theme1.xml') || {\n      colors: { ...DEFAULT_THEME_COLORS },\n      colorScheme: DEFAULT_THEME.colorScheme,\n      fontScheme: DEFAULT_THEME.fontScheme,\n      bgFillStyles: [] as ThemeBgFillStyle[],\n    }\n    let colorScheme = defaultTheme.colorScheme\n    let fontScheme = defaultTheme.fontScheme\n\n    // Set font scheme and scale factor for text parsing\n    setFontScheme(fontScheme)\n    setScaleFactor(scaleFactor)\n\n    // Report image extraction progress\n    onProgress?.({\n      stage: 'extracting-images',\n      current: 20,\n      total: 100,\n      message: 'Extracting images...',\n    })\n\n    // Extract all images\n    const globalImageMap = await extractImages(zip)\n\n    // Build layout  master  theme mapping (with placeholder transforms)\n    interface LayoutInfo {\n      masterFile: string\n      themeFile: string\n      themeColors: Record<string, string>\n      background: Background\n      placeholders: LayoutPlaceholders\n      masterXml?: string\n      masterImageMap?: Map<string, string>\n    }\n    const layoutToMasterTheme = new Map<string, LayoutInfo>()\n\n    // Cache master placeholders to avoid re-parsing\n    const masterPlaceholderCache = new Map<string, LayoutPlaceholders>()\n\n    // Parse all slide layouts and their master references\n    const layoutFiles = Object.keys(zip.files).filter(f => f.match(/ppt\\/slideLayouts\\/slideLayout\\d+\\.xml$/))\n    for (const layoutFile of layoutFiles) {\n      try {\n        const layoutRelsFile = layoutFile.replace('slideLayouts/', 'slideLayouts/_rels/') + '.rels'\n        const layoutRels = await zip.file(layoutRelsFile)?.async('string')\n        if (layoutRels) {\n          // Find master reference\n          const masterMatch = layoutRels.match(/Target=\"\\.\\.\\/slideMasters\\/([^\"]+)\"/)\n          if (masterMatch) {\n            const masterFile = `ppt/slideMasters/${masterMatch[1]}`\n\n            // Find theme for this master\n            const masterRelsFile = masterFile.replace('slideMasters/', 'slideMasters/_rels/') + '.rels'\n            const masterRels = await zip.file(masterRelsFile)?.async('string')\n            let themeFile = 'ppt/theme/theme1.xml'\n            if (masterRels) {\n              const themeMatch = masterRels.match(/Target=\"\\.\\.\\/theme\\/([^\"]+)\"/)\n              if (themeMatch) {\n                themeFile = `ppt/theme/${themeMatch[1]}`\n              }\n            }\n\n            const theme = themeMap.get(themeFile) || defaultTheme\n\n            // Parse master background with correct theme colors and bgFillStyles\n            let background: Background = { type: 'solid', color: '#FFFFFF' }\n            const masterXml = await zip.file(masterFile)?.async('string')\n            if (masterXml) {\n              background = parseMasterBackground(masterXml, theme.colors, globalImageMap, theme.bgFillStyles)\n              console.log(`[Import] Master ${masterFile} bg:`, JSON.stringify(background), 'theme dk1:', theme.colors.dark1, 'lt1:', theme.colors.light1)\n            }\n\n            // Build master image map from master rels\n            let masterImageMap: Map<string, string> = new Map()\n            if (masterRels) {\n              const masterRelMap = parseSlideRelationships(masterRels)\n              masterImageMap = buildSlideImageMap(masterRelMap, globalImageMap)\n            }\n\n            // Parse master placeholders (cached)\n            let masterPlaceholders: LayoutPlaceholders\n            if (masterPlaceholderCache.has(masterFile)) {\n              masterPlaceholders = masterPlaceholderCache.get(masterFile)!\n            } else {\n              masterPlaceholders = masterXml ? parseXmlForPlaceholders(masterXml) : new Map()\n              masterPlaceholderCache.set(masterFile, masterPlaceholders)\n            }\n\n            // Parse layout placeholders\n            const layoutXml = await zip.file(layoutFile)?.async('string')\n            const layoutPlaceholders: LayoutPlaceholders = layoutXml ? parseXmlForPlaceholders(layoutXml) : new Map()\n\n            // Merge: layout overrides master (layout has higher priority)\n            const mergedPlaceholders: LayoutPlaceholders = new Map(masterPlaceholders)\n            for (const [key, val] of layoutPlaceholders) {\n              mergedPlaceholders.set(key, val)\n            }\n\n            // Also parse layout background as fallback\n            if (background.type === 'solid' && background.color === '#FFFFFF' && layoutXml) {\n              const layoutParser = new DOMParser()\n              const layoutDoc = layoutParser.parseFromString(layoutXml, 'application/xml')\n              const layoutCsld = layoutDoc.getElementsByTagName('p:cSld')[0]\n              if (layoutCsld) {\n                const layoutBg = layoutCsld.getElementsByTagName('p:bg')[0]\n                if (layoutBg) {\n                  background = parseMasterBackground(layoutXml, theme.colors, globalImageMap, theme.bgFillStyles)\n                }\n              }\n            }\n\n            const layoutName = layoutFile.match(/slideLayout(\\d+)\\.xml/)?.[1] || '1'\n            layoutToMasterTheme.set(layoutName, {\n              masterFile,\n              themeFile,\n              themeColors: theme.colors,\n              background,\n              placeholders: mergedPlaceholders,\n              masterXml: masterXml || undefined,\n              masterImageMap,\n            })\n          }\n        }\n      } catch (error) {\n        console.warn(`Failed to parse layout relationships for ${layoutFile}:`, error)\n      }\n    }\n\n    // Report slide parsing progress\n    onProgress?.({\n      stage: 'parsing-slides',\n      current: 30,\n      total: 100,\n      message: 'Parsing slides...',\n    })\n\n    // Parse each slide\n    const slides: Slide[] = []\n    const totalSlides = slideIds.length\n\n    for (let i = 0; i < slideIds.length; i++) {\n      const slideNum = slideIds[i]\n\n      // Report progress for each slide\n      const progress = 30 + Math.round((i / totalSlides) * 60)\n      onProgress?.({\n        stage: 'parsing-slides',\n        current: progress,\n        total: 100,\n        message: `Parsing slide ${i + 1} of ${totalSlides}...`,\n      })\n\n      try {\n        // Get slide XML\n        const slideXml = await zip.file(`ppt/slides/slide${slideNum}.xml`)?.async('string')\n        if (!slideXml) {\n          console.warn(`Slide ${slideNum} not found`)\n          continue\n        }\n\n        // Get slide relationships to find which layout it uses\n        let slideRelsXml = ''\n        let slideThemeColors = defaultTheme.colors\n        let slideMasterBackground: Background = { type: 'solid', color: '#FFFFFF' }\n        let slideLayoutPlaceholders: LayoutPlaceholders = new Map()\n        let layoutFile = ''\n        let slideMasterXml: string | undefined\n        let slideMasterImageMap: Map<string, string> | undefined\n\n        try {\n          slideRelsXml = await zip.file(`ppt/slides/_rels/slide${slideNum}.xml.rels`)?.async('string') || ''\n\n          // Find layout reference\n          const layoutMatch = slideRelsXml.match(/Target=\"\\.\\.\\/slideLayouts\\/slideLayout(\\d+)\\.xml\"/)\n          if (layoutMatch) {\n            layoutFile = `ppt/slideLayouts/slideLayout${layoutMatch[1]}.xml`\n            const layoutInfo = layoutToMasterTheme.get(layoutMatch[1])\n            if (layoutInfo) {\n              slideThemeColors = layoutInfo.themeColors\n              slideMasterBackground = layoutInfo.background\n              slideLayoutPlaceholders = layoutInfo.placeholders\n              slideMasterXml = layoutInfo.masterXml\n              slideMasterImageMap = layoutInfo.masterImageMap\n            }\n          }\n        } catch {\n          // Relationships file might not exist\n        }\n\n        // Also get images from the layout's relationships for layout image elements\n        let layoutImageMap: Map<string, string> = new Map()\n        if (layoutFile) {\n          try {\n            const layoutRelsFile = layoutFile.replace('slideLayouts/', 'slideLayouts/_rels/') + '.rels'\n            const layoutRelsXml = await zip.file(layoutRelsFile)?.async('string')\n            if (layoutRelsXml) {\n              const layoutRelMap = parseSlideRelationships(layoutRelsXml)\n              layoutImageMap = buildSlideImageMap(layoutRelMap, globalImageMap)\n            }\n          } catch { /* ignore */ }\n        }\n\n        // Parse slide with correct theme colors, master background, layout and master elements\n        const slide = parseSlide(slideXml, slideRelsXml, i, slideThemeColors, globalImageMap, slideMasterBackground, scaleFactor, slideLayoutPlaceholders, layoutImageMap, layoutFile ? await zip.file(layoutFile)?.async('string') || '' : '', slideMasterXml, slideMasterImageMap)\n        console.log(`[Import] Slide ${i + 1}: ${slide.elements.length} elements, bg: ${slide.background.type}`)\n        slides.push(slide)\n      } catch (error) {\n        console.warn(`Failed to parse slide ${slideNum}:`, error)\n        // Continue with remaining slides\n      }\n    }\n\n    // Ensure at least one slide\n    if (slides.length === 0) {\n      slides.push({\n        id: generateId(),\n        order: 0,\n        elements: [],\n        background: { type: 'solid', color: '#FFFFFF' },\n      })\n    }\n\n    // Report complete\n    onProgress?.({\n      stage: 'complete',\n      current: 100,\n      total: 100,\n      message: 'Import complete!',\n    })\n\n    // Build presentation\n    const presentation: Presentation = {\n      id: generateId(),\n      name: presentationName || file.name.replace('.pptx', ''),\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      slides,\n      theme: {\n        id: generateId(),\n        name: 'Imported Theme',\n        colorScheme,\n        fontScheme,\n        defaultBackground: {\n          type: 'solid',\n          color: colorScheme.background1,\n        },\n      },\n      metadata: {\n        title: presentationName || file.name.replace('.pptx', ''),\n        author: '',\n      },\n    }\n\n    return {\n      success: true,\n      presentation,\n    }\n  } catch (error) {\n    console.error('PPTX import error:', error)\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to import presentation',\n    }\n  }\n}\n\n// Our target canvas size\nconst TARGET_WIDTH = 960\nconst TARGET_HEIGHT = 540\nconst EMU_PER_PIXEL = 9525\n\n/**\n * Parse a layout or master XML to extract placeholder transforms.\n * Returns a map keyed by \"type:<phType>\" and \"idx:<phIdx>\" for flexible lookup.\n */\nfunction parseXmlForPlaceholders(xml: string): LayoutPlaceholders {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(xml, 'application/xml')\n  const placeholders: LayoutPlaceholders = new Map()\n\n  const spEls = doc.getElementsByTagName('p:sp')\n  for (let i = 0; i < spEls.length; i++) {\n    const sp = spEls[i]\n\n    // Find placeholder element\n    const phEls = sp.getElementsByTagName('p:ph')\n    if (phEls.length === 0) continue\n    const ph = phEls[0]\n\n    // Get transform\n    const xfrmEls = sp.getElementsByTagName('a:xfrm')\n    if (xfrmEls.length === 0) continue\n    const xfrm = xfrmEls[0]\n\n    const offEls = xfrm.getElementsByTagName('a:off')\n    const extEls = xfrm.getElementsByTagName('a:ext')\n    if (offEls.length === 0 || extEls.length === 0) continue\n\n    const x = emuToPixels(parseInt(offEls[0].getAttribute('x') || '0', 10))\n    const y = emuToPixels(parseInt(offEls[0].getAttribute('y') || '0', 10))\n    const width = emuToPixels(parseInt(extEls[0].getAttribute('cx') || '0', 10))\n    const height = emuToPixels(parseInt(extEls[0].getAttribute('cy') || '0', 10))\n\n    if (width === 0 && height === 0) continue\n\n    const phType = ph.getAttribute('type') || 'body'\n    const phIdx = ph.getAttribute('idx') || ''\n\n    placeholders.set(`type:${phType}`, { x, y, width, height })\n    if (phIdx) {\n      placeholders.set(`idx:${phIdx}`, { x, y, width, height })\n    }\n  }\n\n  return placeholders\n}\n\n/**\n * Parse presentation.xml to get slide order, name, and dimensions\n */\nfunction parsePresentationXml(xmlContent: string): {\n  slideIds: number[]\n  presentationName: string | null\n  slideWidth: number\n  slideHeight: number\n  scaleFactor: number\n} {\n  const parser = new DOMParser()\n  const doc = parser.parseFromString(xmlContent, 'application/xml')\n\n  // Get slide IDs from sldIdLst\n  const slideIds: number[] = []\n  const sldIdElements = doc.getElementsByTagName('p:sldId')\n\n  for (let i = 0; i < sldIdElements.length; i++) {\n    const sldIdEl = sldIdElements[i]\n    const rIdAttr = sldIdEl.getAttribute('r:id')\n    if (rIdAttr) {\n      // Extract slide number from relationship ID (e.g., \"rId2\" -> look up in rels)\n      // For now, assume slides are numbered sequentially\n      slideIds.push(i + 1)\n    }\n  }\n\n  // If no slides found, default to slide 1\n  if (slideIds.length === 0) {\n    slideIds.push(1)\n  }\n\n  // Parse slide size from p:sldSz\n  let slideWidth = TARGET_WIDTH\n  let slideHeight = TARGET_HEIGHT\n  const sldSzEl = doc.getElementsByTagName('p:sldSz')[0]\n  if (sldSzEl) {\n    const cx = sldSzEl.getAttribute('cx')\n    const cy = sldSzEl.getAttribute('cy')\n    if (cx) slideWidth = Math.round(parseInt(cx, 10) / EMU_PER_PIXEL)\n    if (cy) slideHeight = Math.round(parseInt(cy, 10) / EMU_PER_PIXEL)\n  }\n\n  // Calculate scale factor to fit our target canvas\n  const scaleX = TARGET_WIDTH / slideWidth\n  const scaleY = TARGET_HEIGHT / slideHeight\n  const scaleFactor = Math.min(scaleX, scaleY)\n\n  // Try to get presentation name from core properties\n  // (This would require parsing docProps/core.xml)\n  const presentationName = null\n\n  return { slideIds, presentationName, slideWidth, slideHeight, scaleFactor }\n}\n\n/**\n * Check if a file is a valid PPTX or PPTM\n */\nexport function isPptxFile(file: File): boolean {\n  const name = file.name.toLowerCase()\n  return name.endsWith('.pptx') ||\n    name.endsWith('.pptm') ||\n    file.type === 'application/vnd.openxmlformats-officedocument.presentationml.presentation' ||\n    file.type === 'application/vnd.ms-powerpoint.presentation.macroEnabled.12'\n}\n\n/**\n * Get file size in human-readable format\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n","/* PptxGenJS 4.0.1 @ 2025-06-25T23:35:35.098Z */\nimport JSZip from 'jszip';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * PptxGenJS Enums\n * NOTE: `enum` wont work for objects, so use `Object.freeze`\n */\n// CONST\nconst EMU = 914400; // One (1) inch (OfficeXML measures in EMU (English Metric Units))\nconst ONEPT = 12700; // One (1) point (pt)\nconst CRLF = '\\r\\n'; // AKA: Chr(13) & Chr(10)\nconst LAYOUT_IDX_SERIES_BASE = 2147483649;\nconst REGEX_HEX_COLOR = /^[0-9a-fA-F]{6}$/;\nconst LINEH_MODIFIER = 1.67; // AKA: Golden Ratio Typography\nconst DEF_BULLET_MARGIN = 27;\nconst DEF_CELL_BORDER = { type: 'solid', color: '666666', pt: 1 };\nconst DEF_CELL_MARGIN_IN = [0.05, 0.1, 0.05, 0.1]; // \"Normal\" margins in PPT-2021 (\"Narrow\" is `0.05` for all 4)\nconst DEF_CHART_BORDER = { color: '363636', pt: 1 };\nconst DEF_CHART_GRIDLINE = { color: '888888', style: 'solid', size: 1, cap: 'flat' };\nconst DEF_FONT_COLOR = '000000';\nconst DEF_FONT_SIZE = 12;\nconst DEF_FONT_TITLE_SIZE = 18;\nconst DEF_PRES_LAYOUT = 'LAYOUT_16x9';\nconst DEF_PRES_LAYOUT_NAME = 'DEFAULT';\nconst DEF_SHAPE_LINE_COLOR = '333333';\nconst DEF_SHAPE_SHADOW = { type: 'outer', blur: 3, offset: 23000 / 12700, angle: 90, color: '000000', opacity: 0.35, rotateWithShape: true };\nconst DEF_SLIDE_MARGIN_IN = [0.5, 0.5, 0.5, 0.5]; // TRBL-style\nconst DEF_TEXT_SHADOW = { color: '000000'};\nconst DEF_TEXT_GLOW = { size: 8, color: 'FFFFFF', opacity: 0.75 };\nconst AXIS_ID_VALUE_PRIMARY = '2094734552';\nconst AXIS_ID_VALUE_SECONDARY = '2094734553';\nconst AXIS_ID_CATEGORY_PRIMARY = '2094734554';\nconst AXIS_ID_CATEGORY_SECONDARY = '2094734555';\nconst AXIS_ID_SERIES_PRIMARY = '2094734556';\nconst LETTERS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\nconst BARCHART_COLORS = [\n    'C0504D',\n    '4F81BD',\n    '9BBB59',\n    '8064A2',\n    '4BACC6',\n    'F79646',\n    '628FC6',\n    'C86360',\n    'C0504D',\n    '4F81BD',\n    '9BBB59',\n    '8064A2',\n    '4BACC6',\n    'F79646',\n    '628FC6',\n    'C86360'\n];\nconst PIECHART_COLORS = [\n    '5DA5DA',\n    'FAA43A',\n    '60BD68',\n    'F17CB0',\n    'B2912F',\n    'B276B2',\n    'DECF3F',\n    'F15854',\n    'A7A7A7',\n    '5DA5DA',\n    'FAA43A',\n    '60BD68',\n    'F17CB0',\n    'B2912F',\n    'B276B2',\n    'DECF3F',\n    'F15854',\n    'A7A7A7',\n];\nvar TEXT_HALIGN;\n(function (TEXT_HALIGN) {\n    TEXT_HALIGN[\"left\"] = \"left\";\n    TEXT_HALIGN[\"center\"] = \"center\";\n    TEXT_HALIGN[\"right\"] = \"right\";\n    TEXT_HALIGN[\"justify\"] = \"justify\";\n})(TEXT_HALIGN || (TEXT_HALIGN = {}));\nvar TEXT_VALIGN;\n(function (TEXT_VALIGN) {\n    TEXT_VALIGN[\"b\"] = \"b\";\n    TEXT_VALIGN[\"ctr\"] = \"ctr\";\n    TEXT_VALIGN[\"t\"] = \"t\";\n})(TEXT_VALIGN || (TEXT_VALIGN = {}));\nconst SLDNUMFLDID = '{F7021451-1387-4CA6-816F-3879F97B5CBC}';\n// ENUM\n// TODO: 3.5 or v4.0: rationalize ts-def exported enum names/case!\n// NOTE: First tsdef enum named correctly (shapes -> 'Shape', colors -> 'Color'), etc.\nvar OutputType;\n(function (OutputType) {\n    OutputType[\"arraybuffer\"] = \"arraybuffer\";\n    OutputType[\"base64\"] = \"base64\";\n    OutputType[\"binarystring\"] = \"binarystring\";\n    OutputType[\"blob\"] = \"blob\";\n    OutputType[\"nodebuffer\"] = \"nodebuffer\";\n    OutputType[\"uint8array\"] = \"uint8array\";\n})(OutputType || (OutputType = {}));\nvar ChartType;\n(function (ChartType) {\n    ChartType[\"area\"] = \"area\";\n    ChartType[\"bar\"] = \"bar\";\n    ChartType[\"bar3d\"] = \"bar3D\";\n    ChartType[\"bubble\"] = \"bubble\";\n    ChartType[\"bubble3d\"] = \"bubble3D\";\n    ChartType[\"doughnut\"] = \"doughnut\";\n    ChartType[\"line\"] = \"line\";\n    ChartType[\"pie\"] = \"pie\";\n    ChartType[\"radar\"] = \"radar\";\n    ChartType[\"scatter\"] = \"scatter\";\n})(ChartType || (ChartType = {}));\nvar ShapeType;\n(function (ShapeType) {\n    ShapeType[\"accentBorderCallout1\"] = \"accentBorderCallout1\";\n    ShapeType[\"accentBorderCallout2\"] = \"accentBorderCallout2\";\n    ShapeType[\"accentBorderCallout3\"] = \"accentBorderCallout3\";\n    ShapeType[\"accentCallout1\"] = \"accentCallout1\";\n    ShapeType[\"accentCallout2\"] = \"accentCallout2\";\n    ShapeType[\"accentCallout3\"] = \"accentCallout3\";\n    ShapeType[\"actionButtonBackPrevious\"] = \"actionButtonBackPrevious\";\n    ShapeType[\"actionButtonBeginning\"] = \"actionButtonBeginning\";\n    ShapeType[\"actionButtonBlank\"] = \"actionButtonBlank\";\n    ShapeType[\"actionButtonDocument\"] = \"actionButtonDocument\";\n    ShapeType[\"actionButtonEnd\"] = \"actionButtonEnd\";\n    ShapeType[\"actionButtonForwardNext\"] = \"actionButtonForwardNext\";\n    ShapeType[\"actionButtonHelp\"] = \"actionButtonHelp\";\n    ShapeType[\"actionButtonHome\"] = \"actionButtonHome\";\n    ShapeType[\"actionButtonInformation\"] = \"actionButtonInformation\";\n    ShapeType[\"actionButtonMovie\"] = \"actionButtonMovie\";\n    ShapeType[\"actionButtonReturn\"] = \"actionButtonReturn\";\n    ShapeType[\"actionButtonSound\"] = \"actionButtonSound\";\n    ShapeType[\"arc\"] = \"arc\";\n    ShapeType[\"bentArrow\"] = \"bentArrow\";\n    ShapeType[\"bentUpArrow\"] = \"bentUpArrow\";\n    ShapeType[\"bevel\"] = \"bevel\";\n    ShapeType[\"blockArc\"] = \"blockArc\";\n    ShapeType[\"borderCallout1\"] = \"borderCallout1\";\n    ShapeType[\"borderCallout2\"] = \"borderCallout2\";\n    ShapeType[\"borderCallout3\"] = \"borderCallout3\";\n    ShapeType[\"bracePair\"] = \"bracePair\";\n    ShapeType[\"bracketPair\"] = \"bracketPair\";\n    ShapeType[\"callout1\"] = \"callout1\";\n    ShapeType[\"callout2\"] = \"callout2\";\n    ShapeType[\"callout3\"] = \"callout3\";\n    ShapeType[\"can\"] = \"can\";\n    ShapeType[\"chartPlus\"] = \"chartPlus\";\n    ShapeType[\"chartStar\"] = \"chartStar\";\n    ShapeType[\"chartX\"] = \"chartX\";\n    ShapeType[\"chevron\"] = \"chevron\";\n    ShapeType[\"chord\"] = \"chord\";\n    ShapeType[\"circularArrow\"] = \"circularArrow\";\n    ShapeType[\"cloud\"] = \"cloud\";\n    ShapeType[\"cloudCallout\"] = \"cloudCallout\";\n    ShapeType[\"corner\"] = \"corner\";\n    ShapeType[\"cornerTabs\"] = \"cornerTabs\";\n    ShapeType[\"cube\"] = \"cube\";\n    ShapeType[\"curvedDownArrow\"] = \"curvedDownArrow\";\n    ShapeType[\"curvedLeftArrow\"] = \"curvedLeftArrow\";\n    ShapeType[\"curvedRightArrow\"] = \"curvedRightArrow\";\n    ShapeType[\"curvedUpArrow\"] = \"curvedUpArrow\";\n    ShapeType[\"custGeom\"] = \"custGeom\";\n    ShapeType[\"decagon\"] = \"decagon\";\n    ShapeType[\"diagStripe\"] = \"diagStripe\";\n    ShapeType[\"diamond\"] = \"diamond\";\n    ShapeType[\"dodecagon\"] = \"dodecagon\";\n    ShapeType[\"donut\"] = \"donut\";\n    ShapeType[\"doubleWave\"] = \"doubleWave\";\n    ShapeType[\"downArrow\"] = \"downArrow\";\n    ShapeType[\"downArrowCallout\"] = \"downArrowCallout\";\n    ShapeType[\"ellipse\"] = \"ellipse\";\n    ShapeType[\"ellipseRibbon\"] = \"ellipseRibbon\";\n    ShapeType[\"ellipseRibbon2\"] = \"ellipseRibbon2\";\n    ShapeType[\"flowChartAlternateProcess\"] = \"flowChartAlternateProcess\";\n    ShapeType[\"flowChartCollate\"] = \"flowChartCollate\";\n    ShapeType[\"flowChartConnector\"] = \"flowChartConnector\";\n    ShapeType[\"flowChartDecision\"] = \"flowChartDecision\";\n    ShapeType[\"flowChartDelay\"] = \"flowChartDelay\";\n    ShapeType[\"flowChartDisplay\"] = \"flowChartDisplay\";\n    ShapeType[\"flowChartDocument\"] = \"flowChartDocument\";\n    ShapeType[\"flowChartExtract\"] = \"flowChartExtract\";\n    ShapeType[\"flowChartInputOutput\"] = \"flowChartInputOutput\";\n    ShapeType[\"flowChartInternalStorage\"] = \"flowChartInternalStorage\";\n    ShapeType[\"flowChartMagneticDisk\"] = \"flowChartMagneticDisk\";\n    ShapeType[\"flowChartMagneticDrum\"] = \"flowChartMagneticDrum\";\n    ShapeType[\"flowChartMagneticTape\"] = \"flowChartMagneticTape\";\n    ShapeType[\"flowChartManualInput\"] = \"flowChartManualInput\";\n    ShapeType[\"flowChartManualOperation\"] = \"flowChartManualOperation\";\n    ShapeType[\"flowChartMerge\"] = \"flowChartMerge\";\n    ShapeType[\"flowChartMultidocument\"] = \"flowChartMultidocument\";\n    ShapeType[\"flowChartOfflineStorage\"] = \"flowChartOfflineStorage\";\n    ShapeType[\"flowChartOffpageConnector\"] = \"flowChartOffpageConnector\";\n    ShapeType[\"flowChartOnlineStorage\"] = \"flowChartOnlineStorage\";\n    ShapeType[\"flowChartOr\"] = \"flowChartOr\";\n    ShapeType[\"flowChartPredefinedProcess\"] = \"flowChartPredefinedProcess\";\n    ShapeType[\"flowChartPreparation\"] = \"flowChartPreparation\";\n    ShapeType[\"flowChartProcess\"] = \"flowChartProcess\";\n    ShapeType[\"flowChartPunchedCard\"] = \"flowChartPunchedCard\";\n    ShapeType[\"flowChartPunchedTape\"] = \"flowChartPunchedTape\";\n    ShapeType[\"flowChartSort\"] = \"flowChartSort\";\n    ShapeType[\"flowChartSummingJunction\"] = \"flowChartSummingJunction\";\n    ShapeType[\"flowChartTerminator\"] = \"flowChartTerminator\";\n    ShapeType[\"folderCorner\"] = \"folderCorner\";\n    ShapeType[\"frame\"] = \"frame\";\n    ShapeType[\"funnel\"] = \"funnel\";\n    ShapeType[\"gear6\"] = \"gear6\";\n    ShapeType[\"gear9\"] = \"gear9\";\n    ShapeType[\"halfFrame\"] = \"halfFrame\";\n    ShapeType[\"heart\"] = \"heart\";\n    ShapeType[\"heptagon\"] = \"heptagon\";\n    ShapeType[\"hexagon\"] = \"hexagon\";\n    ShapeType[\"homePlate\"] = \"homePlate\";\n    ShapeType[\"horizontalScroll\"] = \"horizontalScroll\";\n    ShapeType[\"irregularSeal1\"] = \"irregularSeal1\";\n    ShapeType[\"irregularSeal2\"] = \"irregularSeal2\";\n    ShapeType[\"leftArrow\"] = \"leftArrow\";\n    ShapeType[\"leftArrowCallout\"] = \"leftArrowCallout\";\n    ShapeType[\"leftBrace\"] = \"leftBrace\";\n    ShapeType[\"leftBracket\"] = \"leftBracket\";\n    ShapeType[\"leftCircularArrow\"] = \"leftCircularArrow\";\n    ShapeType[\"leftRightArrow\"] = \"leftRightArrow\";\n    ShapeType[\"leftRightArrowCallout\"] = \"leftRightArrowCallout\";\n    ShapeType[\"leftRightCircularArrow\"] = \"leftRightCircularArrow\";\n    ShapeType[\"leftRightRibbon\"] = \"leftRightRibbon\";\n    ShapeType[\"leftRightUpArrow\"] = \"leftRightUpArrow\";\n    ShapeType[\"leftUpArrow\"] = \"leftUpArrow\";\n    ShapeType[\"lightningBolt\"] = \"lightningBolt\";\n    ShapeType[\"line\"] = \"line\";\n    ShapeType[\"lineInv\"] = \"lineInv\";\n    ShapeType[\"mathDivide\"] = \"mathDivide\";\n    ShapeType[\"mathEqual\"] = \"mathEqual\";\n    ShapeType[\"mathMinus\"] = \"mathMinus\";\n    ShapeType[\"mathMultiply\"] = \"mathMultiply\";\n    ShapeType[\"mathNotEqual\"] = \"mathNotEqual\";\n    ShapeType[\"mathPlus\"] = \"mathPlus\";\n    ShapeType[\"moon\"] = \"moon\";\n    ShapeType[\"noSmoking\"] = \"noSmoking\";\n    ShapeType[\"nonIsoscelesTrapezoid\"] = \"nonIsoscelesTrapezoid\";\n    ShapeType[\"notchedRightArrow\"] = \"notchedRightArrow\";\n    ShapeType[\"octagon\"] = \"octagon\";\n    ShapeType[\"parallelogram\"] = \"parallelogram\";\n    ShapeType[\"pentagon\"] = \"pentagon\";\n    ShapeType[\"pie\"] = \"pie\";\n    ShapeType[\"pieWedge\"] = \"pieWedge\";\n    ShapeType[\"plaque\"] = \"plaque\";\n    ShapeType[\"plaqueTabs\"] = \"plaqueTabs\";\n    ShapeType[\"plus\"] = \"plus\";\n    ShapeType[\"quadArrow\"] = \"quadArrow\";\n    ShapeType[\"quadArrowCallout\"] = \"quadArrowCallout\";\n    ShapeType[\"rect\"] = \"rect\";\n    ShapeType[\"ribbon\"] = \"ribbon\";\n    ShapeType[\"ribbon2\"] = \"ribbon2\";\n    ShapeType[\"rightArrow\"] = \"rightArrow\";\n    ShapeType[\"rightArrowCallout\"] = \"rightArrowCallout\";\n    ShapeType[\"rightBrace\"] = \"rightBrace\";\n    ShapeType[\"rightBracket\"] = \"rightBracket\";\n    ShapeType[\"round1Rect\"] = \"round1Rect\";\n    ShapeType[\"round2DiagRect\"] = \"round2DiagRect\";\n    ShapeType[\"round2SameRect\"] = \"round2SameRect\";\n    ShapeType[\"roundRect\"] = \"roundRect\";\n    ShapeType[\"rtTriangle\"] = \"rtTriangle\";\n    ShapeType[\"smileyFace\"] = \"smileyFace\";\n    ShapeType[\"snip1Rect\"] = \"snip1Rect\";\n    ShapeType[\"snip2DiagRect\"] = \"snip2DiagRect\";\n    ShapeType[\"snip2SameRect\"] = \"snip2SameRect\";\n    ShapeType[\"snipRoundRect\"] = \"snipRoundRect\";\n    ShapeType[\"squareTabs\"] = \"squareTabs\";\n    ShapeType[\"star10\"] = \"star10\";\n    ShapeType[\"star12\"] = \"star12\";\n    ShapeType[\"star16\"] = \"star16\";\n    ShapeType[\"star24\"] = \"star24\";\n    ShapeType[\"star32\"] = \"star32\";\n    ShapeType[\"star4\"] = \"star4\";\n    ShapeType[\"star5\"] = \"star5\";\n    ShapeType[\"star6\"] = \"star6\";\n    ShapeType[\"star7\"] = \"star7\";\n    ShapeType[\"star8\"] = \"star8\";\n    ShapeType[\"stripedRightArrow\"] = \"stripedRightArrow\";\n    ShapeType[\"sun\"] = \"sun\";\n    ShapeType[\"swooshArrow\"] = \"swooshArrow\";\n    ShapeType[\"teardrop\"] = \"teardrop\";\n    ShapeType[\"trapezoid\"] = \"trapezoid\";\n    ShapeType[\"triangle\"] = \"triangle\";\n    ShapeType[\"upArrow\"] = \"upArrow\";\n    ShapeType[\"upArrowCallout\"] = \"upArrowCallout\";\n    ShapeType[\"upDownArrow\"] = \"upDownArrow\";\n    ShapeType[\"upDownArrowCallout\"] = \"upDownArrowCallout\";\n    ShapeType[\"uturnArrow\"] = \"uturnArrow\";\n    ShapeType[\"verticalScroll\"] = \"verticalScroll\";\n    ShapeType[\"wave\"] = \"wave\";\n    ShapeType[\"wedgeEllipseCallout\"] = \"wedgeEllipseCallout\";\n    ShapeType[\"wedgeRectCallout\"] = \"wedgeRectCallout\";\n    ShapeType[\"wedgeRoundRectCallout\"] = \"wedgeRoundRectCallout\";\n})(ShapeType || (ShapeType = {}));\n/**\n * TODO: FUTURE: v4.0: rename to `ThemeColor`\n */\nvar SchemeColor;\n(function (SchemeColor) {\n    SchemeColor[\"text1\"] = \"tx1\";\n    SchemeColor[\"text2\"] = \"tx2\";\n    SchemeColor[\"background1\"] = \"bg1\";\n    SchemeColor[\"background2\"] = \"bg2\";\n    SchemeColor[\"accent1\"] = \"accent1\";\n    SchemeColor[\"accent2\"] = \"accent2\";\n    SchemeColor[\"accent3\"] = \"accent3\";\n    SchemeColor[\"accent4\"] = \"accent4\";\n    SchemeColor[\"accent5\"] = \"accent5\";\n    SchemeColor[\"accent6\"] = \"accent6\";\n})(SchemeColor || (SchemeColor = {}));\nvar AlignH;\n(function (AlignH) {\n    AlignH[\"left\"] = \"left\";\n    AlignH[\"center\"] = \"center\";\n    AlignH[\"right\"] = \"right\";\n    AlignH[\"justify\"] = \"justify\";\n})(AlignH || (AlignH = {}));\nvar AlignV;\n(function (AlignV) {\n    AlignV[\"top\"] = \"top\";\n    AlignV[\"middle\"] = \"middle\";\n    AlignV[\"bottom\"] = \"bottom\";\n})(AlignV || (AlignV = {}));\nvar SHAPE_TYPE;\n(function (SHAPE_TYPE) {\n    SHAPE_TYPE[\"ACTION_BUTTON_BACK_OR_PREVIOUS\"] = \"actionButtonBackPrevious\";\n    SHAPE_TYPE[\"ACTION_BUTTON_BEGINNING\"] = \"actionButtonBeginning\";\n    SHAPE_TYPE[\"ACTION_BUTTON_CUSTOM\"] = \"actionButtonBlank\";\n    SHAPE_TYPE[\"ACTION_BUTTON_DOCUMENT\"] = \"actionButtonDocument\";\n    SHAPE_TYPE[\"ACTION_BUTTON_END\"] = \"actionButtonEnd\";\n    SHAPE_TYPE[\"ACTION_BUTTON_FORWARD_OR_NEXT\"] = \"actionButtonForwardNext\";\n    SHAPE_TYPE[\"ACTION_BUTTON_HELP\"] = \"actionButtonHelp\";\n    SHAPE_TYPE[\"ACTION_BUTTON_HOME\"] = \"actionButtonHome\";\n    SHAPE_TYPE[\"ACTION_BUTTON_INFORMATION\"] = \"actionButtonInformation\";\n    SHAPE_TYPE[\"ACTION_BUTTON_MOVIE\"] = \"actionButtonMovie\";\n    SHAPE_TYPE[\"ACTION_BUTTON_RETURN\"] = \"actionButtonReturn\";\n    SHAPE_TYPE[\"ACTION_BUTTON_SOUND\"] = \"actionButtonSound\";\n    SHAPE_TYPE[\"ARC\"] = \"arc\";\n    SHAPE_TYPE[\"BALLOON\"] = \"wedgeRoundRectCallout\";\n    SHAPE_TYPE[\"BENT_ARROW\"] = \"bentArrow\";\n    SHAPE_TYPE[\"BENT_UP_ARROW\"] = \"bentUpArrow\";\n    SHAPE_TYPE[\"BEVEL\"] = \"bevel\";\n    SHAPE_TYPE[\"BLOCK_ARC\"] = \"blockArc\";\n    SHAPE_TYPE[\"CAN\"] = \"can\";\n    SHAPE_TYPE[\"CHART_PLUS\"] = \"chartPlus\";\n    SHAPE_TYPE[\"CHART_STAR\"] = \"chartStar\";\n    SHAPE_TYPE[\"CHART_X\"] = \"chartX\";\n    SHAPE_TYPE[\"CHEVRON\"] = \"chevron\";\n    SHAPE_TYPE[\"CHORD\"] = \"chord\";\n    SHAPE_TYPE[\"CIRCULAR_ARROW\"] = \"circularArrow\";\n    SHAPE_TYPE[\"CLOUD\"] = \"cloud\";\n    SHAPE_TYPE[\"CLOUD_CALLOUT\"] = \"cloudCallout\";\n    SHAPE_TYPE[\"CORNER\"] = \"corner\";\n    SHAPE_TYPE[\"CORNER_TABS\"] = \"cornerTabs\";\n    SHAPE_TYPE[\"CROSS\"] = \"plus\";\n    SHAPE_TYPE[\"CUBE\"] = \"cube\";\n    SHAPE_TYPE[\"CURVED_DOWN_ARROW\"] = \"curvedDownArrow\";\n    SHAPE_TYPE[\"CURVED_DOWN_RIBBON\"] = \"ellipseRibbon\";\n    SHAPE_TYPE[\"CURVED_LEFT_ARROW\"] = \"curvedLeftArrow\";\n    SHAPE_TYPE[\"CURVED_RIGHT_ARROW\"] = \"curvedRightArrow\";\n    SHAPE_TYPE[\"CURVED_UP_ARROW\"] = \"curvedUpArrow\";\n    SHAPE_TYPE[\"CURVED_UP_RIBBON\"] = \"ellipseRibbon2\";\n    SHAPE_TYPE[\"CUSTOM_GEOMETRY\"] = \"custGeom\";\n    SHAPE_TYPE[\"DECAGON\"] = \"decagon\";\n    SHAPE_TYPE[\"DIAGONAL_STRIPE\"] = \"diagStripe\";\n    SHAPE_TYPE[\"DIAMOND\"] = \"diamond\";\n    SHAPE_TYPE[\"DODECAGON\"] = \"dodecagon\";\n    SHAPE_TYPE[\"DONUT\"] = \"donut\";\n    SHAPE_TYPE[\"DOUBLE_BRACE\"] = \"bracePair\";\n    SHAPE_TYPE[\"DOUBLE_BRACKET\"] = \"bracketPair\";\n    SHAPE_TYPE[\"DOUBLE_WAVE\"] = \"doubleWave\";\n    SHAPE_TYPE[\"DOWN_ARROW\"] = \"downArrow\";\n    SHAPE_TYPE[\"DOWN_ARROW_CALLOUT\"] = \"downArrowCallout\";\n    SHAPE_TYPE[\"DOWN_RIBBON\"] = \"ribbon\";\n    SHAPE_TYPE[\"EXPLOSION1\"] = \"irregularSeal1\";\n    SHAPE_TYPE[\"EXPLOSION2\"] = \"irregularSeal2\";\n    SHAPE_TYPE[\"FLOWCHART_ALTERNATE_PROCESS\"] = \"flowChartAlternateProcess\";\n    SHAPE_TYPE[\"FLOWCHART_CARD\"] = \"flowChartPunchedCard\";\n    SHAPE_TYPE[\"FLOWCHART_COLLATE\"] = \"flowChartCollate\";\n    SHAPE_TYPE[\"FLOWCHART_CONNECTOR\"] = \"flowChartConnector\";\n    SHAPE_TYPE[\"FLOWCHART_DATA\"] = \"flowChartInputOutput\";\n    SHAPE_TYPE[\"FLOWCHART_DECISION\"] = \"flowChartDecision\";\n    SHAPE_TYPE[\"FLOWCHART_DELAY\"] = \"flowChartDelay\";\n    SHAPE_TYPE[\"FLOWCHART_DIRECT_ACCESS_STORAGE\"] = \"flowChartMagneticDrum\";\n    SHAPE_TYPE[\"FLOWCHART_DISPLAY\"] = \"flowChartDisplay\";\n    SHAPE_TYPE[\"FLOWCHART_DOCUMENT\"] = \"flowChartDocument\";\n    SHAPE_TYPE[\"FLOWCHART_EXTRACT\"] = \"flowChartExtract\";\n    SHAPE_TYPE[\"FLOWCHART_INTERNAL_STORAGE\"] = \"flowChartInternalStorage\";\n    SHAPE_TYPE[\"FLOWCHART_MAGNETIC_DISK\"] = \"flowChartMagneticDisk\";\n    SHAPE_TYPE[\"FLOWCHART_MANUAL_INPUT\"] = \"flowChartManualInput\";\n    SHAPE_TYPE[\"FLOWCHART_MANUAL_OPERATION\"] = \"flowChartManualOperation\";\n    SHAPE_TYPE[\"FLOWCHART_MERGE\"] = \"flowChartMerge\";\n    SHAPE_TYPE[\"FLOWCHART_MULTIDOCUMENT\"] = \"flowChartMultidocument\";\n    SHAPE_TYPE[\"FLOWCHART_OFFLINE_STORAGE\"] = \"flowChartOfflineStorage\";\n    SHAPE_TYPE[\"FLOWCHART_OFFPAGE_CONNECTOR\"] = \"flowChartOffpageConnector\";\n    SHAPE_TYPE[\"FLOWCHART_OR\"] = \"flowChartOr\";\n    SHAPE_TYPE[\"FLOWCHART_PREDEFINED_PROCESS\"] = \"flowChartPredefinedProcess\";\n    SHAPE_TYPE[\"FLOWCHART_PREPARATION\"] = \"flowChartPreparation\";\n    SHAPE_TYPE[\"FLOWCHART_PROCESS\"] = \"flowChartProcess\";\n    SHAPE_TYPE[\"FLOWCHART_PUNCHED_TAPE\"] = \"flowChartPunchedTape\";\n    SHAPE_TYPE[\"FLOWCHART_SEQUENTIAL_ACCESS_STORAGE\"] = \"flowChartMagneticTape\";\n    SHAPE_TYPE[\"FLOWCHART_SORT\"] = \"flowChartSort\";\n    SHAPE_TYPE[\"FLOWCHART_STORED_DATA\"] = \"flowChartOnlineStorage\";\n    SHAPE_TYPE[\"FLOWCHART_SUMMING_JUNCTION\"] = \"flowChartSummingJunction\";\n    SHAPE_TYPE[\"FLOWCHART_TERMINATOR\"] = \"flowChartTerminator\";\n    SHAPE_TYPE[\"FOLDED_CORNER\"] = \"folderCorner\";\n    SHAPE_TYPE[\"FRAME\"] = \"frame\";\n    SHAPE_TYPE[\"FUNNEL\"] = \"funnel\";\n    SHAPE_TYPE[\"GEAR_6\"] = \"gear6\";\n    SHAPE_TYPE[\"GEAR_9\"] = \"gear9\";\n    SHAPE_TYPE[\"HALF_FRAME\"] = \"halfFrame\";\n    SHAPE_TYPE[\"HEART\"] = \"heart\";\n    SHAPE_TYPE[\"HEPTAGON\"] = \"heptagon\";\n    SHAPE_TYPE[\"HEXAGON\"] = \"hexagon\";\n    SHAPE_TYPE[\"HORIZONTAL_SCROLL\"] = \"horizontalScroll\";\n    SHAPE_TYPE[\"ISOSCELES_TRIANGLE\"] = \"triangle\";\n    SHAPE_TYPE[\"LEFT_ARROW\"] = \"leftArrow\";\n    SHAPE_TYPE[\"LEFT_ARROW_CALLOUT\"] = \"leftArrowCallout\";\n    SHAPE_TYPE[\"LEFT_BRACE\"] = \"leftBrace\";\n    SHAPE_TYPE[\"LEFT_BRACKET\"] = \"leftBracket\";\n    SHAPE_TYPE[\"LEFT_CIRCULAR_ARROW\"] = \"leftCircularArrow\";\n    SHAPE_TYPE[\"LEFT_RIGHT_ARROW\"] = \"leftRightArrow\";\n    SHAPE_TYPE[\"LEFT_RIGHT_ARROW_CALLOUT\"] = \"leftRightArrowCallout\";\n    SHAPE_TYPE[\"LEFT_RIGHT_CIRCULAR_ARROW\"] = \"leftRightCircularArrow\";\n    SHAPE_TYPE[\"LEFT_RIGHT_RIBBON\"] = \"leftRightRibbon\";\n    SHAPE_TYPE[\"LEFT_RIGHT_UP_ARROW\"] = \"leftRightUpArrow\";\n    SHAPE_TYPE[\"LEFT_UP_ARROW\"] = \"leftUpArrow\";\n    SHAPE_TYPE[\"LIGHTNING_BOLT\"] = \"lightningBolt\";\n    SHAPE_TYPE[\"LINE_CALLOUT_1\"] = \"borderCallout1\";\n    SHAPE_TYPE[\"LINE_CALLOUT_1_ACCENT_BAR\"] = \"accentCallout1\";\n    SHAPE_TYPE[\"LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR\"] = \"accentBorderCallout1\";\n    SHAPE_TYPE[\"LINE_CALLOUT_1_NO_BORDER\"] = \"callout1\";\n    SHAPE_TYPE[\"LINE_CALLOUT_2\"] = \"borderCallout2\";\n    SHAPE_TYPE[\"LINE_CALLOUT_2_ACCENT_BAR\"] = \"accentCallout2\";\n    SHAPE_TYPE[\"LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR\"] = \"accentBorderCallout2\";\n    SHAPE_TYPE[\"LINE_CALLOUT_2_NO_BORDER\"] = \"callout2\";\n    SHAPE_TYPE[\"LINE_CALLOUT_3\"] = \"borderCallout3\";\n    SHAPE_TYPE[\"LINE_CALLOUT_3_ACCENT_BAR\"] = \"accentCallout3\";\n    SHAPE_TYPE[\"LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR\"] = \"accentBorderCallout3\";\n    SHAPE_TYPE[\"LINE_CALLOUT_3_NO_BORDER\"] = \"callout3\";\n    SHAPE_TYPE[\"LINE_CALLOUT_4\"] = \"borderCallout4\";\n    SHAPE_TYPE[\"LINE_CALLOUT_4_ACCENT_BAR\"] = \"accentCallout3=4\";\n    SHAPE_TYPE[\"LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR\"] = \"accentBorderCallout4\";\n    SHAPE_TYPE[\"LINE_CALLOUT_4_NO_BORDER\"] = \"callout4\";\n    SHAPE_TYPE[\"LINE\"] = \"line\";\n    SHAPE_TYPE[\"LINE_INVERSE\"] = \"lineInv\";\n    SHAPE_TYPE[\"MATH_DIVIDE\"] = \"mathDivide\";\n    SHAPE_TYPE[\"MATH_EQUAL\"] = \"mathEqual\";\n    SHAPE_TYPE[\"MATH_MINUS\"] = \"mathMinus\";\n    SHAPE_TYPE[\"MATH_MULTIPLY\"] = \"mathMultiply\";\n    SHAPE_TYPE[\"MATH_NOT_EQUAL\"] = \"mathNotEqual\";\n    SHAPE_TYPE[\"MATH_PLUS\"] = \"mathPlus\";\n    SHAPE_TYPE[\"MOON\"] = \"moon\";\n    SHAPE_TYPE[\"NON_ISOSCELES_TRAPEZOID\"] = \"nonIsoscelesTrapezoid\";\n    SHAPE_TYPE[\"NOTCHED_RIGHT_ARROW\"] = \"notchedRightArrow\";\n    SHAPE_TYPE[\"NO_SYMBOL\"] = \"noSmoking\";\n    SHAPE_TYPE[\"OCTAGON\"] = \"octagon\";\n    SHAPE_TYPE[\"OVAL\"] = \"ellipse\";\n    SHAPE_TYPE[\"OVAL_CALLOUT\"] = \"wedgeEllipseCallout\";\n    SHAPE_TYPE[\"PARALLELOGRAM\"] = \"parallelogram\";\n    SHAPE_TYPE[\"PENTAGON\"] = \"homePlate\";\n    SHAPE_TYPE[\"PIE\"] = \"pie\";\n    SHAPE_TYPE[\"PIE_WEDGE\"] = \"pieWedge\";\n    SHAPE_TYPE[\"PLAQUE\"] = \"plaque\";\n    SHAPE_TYPE[\"PLAQUE_TABS\"] = \"plaqueTabs\";\n    SHAPE_TYPE[\"QUAD_ARROW\"] = \"quadArrow\";\n    SHAPE_TYPE[\"QUAD_ARROW_CALLOUT\"] = \"quadArrowCallout\";\n    SHAPE_TYPE[\"RECTANGLE\"] = \"rect\";\n    SHAPE_TYPE[\"RECTANGULAR_CALLOUT\"] = \"wedgeRectCallout\";\n    SHAPE_TYPE[\"REGULAR_PENTAGON\"] = \"pentagon\";\n    SHAPE_TYPE[\"RIGHT_ARROW\"] = \"rightArrow\";\n    SHAPE_TYPE[\"RIGHT_ARROW_CALLOUT\"] = \"rightArrowCallout\";\n    SHAPE_TYPE[\"RIGHT_BRACE\"] = \"rightBrace\";\n    SHAPE_TYPE[\"RIGHT_BRACKET\"] = \"rightBracket\";\n    SHAPE_TYPE[\"RIGHT_TRIANGLE\"] = \"rtTriangle\";\n    SHAPE_TYPE[\"ROUNDED_RECTANGLE\"] = \"roundRect\";\n    // eslint-disable-next-line @typescript-eslint/no-duplicate-enum-values\n    SHAPE_TYPE[\"ROUNDED_RECTANGULAR_CALLOUT\"] = \"wedgeRoundRectCallout\";\n    SHAPE_TYPE[\"ROUND_1_RECTANGLE\"] = \"round1Rect\";\n    SHAPE_TYPE[\"ROUND_2_DIAG_RECTANGLE\"] = \"round2DiagRect\";\n    SHAPE_TYPE[\"ROUND_2_SAME_RECTANGLE\"] = \"round2SameRect\";\n    SHAPE_TYPE[\"SMILEY_FACE\"] = \"smileyFace\";\n    SHAPE_TYPE[\"SNIP_1_RECTANGLE\"] = \"snip1Rect\";\n    SHAPE_TYPE[\"SNIP_2_DIAG_RECTANGLE\"] = \"snip2DiagRect\";\n    SHAPE_TYPE[\"SNIP_2_SAME_RECTANGLE\"] = \"snip2SameRect\";\n    SHAPE_TYPE[\"SNIP_ROUND_RECTANGLE\"] = \"snipRoundRect\";\n    SHAPE_TYPE[\"SQUARE_TABS\"] = \"squareTabs\";\n    SHAPE_TYPE[\"STAR_10_POINT\"] = \"star10\";\n    SHAPE_TYPE[\"STAR_12_POINT\"] = \"star12\";\n    SHAPE_TYPE[\"STAR_16_POINT\"] = \"star16\";\n    SHAPE_TYPE[\"STAR_24_POINT\"] = \"star24\";\n    SHAPE_TYPE[\"STAR_32_POINT\"] = \"star32\";\n    SHAPE_TYPE[\"STAR_4_POINT\"] = \"star4\";\n    SHAPE_TYPE[\"STAR_5_POINT\"] = \"star5\";\n    SHAPE_TYPE[\"STAR_6_POINT\"] = \"star6\";\n    SHAPE_TYPE[\"STAR_7_POINT\"] = \"star7\";\n    SHAPE_TYPE[\"STAR_8_POINT\"] = \"star8\";\n    SHAPE_TYPE[\"STRIPED_RIGHT_ARROW\"] = \"stripedRightArrow\";\n    SHAPE_TYPE[\"SUN\"] = \"sun\";\n    SHAPE_TYPE[\"SWOOSH_ARROW\"] = \"swooshArrow\";\n    SHAPE_TYPE[\"TEAR\"] = \"teardrop\";\n    SHAPE_TYPE[\"TRAPEZOID\"] = \"trapezoid\";\n    SHAPE_TYPE[\"UP_ARROW\"] = \"upArrow\";\n    SHAPE_TYPE[\"UP_ARROW_CALLOUT\"] = \"upArrowCallout\";\n    SHAPE_TYPE[\"UP_DOWN_ARROW\"] = \"upDownArrow\";\n    SHAPE_TYPE[\"UP_DOWN_ARROW_CALLOUT\"] = \"upDownArrowCallout\";\n    SHAPE_TYPE[\"UP_RIBBON\"] = \"ribbon2\";\n    SHAPE_TYPE[\"U_TURN_ARROW\"] = \"uturnArrow\";\n    SHAPE_TYPE[\"VERTICAL_SCROLL\"] = \"verticalScroll\";\n    SHAPE_TYPE[\"WAVE\"] = \"wave\";\n})(SHAPE_TYPE || (SHAPE_TYPE = {}));\nvar CHART_TYPE;\n(function (CHART_TYPE) {\n    CHART_TYPE[\"AREA\"] = \"area\";\n    CHART_TYPE[\"BAR\"] = \"bar\";\n    CHART_TYPE[\"BAR3D\"] = \"bar3D\";\n    CHART_TYPE[\"BUBBLE\"] = \"bubble\";\n    CHART_TYPE[\"BUBBLE3D\"] = \"bubble3D\";\n    CHART_TYPE[\"DOUGHNUT\"] = \"doughnut\";\n    CHART_TYPE[\"LINE\"] = \"line\";\n    CHART_TYPE[\"PIE\"] = \"pie\";\n    CHART_TYPE[\"RADAR\"] = \"radar\";\n    CHART_TYPE[\"SCATTER\"] = \"scatter\";\n})(CHART_TYPE || (CHART_TYPE = {}));\nvar SCHEME_COLOR_NAMES;\n(function (SCHEME_COLOR_NAMES) {\n    SCHEME_COLOR_NAMES[\"TEXT1\"] = \"tx1\";\n    SCHEME_COLOR_NAMES[\"TEXT2\"] = \"tx2\";\n    SCHEME_COLOR_NAMES[\"BACKGROUND1\"] = \"bg1\";\n    SCHEME_COLOR_NAMES[\"BACKGROUND2\"] = \"bg2\";\n    SCHEME_COLOR_NAMES[\"ACCENT1\"] = \"accent1\";\n    SCHEME_COLOR_NAMES[\"ACCENT2\"] = \"accent2\";\n    SCHEME_COLOR_NAMES[\"ACCENT3\"] = \"accent3\";\n    SCHEME_COLOR_NAMES[\"ACCENT4\"] = \"accent4\";\n    SCHEME_COLOR_NAMES[\"ACCENT5\"] = \"accent5\";\n    SCHEME_COLOR_NAMES[\"ACCENT6\"] = \"accent6\";\n})(SCHEME_COLOR_NAMES || (SCHEME_COLOR_NAMES = {}));\nvar MASTER_OBJECTS;\n(function (MASTER_OBJECTS) {\n    MASTER_OBJECTS[\"chart\"] = \"chart\";\n    MASTER_OBJECTS[\"image\"] = \"image\";\n    MASTER_OBJECTS[\"line\"] = \"line\";\n    MASTER_OBJECTS[\"rect\"] = \"rect\";\n    MASTER_OBJECTS[\"text\"] = \"text\";\n    MASTER_OBJECTS[\"placeholder\"] = \"placeholder\";\n})(MASTER_OBJECTS || (MASTER_OBJECTS = {}));\nvar SLIDE_OBJECT_TYPES;\n(function (SLIDE_OBJECT_TYPES) {\n    SLIDE_OBJECT_TYPES[\"chart\"] = \"chart\";\n    SLIDE_OBJECT_TYPES[\"hyperlink\"] = \"hyperlink\";\n    SLIDE_OBJECT_TYPES[\"image\"] = \"image\";\n    SLIDE_OBJECT_TYPES[\"media\"] = \"media\";\n    SLIDE_OBJECT_TYPES[\"online\"] = \"online\";\n    SLIDE_OBJECT_TYPES[\"placeholder\"] = \"placeholder\";\n    SLIDE_OBJECT_TYPES[\"table\"] = \"table\";\n    SLIDE_OBJECT_TYPES[\"tablecell\"] = \"tablecell\";\n    SLIDE_OBJECT_TYPES[\"text\"] = \"text\";\n    SLIDE_OBJECT_TYPES[\"notes\"] = \"notes\";\n})(SLIDE_OBJECT_TYPES || (SLIDE_OBJECT_TYPES = {}));\nvar PLACEHOLDER_TYPES;\n(function (PLACEHOLDER_TYPES) {\n    PLACEHOLDER_TYPES[\"title\"] = \"title\";\n    PLACEHOLDER_TYPES[\"body\"] = \"body\";\n    PLACEHOLDER_TYPES[\"image\"] = \"pic\";\n    PLACEHOLDER_TYPES[\"chart\"] = \"chart\";\n    PLACEHOLDER_TYPES[\"table\"] = \"tbl\";\n    PLACEHOLDER_TYPES[\"media\"] = \"media\";\n})(PLACEHOLDER_TYPES || (PLACEHOLDER_TYPES = {}));\n/**\n * NOTE: 20170304: BULLET_TYPES: Only default is used so far. I'd like to combine the two pieces of code that use these before implementing these as options\n * Since we close <p> within the text object bullets, its slightly more difficult than combining into a func and calling to get the paraProp\n * and i'm not sure if anyone will even use these... so, skipping for now.\n */\nvar BULLET_TYPES;\n(function (BULLET_TYPES) {\n    BULLET_TYPES[\"DEFAULT\"] = \"&#x2022;\";\n    BULLET_TYPES[\"CHECK\"] = \"&#x2713;\";\n    BULLET_TYPES[\"STAR\"] = \"&#x2605;\";\n    BULLET_TYPES[\"TRIANGLE\"] = \"&#x25B6;\";\n})(BULLET_TYPES || (BULLET_TYPES = {}));\n// IMAGES (base64)\nconst IMG_BROKEN = 'data:image/png;base64,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';\nconst IMG_PLAYBTN = 'data:image/png;base64,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AAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3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B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibje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FpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee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k8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd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qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hAB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onv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcX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OigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6y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AACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=';\n\n/**\n * PptxGenJS: Utility Methods\n */\n/**\n * Translates any type of `x`/`y`/`w`/`h` prop to EMU\n * - guaranteed to return a result regardless of undefined, null, etc. (0)\n * - {number} - 12800 (EMU)\n * - {number} - 0.5 (inches)\n * - {string} - \"75%\"\n * @param {number|string} size - numeric (\"5.5\") or percentage (\"90%\")\n * @param {'X' | 'Y'} xyDir - direction\n * @param {PresLayout} layout - presentation layout\n * @returns {number} calculated size\n */\nfunction getSmartParseNumber(size, xyDir, layout) {\n    // FIRST: Convert string numeric value if reqd\n    if (typeof size === 'string' && !isNaN(Number(size)))\n        size = Number(size);\n    // CASE 1: Number in inches\n    // Assume any number less than 100 is inches\n    if (typeof size === 'number' && size < 100)\n        return inch2Emu(size);\n    // CASE 2: Number is already converted to something other than inches\n    // Assume any number greater than 100 sure isnt inches! Just return it (assume value is EMU already).\n    if (typeof size === 'number' && size >= 100)\n        return size;\n    // CASE 3: Percentage (ex: '50%')\n    if (typeof size === 'string' && size.includes('%')) {\n        if (xyDir && xyDir === 'X')\n            return Math.round((parseFloat(size) / 100) * layout.width);\n        if (xyDir && xyDir === 'Y')\n            return Math.round((parseFloat(size) / 100) * layout.height);\n        // Default: Assume width (x/cx)\n        return Math.round((parseFloat(size) / 100) * layout.width);\n    }\n    // LAST: Default value\n    return 0;\n}\n/**\n * Basic UUID Generator Adapted\n * @link https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript#answer-2117523\n * @param {string} uuidFormat - UUID format\n * @returns {string} UUID\n */\nfunction getUuid(uuidFormat) {\n    return uuidFormat.replace(/[xy]/g, function (c) {\n        const r = (Math.random() * 16) | 0;\n        const v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n/**\n * Replace special XML characters with HTML-encoded strings\n * @param {string} xml - XML string to encode\n * @returns {string} escaped XML\n */\nfunction encodeXmlEntities(xml) {\n    // NOTE: Dont use short-circuit eval here as value c/b \"0\" (zero) etc.!\n    if (typeof xml === 'undefined' || xml == null)\n        return '';\n    return xml.toString().replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\n}\n/**\n * Convert inches into EMU\n * @param {number|string} inches - as string or number\n * @returns {number} EMU value\n */\nfunction inch2Emu(inches) {\n    // NOTE: Provide Caller Safety: Numbers may get conv<->conv during flight, so be kind and do some simple checks to ensure inches were passed\n    // Any value over 100 damn sure isnt inches, so lets assume its in EMU already, therefore, just return the same value\n    if (typeof inches === 'number' && inches > 100)\n        return inches;\n    if (typeof inches === 'string')\n        inches = Number(inches.replace(/in*/gi, ''));\n    return Math.round(EMU * inches);\n}\n/**\n * Convert `pt` into points (using `ONEPT`)\n * @param {number|string} pt\n * @returns {number} value in points (`ONEPT`)\n */\nfunction valToPts(pt) {\n    const points = Number(pt) || 0;\n    return isNaN(points) ? 0 : Math.round(points * ONEPT);\n}\n/**\n * Convert degrees (0..360) to PowerPoint `rot` value\n * @param {number} d degrees\n * @returns {number} calculated `rot` value\n */\nfunction convertRotationDegrees(d) {\n    d = d || 0;\n    return Math.round((d > 360 ? d - 360 : d) * 60000);\n}\n/**\n * Converts component value to hex value\n * @param {number} c - component color\n * @returns {string} hex string\n */\nfunction componentToHex(c) {\n    const hex = c.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/**\n * Converts RGB colors from css selectors to Hex for Presentation colors\n * @param {number} r - red value\n * @param {number} g - green value\n * @param {number} b - blue value\n * @returns {string} XML string\n */\nfunction rgbToHex(r, g, b) {\n    return (componentToHex(r) + componentToHex(g) + componentToHex(b)).toUpperCase();\n}\n/**  TODO: FUTURE: TODO-4.0:\n * @date 2022-04-10\n * @tldr this s/b a private method with all current calls switched to `genXmlColorSelection()`\n * @desc lots of code calls this method\n * @example [gen-charts.tx] `strXml += '<a:solidFill>' + createColorElement(seriesColor, `<a:alpha val=\"${Math.round(opts.chartColorsOpacity * 1000)}\"/>`) + '</a:solidFill>'`\n * Thi sis wrong. We s/b calling `genXmlColorSelection()` instead as it returns `<a:solidfill>BLAH</a:solidFill>`!!\n */\n/**\n * Create either a `a:schemeClr` - (scheme color) or `a:srgbClr` (hexa representation).\n * @param {string|SCHEME_COLORS} colorStr - hexa representation (eg. \"FFFF00\") or a scheme color constant (eg. pptx.SchemeColor.ACCENT1)\n * @param {string} innerElements - additional elements that adjust the color and are enclosed by the color element\n * @returns {string} XML string\n */\nfunction createColorElement(colorStr, innerElements) {\n    let colorVal = (colorStr || '').replace('#', '');\n    if (!REGEX_HEX_COLOR.test(colorVal) &&\n        colorVal !== SchemeColor.background1 &&\n        colorVal !== SchemeColor.background2 &&\n        colorVal !== SchemeColor.text1 &&\n        colorVal !== SchemeColor.text2 &&\n        colorVal !== SchemeColor.accent1 &&\n        colorVal !== SchemeColor.accent2 &&\n        colorVal !== SchemeColor.accent3 &&\n        colorVal !== SchemeColor.accent4 &&\n        colorVal !== SchemeColor.accent5 &&\n        colorVal !== SchemeColor.accent6) {\n        console.warn(`\"${colorVal}\" is not a valid scheme color or hex RGB! \"${DEF_FONT_COLOR}\" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`);\n        colorVal = DEF_FONT_COLOR;\n    }\n    const tagName = REGEX_HEX_COLOR.test(colorVal) ? 'srgbClr' : 'schemeClr';\n    const colorAttr = 'val=\"' + (REGEX_HEX_COLOR.test(colorVal) ? colorVal.toUpperCase() : colorVal) + '\"';\n    return innerElements ? `<a:${tagName} ${colorAttr}>${innerElements}</a:${tagName}>` : `<a:${tagName} ${colorAttr}/>`;\n}\n/**\n * Creates `a:glow` element\n * @param {TextGlowProps} options glow properties\n * @param {TextGlowProps} defaults defaults for unspecified properties in `opts`\n * @see http://officeopenxml.com/drwSp-effects.php\n * { size: 8, color: 'FFFFFF', opacity: 0.75 };\n */\nfunction createGlowElement(options, defaults) {\n    let strXml = '';\n    const opts = Object.assign(Object.assign({}, defaults), options);\n    const size = Math.round(opts.size * ONEPT);\n    const color = opts.color;\n    const opacity = Math.round(opts.opacity * 100000);\n    strXml += `<a:glow rad=\"${size}\">`;\n    strXml += createColorElement(color, `<a:alpha val=\"${opacity}\"/>`);\n    strXml += '</a:glow>';\n    return strXml;\n}\n/**\n * Create color selection\n * @param {Color | ShapeFillProps | ShapeLineProps} props fill props\n * @returns XML string\n */\nfunction genXmlColorSelection(props) {\n    let fillType = 'solid';\n    let colorVal = '';\n    let internalElements = '';\n    let outText = '';\n    if (props) {\n        if (typeof props === 'string')\n            colorVal = props;\n        else {\n            if (props.type)\n                fillType = props.type;\n            if (props.color)\n                colorVal = props.color;\n            if (props.alpha)\n                internalElements += `<a:alpha val=\"${Math.round((100 - props.alpha) * 1000)}\"/>`; // DEPRECATED: @deprecated v3.3.0\n            if (props.transparency)\n                internalElements += `<a:alpha val=\"${Math.round((100 - props.transparency) * 1000)}\"/>`;\n        }\n        switch (fillType) {\n            case 'solid':\n                outText += `<a:solidFill>${createColorElement(colorVal, internalElements)}</a:solidFill>`;\n                break;\n            default: // @note need a statement as having only \"break\" is removed by rollup, then tiggers \"no-default\" js-linter\n                outText += '';\n                break;\n        }\n    }\n    return outText;\n}\n/**\n * Get a new rel ID (rId) for charts, media, etc.\n * @param {PresSlide} target - the slide to use\n * @returns {number} count of all current rels plus 1 for the caller to use as its \"rId\"\n */\nfunction getNewRelId(target) {\n    return target._rels.length + target._relsChart.length + target._relsMedia.length + 1;\n}\n/**\n * Checks shadow options passed by user and performs corrections if needed.\n * @param {ShadowProps} ShadowProps - shadow options\n */\nfunction correctShadowOptions(ShadowProps) {\n    if (!ShadowProps || typeof ShadowProps !== 'object') {\n        // console.warn(\"`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`\")\n        return;\n    }\n    // OPT: `type`\n    if (ShadowProps.type !== 'outer' && ShadowProps.type !== 'inner' && ShadowProps.type !== 'none') {\n        console.warn('Warning: shadow.type options are `outer`, `inner` or `none`.');\n        ShadowProps.type = 'outer';\n    }\n    // OPT: `angle`\n    if (ShadowProps.angle) {\n        // A: REALITY-CHECK\n        if (isNaN(Number(ShadowProps.angle)) || ShadowProps.angle < 0 || ShadowProps.angle > 359) {\n            console.warn('Warning: shadow.angle can only be 0-359');\n            ShadowProps.angle = 270;\n        }\n        // B: ROBUST: Cast any type of valid arg to int: '12', 12.3, etc. -> 12\n        ShadowProps.angle = Math.round(Number(ShadowProps.angle));\n    }\n    // OPT: `opacity`\n    if (ShadowProps.opacity) {\n        // A: REALITY-CHECK\n        if (isNaN(Number(ShadowProps.opacity)) || ShadowProps.opacity < 0 || ShadowProps.opacity > 1) {\n            console.warn('Warning: shadow.opacity can only be 0-1');\n            ShadowProps.opacity = 0.75;\n        }\n        // B: ROBUST: Cast any type of valid arg to int: '12', 12.3, etc. -> 12\n        ShadowProps.opacity = Number(ShadowProps.opacity);\n    }\n    // OPT: `color`\n    if (ShadowProps.color) {\n        // INCORRECT FORMAT\n        if (ShadowProps.color.startsWith('#')) {\n            console.warn('Warning: shadow.color should not include hash (#) character, , e.g. \"FF0000\"');\n            ShadowProps.color = ShadowProps.color.replace('#', '');\n        }\n    }\n    return ShadowProps;\n}\n\n/**\n * PptxGenJS: Table Generation\n */\n/**\n * Break cell text into lines based upon table column width (e.g.: Magic Happens Here(tm))\n * @param {TableCell} cell - table cell\n * @param {number} colWidth - table column width (inches)\n * @return {TableRow[]} - cell's text objects grouped into lines\n */\nfunction parseTextToLines(cell, colWidth, verbose) {\n    var _a, _b;\n    // FYI: CPL = Width / (font-size / font-constant)\n    // FYI: CHAR:2.3, colWidth:10, fontSize:12 => CPL=138, (actual chars per line in PPT)=145 [14.5 CPI]\n    // FYI: CHAR:2.3, colWidth:7 , fontSize:12 => CPL= 97, (actual chars per line in PPT)=100 [14.3 CPI]\n    // FYI: CHAR:2.3, colWidth:9 , fontSize:16 => CPL= 96, (actual chars per line in PPT)=84  [ 9.3 CPI]\n    const FOCO = 2.3 + (((_a = cell.options) === null || _a === void 0 ? void 0 : _a.autoPageCharWeight) ? cell.options.autoPageCharWeight : 0); // Character Constant\n    const CPL = Math.floor((colWidth / ONEPT) * EMU) / ((((_b = cell.options) === null || _b === void 0 ? void 0 : _b.fontSize) ? cell.options.fontSize : DEF_FONT_SIZE) / FOCO); // Chars-Per-Line\n    const parsedLines = [];\n    let inputCells = [];\n    const inputLines1 = [];\n    const inputLines2 = [];\n    /*\n        if (cell.options && cell.options.autoPageCharWeight) {\n            let CHR1 = 2.3 + (cell.options && cell.options.autoPageCharWeight ? cell.options.autoPageCharWeight : 0) // Character Constant\n            let CPL1 = ((colWidth / ONEPT) * EMU) / ((cell.options && cell.options.fontSize ? cell.options.fontSize : DEF_FONT_SIZE) / CHR1) // Chars-Per-Line\n            console.log(`cell.options.autoPageCharWeight: '${cell.options.autoPageCharWeight}' => CPL: ${CPL1}`)\n            let CHR2 = 2.3 + 0\n            let CPL2 = ((colWidth / ONEPT) * EMU) / ((cell.options && cell.options.fontSize ? cell.options.fontSize : DEF_FONT_SIZE) / CHR2) // Chars-Per-Line\n            console.log(`cell.options.autoPageCharWeight: '0' => CPL: ${CPL2}`)\n        }\n    */\n    /**\n     * EX INPUTS: `cell.text`\n     * - string....: \"Account Name Column\"\n     * - object....: { text:\"Account Name Column\" }\n     * - object[]..: [{ text:\"Account Name\", options:{ bold:true } }, { text:\" Column\" }]\n     * - object[]..: [{ text:\"Account Name\", options:{ breakLine:true } }, { text:\"Input\" }]\n     */\n    /**\n     * EX OUTPUTS:\n     * - string....: [{ text:\"Account Name Column\" }]\n     * - object....: [{ text:\"Account Name Column\" }]\n     * - object[]..: [{ text:\"Account Name\", options:{ breakLine:true } }, { text:\"Input\" }]\n     * - object[]..: [{ text:\"Account Name\", options:{ breakLine:true } }, { text:\"Input\" }]\n     */\n    // STEP 1: Ensure inputCells is an array of TableCells\n    if (cell.text && cell.text.toString().trim().length === 0) {\n        // Allow a single space/whitespace as cell text (user-requested feature)\n        inputCells.push({ _type: SLIDE_OBJECT_TYPES.tablecell, text: ' ' });\n    }\n    else if (typeof cell.text === 'number' || typeof cell.text === 'string') {\n        inputCells.push({ _type: SLIDE_OBJECT_TYPES.tablecell, text: (cell.text || '').toString().trim() });\n    }\n    else if (Array.isArray(cell.text)) {\n        inputCells = cell.text;\n    }\n    // STEP 2: Group table cells into lines based on \"\\n\" or `breakLine` prop\n    /**\n     * - EX: `[{ text:\"Input Output\" }, { text:\"Extra\" }]`                       == 1 line\n     * - EX: `[{ text:\"Input\" }, { text:\"Output\", options:{ breakLine:true } }]` == 1 line\n     * - EX: `[{ text:\"Input\\nOutput\" }]`                                        == 2 lines\n     * - EX: `[{ text:\"Input\", options:{ breakLine:true } }, { text:\"Output\" }]` == 2 lines\n     */\n    let newLine = [];\n    inputCells.forEach(cell => {\n        var _a;\n        // (this is always true, we just constructed them above, but we need to tell typescript b/c type is still string||Cell[])\n        if (typeof cell.text === 'string') {\n            if (cell.text.split('\\n').length > 1) {\n                cell.text.split('\\n').forEach(textLine => {\n                    newLine.push({\n                        _type: SLIDE_OBJECT_TYPES.tablecell,\n                        text: textLine,\n                        options: Object.assign(Object.assign({}, cell.options), { breakLine: true }),\n                    });\n                });\n            }\n            else {\n                newLine.push({\n                    _type: SLIDE_OBJECT_TYPES.tablecell,\n                    text: cell.text.trim(),\n                    options: cell.options,\n                });\n            }\n            if ((_a = cell.options) === null || _a === void 0 ? void 0 : _a.breakLine) {\n                inputLines1.push(newLine);\n                newLine = [];\n            }\n        }\n        // Flush buffer\n        if (newLine.length > 0) {\n            inputLines1.push(newLine);\n            newLine = [];\n        }\n    });\n    // STEP 3: Tokenize every text object into words (then it's really easy to assemble lines below without having to break text, add its `options`, etc.)\n    inputLines1.forEach(line => {\n        line.forEach(cell => {\n            const lineCells = [];\n            const cellTextStr = String(cell.text); // force convert to string (compiled JS is better with this than a cast)\n            const lineWords = cellTextStr.split(' ');\n            lineWords.forEach((word, idx) => {\n                const cellProps = Object.assign({}, cell.options);\n                // IMPORTANT: Handle `breakLine` prop - we cannot apply to each word - only apply to very last word!\n                if (cellProps === null || cellProps === void 0 ? void 0 : cellProps.breakLine)\n                    cellProps.breakLine = idx + 1 === lineWords.length;\n                lineCells.push({ _type: SLIDE_OBJECT_TYPES.tablecell, text: word + (idx + 1 < lineWords.length ? ' ' : ''), options: cellProps });\n            });\n            inputLines2.push(lineCells);\n        });\n    });\n    // STEP 4: Group cells/words into lines based upon space consumed by word letters\n    inputLines2.forEach(line => {\n        let lineCells = [];\n        let strCurrLine = '';\n        line.forEach(word => {\n            // A: create new line when horizontal space is exhausted\n            if (strCurrLine.length + word.text.length > CPL) {\n                // if (verbose) console.log(`STEP 4: New line added: (${strCurrLine.length} + ${word.text.length} > ${CPL})`);\n                parsedLines.push(lineCells);\n                lineCells = [];\n                strCurrLine = '';\n            }\n            // B: add current word to line cells\n            lineCells.push(word);\n            // C: add current word to `strCurrLine` which we use to keep track of line's char length\n            strCurrLine += word.text.toString();\n        });\n        // Flush buffer: Only create a line when there's text to avoid empty row\n        if (lineCells.length > 0)\n            parsedLines.push(lineCells);\n    });\n    // Done:\n    return parsedLines;\n}\n/**\n * Takes an array of table rows and breaks into an array of slides, which contain the calculated amount of table rows that fit on that slide\n * @param {TableCell[][]} tableRows - table rows\n * @param {TableToSlidesProps} tableProps - table2slides properties\n * @param {PresLayout} presLayout - presentation layout\n * @param {SlideLayout} masterSlide - master slide\n * @return {TableRowSlide[]} array of table rows\n */\nfunction getSlidesForTableRows(tableRows = [], tableProps = {}, presLayout, masterSlide) {\n    let arrInchMargins = DEF_SLIDE_MARGIN_IN;\n    let emuSlideTabW = EMU * 1;\n    let emuSlideTabH = EMU * 1;\n    let emuTabCurrH = 0;\n    let numCols = 0;\n    const tableRowSlides = [];\n    const tablePropX = getSmartParseNumber(tableProps.x, 'X', presLayout);\n    const tablePropY = getSmartParseNumber(tableProps.y, 'Y', presLayout);\n    const tablePropW = getSmartParseNumber(tableProps.w, 'X', presLayout);\n    const tablePropH = getSmartParseNumber(tableProps.h, 'Y', presLayout);\n    let tableCalcW = tablePropW;\n    function calcSlideTabH() {\n        let emuStartY = 0;\n        if (tableRowSlides.length === 0)\n            emuStartY = tablePropY || inch2Emu(arrInchMargins[0]);\n        if (tableRowSlides.length > 0)\n            emuStartY = inch2Emu(tableProps.autoPageSlideStartY || tableProps.newSlideStartY || arrInchMargins[0]);\n        emuSlideTabH = (tablePropH || presLayout.height) - emuStartY - inch2Emu(arrInchMargins[2]);\n        // console.log(`| startY .......................................... = ${(emuStartY / EMU).toFixed(1)}`)\n        // console.log(`| emuSlideTabH .................................... = ${(emuSlideTabH / EMU).toFixed(1)}`)\n        if (tableRowSlides.length > 1) {\n            // D: RULE: Use margins for starting point after the initial Slide, not `opt.y` (ISSUE #43, ISSUE #47, ISSUE #48)\n            if (typeof tableProps.autoPageSlideStartY === 'number') {\n                emuSlideTabH = (tablePropH || presLayout.height) - inch2Emu(tableProps.autoPageSlideStartY + arrInchMargins[2]);\n            }\n            else if (typeof tableProps.newSlideStartY === 'number') {\n                // @deprecated v3.3.0\n                emuSlideTabH = (tablePropH || presLayout.height) - inch2Emu(tableProps.newSlideStartY + arrInchMargins[2]);\n            }\n            else if (tablePropY) {\n                emuSlideTabH = (tablePropH || presLayout.height) - inch2Emu((tablePropY / EMU < arrInchMargins[0] ? tablePropY / EMU : arrInchMargins[0]) + arrInchMargins[2]);\n                // Use whichever is greater: area between margins or the table H provided (dont shrink usable area - the whole point of over-riding Y on paging is to *increase* usable space)\n                if (emuSlideTabH < tablePropH)\n                    emuSlideTabH = tablePropH;\n            }\n        }\n    }\n    if (tableProps.verbose) {\n        console.log('[[VERBOSE MODE]]');\n        console.log('|-- TABLE PROPS --------------------------------------------------------|');\n        console.log(`| presLayout.width ................................ = ${(presLayout.width / EMU).toFixed(1)}`);\n        console.log(`| presLayout.height ............................... = ${(presLayout.height / EMU).toFixed(1)}`);\n        console.log(`| tableProps.x .................................... = ${typeof tableProps.x === 'number' ? (tableProps.x / EMU).toFixed(1) : tableProps.x}`);\n        console.log(`| tableProps.y .................................... = ${typeof tableProps.y === 'number' ? (tableProps.y / EMU).toFixed(1) : tableProps.y}`);\n        console.log(`| tableProps.w .................................... = ${typeof tableProps.w === 'number' ? (tableProps.w / EMU).toFixed(1) : tableProps.w}`);\n        console.log(`| tableProps.h .................................... = ${typeof tableProps.h === 'number' ? (tableProps.h / EMU).toFixed(1) : tableProps.h}`);\n        console.log(`| tableProps.slideMargin .......................... = ${tableProps.slideMargin ? String(tableProps.slideMargin) : ''}`);\n        console.log(`| tableProps.margin ............................... = ${String(tableProps.margin)}`);\n        console.log(`| tableProps.colW ................................. = ${String(tableProps.colW)}`);\n        console.log(`| tableProps.autoPageSlideStartY .................. = ${tableProps.autoPageSlideStartY}`);\n        console.log(`| tableProps.autoPageCharWeight ................... = ${tableProps.autoPageCharWeight}`);\n        console.log('|-- CALCULATIONS -------------------------------------------------------|');\n        console.log(`| tablePropX ...................................... = ${tablePropX / EMU}`);\n        console.log(`| tablePropY ...................................... = ${tablePropY / EMU}`);\n        console.log(`| tablePropW ...................................... = ${tablePropW / EMU}`);\n        console.log(`| tablePropH ...................................... = ${tablePropH / EMU}`);\n        console.log(`| tableCalcW ...................................... = ${tableCalcW / EMU}`);\n    }\n    // STEP 1: Calculate margins\n    {\n        // Important: Use default size as zero cell margin is causing our tables to be too large and touch bottom of slide!\n        if (!tableProps.slideMargin && tableProps.slideMargin !== 0)\n            tableProps.slideMargin = DEF_SLIDE_MARGIN_IN[0];\n        if (masterSlide && typeof masterSlide._margin !== 'undefined') {\n            if (Array.isArray(masterSlide._margin))\n                arrInchMargins = masterSlide._margin;\n            else if (!isNaN(Number(masterSlide._margin))) {\n                arrInchMargins = [Number(masterSlide._margin), Number(masterSlide._margin), Number(masterSlide._margin), Number(masterSlide._margin)];\n            }\n        }\n        else if (tableProps.slideMargin || tableProps.slideMargin === 0) {\n            if (Array.isArray(tableProps.slideMargin))\n                arrInchMargins = tableProps.slideMargin;\n            else if (!isNaN(tableProps.slideMargin))\n                arrInchMargins = [tableProps.slideMargin, tableProps.slideMargin, tableProps.slideMargin, tableProps.slideMargin];\n        }\n        if (tableProps.verbose)\n            console.log(`| arrInchMargins .................................. = [${arrInchMargins.join(', ')}]`);\n    }\n    // STEP 2: Calculate number of columns\n    {\n        // NOTE: Cells may have a colspan, so merely taking the length of the [0] (or any other) row is not\n        // ....: sufficient to determine column count. Therefore, check each cell for a colspan and total cols as reqd\n        const firstRow = tableRows[0] || [];\n        firstRow.forEach(cell => {\n            if (!cell)\n                cell = { _type: SLIDE_OBJECT_TYPES.tablecell };\n            const cellOpts = cell.options || null;\n            numCols += Number((cellOpts === null || cellOpts === void 0 ? void 0 : cellOpts.colspan) ? cellOpts.colspan : 1);\n        });\n        if (tableProps.verbose)\n            console.log(`| numCols ......................................... = ${numCols}`);\n    }\n    // STEP 3: Calculate width using tableProps.colW if possible\n    if (!tablePropW && tableProps.colW) {\n        tableCalcW = Array.isArray(tableProps.colW) ? tableProps.colW.reduce((p, n) => p + n) * EMU : tableProps.colW * numCols || 0;\n        if (tableProps.verbose)\n            console.log(`| tableCalcW ...................................... = ${tableCalcW / EMU}`);\n    }\n    // STEP 4: Calculate usable width now that total usable space is known (`emuSlideTabW`)\n    {\n        emuSlideTabW = tableCalcW || inch2Emu((tablePropX ? tablePropX / EMU : arrInchMargins[1]) + arrInchMargins[3]);\n        if (tableProps.verbose)\n            console.log(`| emuSlideTabW .................................... = ${(emuSlideTabW / EMU).toFixed(1)}`);\n    }\n    // STEP 5: Calculate column widths if not provided (emuSlideTabW will be used below to determine lines-per-col)\n    if (!tableProps.colW || !Array.isArray(tableProps.colW)) {\n        if (tableProps.colW && !isNaN(Number(tableProps.colW))) {\n            const arrColW = [];\n            const firstRow = tableRows[0] || [];\n            firstRow.forEach(() => arrColW.push(tableProps.colW));\n            tableProps.colW = [];\n            arrColW.forEach(val => {\n                if (Array.isArray(tableProps.colW))\n                    tableProps.colW.push(val);\n            });\n        }\n        else {\n            // No column widths provided? Then distribute cols.\n            tableProps.colW = [];\n            for (let iCol = 0; iCol < numCols; iCol++) {\n                tableProps.colW.push(emuSlideTabW / EMU / numCols);\n            }\n        }\n    }\n    // STEP 6: **MAIN** Iterate over rows, add table content, create new slides as rows overflow\n    let newTableRowSlide = { rows: [] };\n    tableRows.forEach((row, iRow) => {\n        // A: Row variables\n        const rowCellLines = [];\n        let maxCellMarTopEmu = 0;\n        let maxCellMarBtmEmu = 0;\n        // B: Create new row in data model, calc `maxCellMar*`\n        let currTableRow = [];\n        row.forEach(cell => {\n            var _a, _b, _c, _d;\n            currTableRow.push({\n                _type: SLIDE_OBJECT_TYPES.tablecell,\n                text: [],\n                options: cell.options,\n            });\n            /** FUTURE: DEPRECATED:\n             * - Backwards-Compat: Oops! Discovered we were still using points for cell margin before v3.8.0 (UGH!)\n             * - We cant introduce a breaking change before v4.0, so...\n             */\n            if (cell.options.margin && cell.options.margin[0] >= 1) {\n                if (((_a = cell.options) === null || _a === void 0 ? void 0 : _a.margin) && cell.options.margin[0] && valToPts(cell.options.margin[0]) > maxCellMarTopEmu)\n                    maxCellMarTopEmu = valToPts(cell.options.margin[0]);\n                else if ((tableProps === null || tableProps === void 0 ? void 0 : tableProps.margin) && tableProps.margin[0] && valToPts(tableProps.margin[0]) > maxCellMarTopEmu)\n                    maxCellMarTopEmu = valToPts(tableProps.margin[0]);\n                if (((_b = cell.options) === null || _b === void 0 ? void 0 : _b.margin) && cell.options.margin[2] && valToPts(cell.options.margin[2]) > maxCellMarBtmEmu)\n                    maxCellMarBtmEmu = valToPts(cell.options.margin[2]);\n                else if ((tableProps === null || tableProps === void 0 ? void 0 : tableProps.margin) && tableProps.margin[2] && valToPts(tableProps.margin[2]) > maxCellMarBtmEmu)\n                    maxCellMarBtmEmu = valToPts(tableProps.margin[2]);\n            }\n            else {\n                if (((_c = cell.options) === null || _c === void 0 ? void 0 : _c.margin) && cell.options.margin[0] && inch2Emu(cell.options.margin[0]) > maxCellMarTopEmu)\n                    maxCellMarTopEmu = inch2Emu(cell.options.margin[0]);\n                else if ((tableProps === null || tableProps === void 0 ? void 0 : tableProps.margin) && tableProps.margin[0] && inch2Emu(tableProps.margin[0]) > maxCellMarTopEmu)\n                    maxCellMarTopEmu = inch2Emu(tableProps.margin[0]);\n                if (((_d = cell.options) === null || _d === void 0 ? void 0 : _d.margin) && cell.options.margin[2] && inch2Emu(cell.options.margin[2]) > maxCellMarBtmEmu)\n                    maxCellMarBtmEmu = inch2Emu(cell.options.margin[2]);\n                else if ((tableProps === null || tableProps === void 0 ? void 0 : tableProps.margin) && tableProps.margin[2] && inch2Emu(tableProps.margin[2]) > maxCellMarBtmEmu)\n                    maxCellMarBtmEmu = inch2Emu(tableProps.margin[2]);\n            }\n        });\n        // C: Calc usable vertical space/table height. Set default value first, adjust below when necessary.\n        calcSlideTabH();\n        emuTabCurrH += maxCellMarTopEmu + maxCellMarBtmEmu; // Start row height with margins\n        if (tableProps.verbose && iRow === 0)\n            console.log(`| SLIDE [${tableRowSlides.length}]: emuSlideTabH ...... = ${(emuSlideTabH / EMU).toFixed(1)} `);\n        // D: --==[[ BUILD DATA SET ]]==-- (iterate over cells: split text into lines[], set `lineHeight`)\n        row.forEach((cell, iCell) => {\n            var _a;\n            const newCell = {\n                _type: SLIDE_OBJECT_TYPES.tablecell,\n                _lines: null,\n                _lineHeight: inch2Emu(((((_a = cell.options) === null || _a === void 0 ? void 0 : _a.fontSize) ? cell.options.fontSize : tableProps.fontSize ? tableProps.fontSize : DEF_FONT_SIZE) *\n                    (LINEH_MODIFIER + (tableProps.autoPageLineWeight ? tableProps.autoPageLineWeight : 0))) /\n                    100),\n                text: [],\n                options: cell.options,\n            };\n            // E-1: Exempt cells with `rowspan` from increasing lineHeight (or we could create a new slide when unecessary!)\n            if (newCell.options.rowspan)\n                newCell._lineHeight = 0;\n            // E-2: The parseTextToLines method uses `autoPageCharWeight`, so inherit from table options\n            newCell.options.autoPageCharWeight = tableProps.autoPageCharWeight ? tableProps.autoPageCharWeight : null;\n            // E-3: **MAIN** Parse cell contents into lines based upon col width, font, etc\n            let totalColW = tableProps.colW[iCell];\n            if (cell.options.colspan && Array.isArray(tableProps.colW)) {\n                totalColW = tableProps.colW.filter((_cell, idx) => idx >= iCell && idx < idx + cell.options.colspan).reduce((prev, curr) => prev + curr);\n            }\n            // E-4: Create lines based upon available column width\n            newCell._lines = parseTextToLines(cell, totalColW);\n            // E-5: Add cell to array\n            rowCellLines.push(newCell);\n        });\n        /** E: --==[[ PAGE DATA SET ]]==--\n         * Add text one-line-a-time to this row's cells until: lines are exhausted OR table height limit is hit\n         *\n         * Design:\n         * - Building cells L-to-R/loop style wont work as one could be 100 lines and another 1 line\n         * - Therefore, build the whole row, one-line-at-a-time, across each table columns\n         * - Then, when the vertical size limit is hit is by any of the cells, make a new slide and continue adding any remaining lines\n         *\n         * Implementation:\n         * - `rowCellLines` is an array of cells, one for each column in the table, with each cell containing an array of lines\n         *\n         * Sample Data:\n         * - `rowCellLines` ..: [ TableCell, TableCell, TableCell ]\n         * - `TableCell` .....: { _type: 'tablecell', _lines: TableCell[], _lineHeight: 10 }\n         * - `_lines` ........: [ {_type: 'tablecell', text: 'cell-1,line-1', options: {}}, {_type: 'tablecell', text: 'cell-1,line-2', options: {}} }\n         * - `_lines` is TableCell[] (the 1-N words in the line)\n         * {\n         *    _lines: [{ text:'cell-1,line-1' }, { text:'cell-1,line-2' }],                                                     // TOTAL-CELL-HEIGHT = 2\n         *    _lines: [{ text:'cell-2,line-1' }, { text:'cell-2,line-2' }],                                                     // TOTAL-CELL-HEIGHT = 2\n         *    _lines: [{ text:'cell-3,line-1' }, { text:'cell-3,line-2' }, { text:'cell-3,line-3' }, { text:'cell-3,line-4' }], // TOTAL-CELL-HEIGHT = 4\n         * }\n         *\n         * Example: 2 rows, with the firstrow overflowing onto a new slide\n         * SLIDE 1:\n         *  |--------|--------|--------|--------|\n         *  | line-1 | line-1 | line-1 | line-1 |\n         *  |        |        | line-2 |        |\n         *  |        |        | line-3 |        |\n         *  |--------|--------|--------|--------|\n         *\n         * SLIDE 2:\n         *  |--------|--------|--------|--------|\n         *  |        |        | line-4 |        |\n         *  |--------|--------|--------|--------|\n         *  | line-1 | line-1 | line-1 | line-1 |\n         *  |--------|--------|--------|--------|\n         */\n        if (tableProps.verbose)\n            console.log(`\\n| SLIDE [${tableRowSlides.length}]: ROW [${iRow}]: START...`);\n        let currCellIdx = 0;\n        let emuLineMaxH = 0;\n        let isDone = false;\n        while (!isDone) {\n            const srcCell = rowCellLines[currCellIdx];\n            let tgtCell = currTableRow[currCellIdx]; // NOTE: may be redefined below (a new row may be created, thus changing this value)\n            // 1: calc emuLineMaxH\n            rowCellLines.forEach(cell => {\n                if (cell._lineHeight >= emuLineMaxH)\n                    emuLineMaxH = cell._lineHeight;\n            });\n            // 2: create a new slide if there is insufficient room for the current row\n            if (emuTabCurrH + emuLineMaxH > emuSlideTabH) {\n                if (tableProps.verbose) {\n                    console.log('\\n|-----------------------------------------------------------------------|');\n                    // prettier-ignore\n                    console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(emuTabCurrH / EMU).toFixed(2)} + ${(srcCell._lineHeight / EMU).toFixed(2)} > ${emuSlideTabH / EMU}`);\n                    console.log('|-----------------------------------------------------------------------|\\n\\n');\n                }\n                // A: add current row slide or it will be lost (only if it has rows and text)\n                if (currTableRow.length > 0 && currTableRow.map(cell => cell.text.length).reduce((p, n) => p + n) > 0)\n                    newTableRowSlide.rows.push(currTableRow);\n                // B: add current slide to Slides array\n                tableRowSlides.push(newTableRowSlide);\n                // C: reset working/curr slide to hold rows as they're created\n                const newRows = [];\n                newTableRowSlide = { rows: newRows };\n                // D: reset working/curr row\n                currTableRow = [];\n                row.forEach(cell => currTableRow.push({ _type: SLIDE_OBJECT_TYPES.tablecell, text: [], options: cell.options }));\n                // E: Calc usable vertical space/table height now as we may still be in the same row and code above (\"C: Calc usable vertical space/table height.\") calc may now be invalid\n                calcSlideTabH();\n                emuTabCurrH += maxCellMarTopEmu + maxCellMarBtmEmu; // Start row height with margins\n                if (tableProps.verbose)\n                    console.log(`| SLIDE [${tableRowSlides.length}]: emuSlideTabH ...... = ${(emuSlideTabH / EMU).toFixed(1)} `);\n                // F: reset current table height for this new Slide\n                emuTabCurrH = 0;\n                // G: handle repeat headers option /or/ Add new empty row to continue current lines into\n                if ((tableProps.addHeaderToEach || tableProps.autoPageRepeatHeader) && tableProps._arrObjTabHeadRows) {\n                    tableProps._arrObjTabHeadRows.forEach(row => {\n                        const newHeadRow = [];\n                        let maxLineHeight = 0;\n                        row.forEach(cell => {\n                            newHeadRow.push(cell);\n                            if (cell._lineHeight > maxLineHeight)\n                                maxLineHeight = cell._lineHeight;\n                        });\n                        newTableRowSlide.rows.push(newHeadRow);\n                        emuTabCurrH += maxLineHeight; // TODO: what about margins? dont we need to include cell margin in line height?\n                    });\n                }\n                // WIP: NEW: TEST THIS!!\n                tgtCell = currTableRow[currCellIdx];\n            }\n            // 3: set array of words that comprise this line\n            const currLine = srcCell._lines.shift();\n            // 4: create new line by adding all words from curr line (or add empty if there are no words to avoid \"needs repair\" issue triggered when cells have null content)\n            if (Array.isArray(tgtCell.text)) {\n                if (currLine)\n                    tgtCell.text = tgtCell.text.concat(currLine);\n                else if (tgtCell.text.length === 0)\n                    tgtCell.text = tgtCell.text.concat({ _type: SLIDE_OBJECT_TYPES.tablecell, text: '' });\n                // IMPORTANT: ^^^ add empty if there are no words to avoid \"needs repair\" issue triggered when cells have null content\n            }\n            // 5: increase table height by the curr line height (if we're on the last column)\n            if (currCellIdx === rowCellLines.length - 1)\n                emuTabCurrH += emuLineMaxH;\n            // 6: advance column/cell index (or circle back to first one to continue adding lines)\n            currCellIdx = currCellIdx < rowCellLines.length - 1 ? currCellIdx + 1 : 0;\n            // 7: WIP: done?\n            const brent = rowCellLines.map(cell => cell._lines.length).reduce((prev, next) => prev + next);\n            if (brent === 0)\n                isDone = true;\n        }\n        // F: Flush/capture row buffer before it resets at the top of this loop\n        if (currTableRow.length > 0)\n            newTableRowSlide.rows.push(currTableRow);\n        if (tableProps.verbose) {\n            console.log(`- SLIDE [${tableRowSlides.length}]: ROW [${iRow}]: ...COMPLETE ...... emuTabCurrH = ${(emuTabCurrH / EMU).toFixed(2)} ( emuSlideTabH = ${(emuSlideTabH / EMU).toFixed(2)} )`);\n        }\n    });\n    // STEP 7: Flush buffer / add final slide\n    tableRowSlides.push(newTableRowSlide);\n    if (tableProps.verbose) {\n        console.log('\\n|================================================|');\n        console.log(`| FINAL: tableRowSlides.length = ${tableRowSlides.length}`);\n        tableRowSlides.forEach(slide => console.log(slide));\n        console.log('|================================================|\\n\\n');\n    }\n    // LAST:\n    return tableRowSlides;\n}\n/**\n * Reproduces an HTML table as a PowerPoint table - including column widths, style, etc. - creates 1 or more slides as needed\n * @param {PptxGenJS} pptx - pptxgenjs instance\n * @param {string} tabEleId - HTMLElementID of the table\n * @param {ITableToSlidesOpts} options - array of options (e.g.: tabsize)\n * @param {SlideLayout} masterSlide - masterSlide\n */\nfunction genTableToSlides(pptx, tabEleId, options = {}, masterSlide) {\n    const opts = options || {};\n    opts.slideMargin = opts.slideMargin || opts.slideMargin === 0 ? opts.slideMargin : 0.5;\n    let emuSlideTabW = opts.w || pptx.presLayout.width;\n    const arrObjTabHeadRows = [];\n    const arrObjTabBodyRows = [];\n    const arrObjTabFootRows = [];\n    const arrColW = [];\n    const arrTabColW = [];\n    let arrInchMargins = [0.5, 0.5, 0.5, 0.5]; // TRBL-style\n    let intTabW = 0;\n    // REALITY-CHECK:\n    if (!document.getElementById(tabEleId))\n        throw new Error('tableToSlides: Table ID \"' + tabEleId + '\" does not exist!');\n    // STEP 1: Set margins\n    if (masterSlide === null || masterSlide === void 0 ? void 0 : masterSlide._margin) {\n        if (Array.isArray(masterSlide._margin))\n            arrInchMargins = masterSlide._margin;\n        else if (!isNaN(masterSlide._margin))\n            arrInchMargins = [masterSlide._margin, masterSlide._margin, masterSlide._margin, masterSlide._margin];\n        opts.slideMargin = arrInchMargins;\n    }\n    else if (opts === null || opts === void 0 ? void 0 : opts.slideMargin) {\n        if (Array.isArray(opts.slideMargin))\n            arrInchMargins = opts.slideMargin;\n        else if (!isNaN(opts.slideMargin))\n            arrInchMargins = [opts.slideMargin, opts.slideMargin, opts.slideMargin, opts.slideMargin];\n    }\n    emuSlideTabW = (opts.w ? inch2Emu(opts.w) : pptx.presLayout.width) - inch2Emu(arrInchMargins[1] + arrInchMargins[3]);\n    if (opts.verbose) {\n        console.log('[[VERBOSE MODE]]');\n        console.log('|-- `tableToSlides` ----------------------------------------------------|');\n        console.log(`| tableProps.h .................................... = ${opts.h}`);\n        console.log(`| tableProps.w .................................... = ${opts.w}`);\n        console.log(`| pptx.presLayout.width ........................... = ${(pptx.presLayout.width / EMU).toFixed(1)}`);\n        console.log(`| pptx.presLayout.height .......................... = ${(pptx.presLayout.height / EMU).toFixed(1)}`);\n        console.log(`| emuSlideTabW .................................... = ${(emuSlideTabW / EMU).toFixed(1)}`);\n    }\n    // STEP 2: Grab table col widths - just find the first availble row, either thead/tbody/tfoot, others may have colspans, who cares, we only need col widths from 1\n    let firstRowCells = document.querySelectorAll(`#${tabEleId} tr:first-child th`);\n    if (firstRowCells.length === 0)\n        firstRowCells = document.querySelectorAll(`#${tabEleId} tr:first-child td`);\n    firstRowCells.forEach((cellEle) => {\n        const cell = cellEle;\n        if (cell.getAttribute('colspan')) {\n            // Guesstimate (divide evenly) col widths\n            // NOTE: both j$query and vanilla selectors return {0} when table is not visible)\n            for (let idxc = 0; idxc < Number(cell.getAttribute('colspan')); idxc++) {\n                arrTabColW.push(Math.round(cell.offsetWidth / Number(cell.getAttribute('colspan'))));\n            }\n        }\n        else {\n            arrTabColW.push(cell.offsetWidth);\n        }\n    });\n    arrTabColW.forEach(colW => {\n        intTabW += colW;\n    });\n    // STEP 3: Calc/Set column widths by using same column width percent from HTML table\n    arrTabColW.forEach((colW, idxW) => {\n        const intCalcWidth = Number(((Number(emuSlideTabW) * ((colW / intTabW) * 100)) / 100 / EMU).toFixed(2));\n        let intMinWidth = 0;\n        const colSelectorMin = document.querySelector(`#${tabEleId} thead tr:first-child th:nth-child(${idxW + 1})`);\n        if (colSelectorMin)\n            intMinWidth = Number(colSelectorMin.getAttribute('data-pptx-min-width'));\n        const colSelectorSet = document.querySelector(`#${tabEleId} thead tr:first-child th:nth-child(${idxW + 1})`);\n        if (colSelectorSet)\n            intMinWidth = Number(colSelectorSet.getAttribute('data-pptx-width'));\n        arrColW.push((intMinWidth > intCalcWidth ? intMinWidth : intCalcWidth));\n    });\n    if (opts.verbose) {\n        console.log(`| arrColW ......................................... = [${arrColW.join(', ')}]`);\n    }\n    // STEP 4: Iterate over each table element and create data arrays (text and opts)\n    // NOTE: We create 3 arrays instead of one so we can loop over body then show header/footer rows on first and last page\n    const tableParts = ['thead', 'tbody', 'tfoot'];\n    tableParts.forEach(part => {\n        document.querySelectorAll(`#${tabEleId} ${part} tr`).forEach((row) => {\n            const htmlRow = row;\n            const arrObjTabCells = [];\n            Array.from(htmlRow.cells).forEach(cell => {\n                // A: Get RGB text/bkgd colors\n                const arrRGB1 = window.getComputedStyle(cell).getPropertyValue('color').replace(/\\s+/gi, '').replace('rgba(', '').replace('rgb(', '').replace(')', '').split(',');\n                let arrRGB2 = window\n                    .getComputedStyle(cell)\n                    .getPropertyValue('background-color')\n                    .replace(/\\s+/gi, '')\n                    .replace('rgba(', '')\n                    .replace('rgb(', '')\n                    .replace(')', '')\n                    .split(',');\n                if (\n                // NOTE: (ISSUE#57): Default for unstyled tables is black bkgd, so use white instead\n                window.getComputedStyle(cell).getPropertyValue('background-color') === 'rgba(0, 0, 0, 0)' ||\n                    window.getComputedStyle(cell).getPropertyValue('transparent')) {\n                    arrRGB2 = ['255', '255', '255'];\n                }\n                // B: Create option object\n                const cellOpts = {\n                    align: null,\n                    bold: !!(window.getComputedStyle(cell).getPropertyValue('font-weight') === 'bold' ||\n                        Number(window.getComputedStyle(cell).getPropertyValue('font-weight')) >= 500),\n                    border: null,\n                    color: rgbToHex(Number(arrRGB1[0]), Number(arrRGB1[1]), Number(arrRGB1[2])),\n                    fill: { color: rgbToHex(Number(arrRGB2[0]), Number(arrRGB2[1]), Number(arrRGB2[2])) },\n                    fontFace: (window.getComputedStyle(cell).getPropertyValue('font-family') || '').split(',')[0].replace(/\"/g, '').replace('inherit', '').replace('initial', '') ||\n                        null,\n                    fontSize: Number(window.getComputedStyle(cell).getPropertyValue('font-size').replace(/[a-z]/gi, '')),\n                    margin: null,\n                    colspan: Number(cell.getAttribute('colspan')) || null,\n                    rowspan: Number(cell.getAttribute('rowspan')) || null,\n                    valign: null,\n                };\n                if (['left', 'center', 'right', 'start', 'end'].includes(window.getComputedStyle(cell).getPropertyValue('text-align'))) {\n                    const align = window.getComputedStyle(cell).getPropertyValue('text-align').replace('start', 'left').replace('end', 'right');\n                    cellOpts.align = align === 'center' ? 'center' : align === 'left' ? 'left' : align === 'right' ? 'right' : null;\n                }\n                if (['top', 'middle', 'bottom'].includes(window.getComputedStyle(cell).getPropertyValue('vertical-align'))) {\n                    const valign = window.getComputedStyle(cell).getPropertyValue('vertical-align');\n                    cellOpts.valign = valign === 'top' ? 'top' : valign === 'middle' ? 'middle' : valign === 'bottom' ? 'bottom' : null;\n                }\n                // C: Add padding [margin] (if any)\n                // NOTE: Margins translate: px->pt 1:1 (e.g.: a 20px padded cell looks the same in PPTX as 20pt Text Inset/Padding)\n                if (window.getComputedStyle(cell).getPropertyValue('padding-left')) {\n                    cellOpts.margin = [0, 0, 0, 0];\n                    const sidesPad = ['padding-top', 'padding-right', 'padding-bottom', 'padding-left'];\n                    sidesPad.forEach((val, idxs) => {\n                        cellOpts.margin[idxs] = Math.round(Number(window.getComputedStyle(cell).getPropertyValue(val).replace(/\\D/gi, '')));\n                    });\n                }\n                // D: Add border (if any)\n                if (window.getComputedStyle(cell).getPropertyValue('border-top-width') ||\n                    window.getComputedStyle(cell).getPropertyValue('border-right-width') ||\n                    window.getComputedStyle(cell).getPropertyValue('border-bottom-width') ||\n                    window.getComputedStyle(cell).getPropertyValue('border-left-width')) {\n                    cellOpts.border = [null, null, null, null];\n                    const sidesBor = ['top', 'right', 'bottom', 'left'];\n                    sidesBor.forEach((val, idxb) => {\n                        const intBorderW = Math.round(Number(window\n                            .getComputedStyle(cell)\n                            .getPropertyValue('border-' + val + '-width')\n                            .replace('px', '')));\n                        let arrRGB = [];\n                        arrRGB = window\n                            .getComputedStyle(cell)\n                            .getPropertyValue('border-' + val + '-color')\n                            .replace(/\\s+/gi, '')\n                            .replace('rgba(', '')\n                            .replace('rgb(', '')\n                            .replace(')', '')\n                            .split(',');\n                        const strBorderC = rgbToHex(Number(arrRGB[0]), Number(arrRGB[1]), Number(arrRGB[2]));\n                        cellOpts.border[idxb] = { pt: intBorderW, color: strBorderC };\n                    });\n                }\n                // LAST: Add cell\n                arrObjTabCells.push({\n                    _type: SLIDE_OBJECT_TYPES.tablecell,\n                    text: cell.innerText, // `innerText` returns <br> as \"\\n\", so linebreak etc. work later!\n                    options: cellOpts,\n                });\n            });\n            switch (part) {\n                case 'thead':\n                    arrObjTabHeadRows.push(arrObjTabCells);\n                    break;\n                case 'tbody':\n                    arrObjTabBodyRows.push(arrObjTabCells);\n                    break;\n                case 'tfoot':\n                    arrObjTabFootRows.push(arrObjTabCells);\n                    break;\n                default:\n                    console.log(`table parsing: unexpected table part: ${part}`);\n                    break;\n            }\n        });\n    });\n    // STEP 5: Break table into Slides as needed\n    // Pass head-rows as there is an option to add to each table and the parse func needs this data to fulfill that option\n    opts._arrObjTabHeadRows = arrObjTabHeadRows || null;\n    opts.colW = arrColW;\n    getSlidesForTableRows([...arrObjTabHeadRows, ...arrObjTabBodyRows, ...arrObjTabFootRows], opts, pptx.presLayout, masterSlide).forEach((slide, idxTr) => {\n        // A: Create new Slide\n        const newSlide = pptx.addSlide({ masterName: opts.masterSlideName || null });\n        // B: DESIGN: Reset `y` to startY or margin after first Slide (ISSUE#43, ISSUE#47, ISSUE#48)\n        if (idxTr === 0)\n            opts.y = opts.y || arrInchMargins[0];\n        if (idxTr > 0)\n            opts.y = opts.autoPageSlideStartY || opts.newSlideStartY || arrInchMargins[0];\n        if (opts.verbose)\n            console.log(`| opts.autoPageSlideStartY: ${opts.autoPageSlideStartY} / arrInchMargins[0]: ${arrInchMargins[0]} => opts.y = ${opts.y}`);\n        // C: Add table to Slide\n        newSlide.addTable(slide.rows, { x: opts.x || arrInchMargins[3], y: opts.y, w: Number(emuSlideTabW) / EMU, colW: arrColW, autoPage: false });\n        // D: Add any additional objects\n        if (opts.addImage) {\n            opts.addImage.options = opts.addImage.options || {};\n            if (!opts.addImage.image || (!opts.addImage.image.path && !opts.addImage.image.data)) {\n                console.warn('Warning: tableToSlides.addImage requires either `path` or `data`');\n            }\n            else {\n                newSlide.addImage({\n                    path: opts.addImage.image.path,\n                    data: opts.addImage.image.data,\n                    x: opts.addImage.options.x,\n                    y: opts.addImage.options.y,\n                    w: opts.addImage.options.w,\n                    h: opts.addImage.options.h,\n                });\n            }\n        }\n        if (opts.addShape)\n            newSlide.addShape(opts.addShape.shapeName, opts.addShape.options || {});\n        if (opts.addTable)\n            newSlide.addTable(opts.addTable.rows, opts.addTable.options || {});\n        if (opts.addText)\n            newSlide.addText(opts.addText.text, opts.addText.options || {});\n    });\n}\n\n/**\n * PptxGenJS: Slide Object Generators\n */\n/** counter for included charts (used for index in their filenames) */\nlet _chartCounter = 0;\n/**\n * Transforms a slide definition to a slide object that is then passed to the XML transformation process.\n * @param {SlideMasterProps} props - slide definition\n * @param {PresSlide|SlideLayout} target - empty slide object that should be updated by the passed definition\n */\nfunction createSlideMaster(props, target) {\n    // STEP 1: Add background if either the slide or layout has background props\n    // if (props.background || target.background) addBackgroundDefinition(props.background, target)\n    if (props.bkgd)\n        target.bkgd = props.bkgd; // DEPRECATED: (remove in v4.0.0)\n    // STEP 2: Add all Slide Master objects in the order they were given\n    if (props.objects && Array.isArray(props.objects) && props.objects.length > 0) {\n        props.objects.forEach((object, idx) => {\n            const key = Object.keys(object)[0];\n            const tgt = target;\n            if (MASTER_OBJECTS[key] && key === 'chart')\n                addChartDefinition(tgt, object[key].type, object[key].data, object[key].opts);\n            else if (MASTER_OBJECTS[key] && key === 'image')\n                addImageDefinition(tgt, object[key]);\n            else if (MASTER_OBJECTS[key] && key === 'line')\n                addShapeDefinition(tgt, SHAPE_TYPE.LINE, object[key]);\n            else if (MASTER_OBJECTS[key] && key === 'rect')\n                addShapeDefinition(tgt, SHAPE_TYPE.RECTANGLE, object[key]);\n            else if (MASTER_OBJECTS[key] && key === 'text')\n                addTextDefinition(tgt, [{ text: object[key].text }], object[key].options, false);\n            else if (MASTER_OBJECTS[key] && key === 'placeholder') {\n                // TODO: 20180820: Check for existing `name`?\n                object[key].options.placeholder = object[key].options.name;\n                delete object[key].options.name; // remap name for earier handling internally\n                object[key].options._placeholderType = object[key].options.type;\n                delete object[key].options.type; // remap name for earier handling internally\n                object[key].options._placeholderIdx = 100 + idx;\n                addTextDefinition(tgt, [{ text: object[key].text }], object[key].options, true);\n                // TODO: ISSUE#599 - only text is suported now (add more below)\n                // else if (object[key].image) addImageDefinition(tgt, object[key].image)\n                /* 20200120: So... image placeholders go into the \"slideLayoutN.xml\" file and addImage doesnt do this yet...\n                    <p:sp>\n                  <p:nvSpPr>\n                    <p:cNvPr id=\"7\" name=\"Picture Placeholder 6\">\n                      <a:extLst>\n                        <a:ext uri=\"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}\">\n                          <a16:creationId xmlns:a16=\"http://schemas.microsoft.com/office/drawing/2014/main\" id=\"{CE1AE45D-8641-0F4F-BDB5-080E69CCB034}\"/>\n                        </a:ext>\n                      </a:extLst>\n                    </p:cNvPr>\n                    <p:cNvSpPr>\n                */\n            }\n        });\n    }\n    // STEP 3: Add Slide Numbers (NOTE: Do this last so numbers are not covered by objects!)\n    if (props.slideNumber && typeof props.slideNumber === 'object')\n        target._slideNumberProps = props.slideNumber;\n}\n/**\n * Generate the chart based on input data.\n * OOXML Chart Spec: ISO/IEC 29500-1:2016(E)\n *\n * @param {CHART_NAME | IChartMulti[]} `type` should belong to: 'column', 'pie'\n * @param {[]} `data` a JSON object with follow the following format\n * @param {IChartOptsLib} `opt` chart options\n * @param {PresSlide} `target` slide object that the chart will be added to\n * @return {object} chart object\n * {\n *    title: 'eSurvey chart',\n *    data: [\n *        {\n *            name: 'Income',\n *            labels: ['2005', '2006', '2007', '2008', '2009'],\n *            values: [23.5, 26.2, 30.1, 29.5, 24.6]\n *        },\n *        {\n *            name: 'Expense',\n *            labels: ['2005', '2006', '2007', '2008', '2009'],\n *            values: [18.1, 22.8, 23.9, 25.1, 25]\n *        }\n *    ]\n * }\n */\nfunction addChartDefinition(target, type, data, opt) {\n    var _a;\n    function correctGridLineOptions(glOpts) {\n        if (!glOpts || glOpts.style === 'none')\n            return;\n        if (glOpts.size !== undefined && (isNaN(Number(glOpts.size)) || glOpts.size <= 0)) {\n            console.warn('Warning: chart.gridLine.size must be greater than 0.');\n            delete glOpts.size; // delete prop to used defaults\n        }\n        if (glOpts.style && !['solid', 'dash', 'dot'].includes(glOpts.style)) {\n            console.warn('Warning: chart.gridLine.style options: `solid`, `dash`, `dot`.');\n            delete glOpts.style;\n        }\n        if (glOpts.cap && !['flat', 'square', 'round'].includes(glOpts.cap)) {\n            console.warn('Warning: chart.gridLine.cap options: `flat`, `square`, `round`.');\n            delete glOpts.cap;\n        }\n    }\n    const chartId = ++_chartCounter;\n    const resultObject = {\n        _type: null,\n        text: null,\n        options: null,\n        chartRid: null,\n    };\n    // DESIGN: `type` can an object (ex: `pptx.charts.DOUGHNUT`) or an array of chart objects\n    // EX: addChartDefinition([ { type:pptx.charts.BAR, data:{name:'', labels:[], values[]} }, {<etc>} ])\n    // Multi-Type Charts\n    let tmpOpt = null;\n    let tmpData = [];\n    if (Array.isArray(type)) {\n        // For multi-type charts there needs to be data for each type,\n        // as well as a single data source for non-series operations.\n        // The data is indexed below to keep the data in order when segmented\n        // into types.\n        type.forEach(obj => {\n            tmpData = tmpData.concat(obj.data);\n        });\n        tmpOpt = data || opt;\n    }\n    else {\n        tmpData = data;\n        tmpOpt = opt;\n    }\n    tmpData.forEach((item, i) => {\n        item._dataIndex = i;\n        // Converts the 'labels' array from string[] to string[][] (or the respective primitive type), if needed\n        if (item.labels !== undefined && !Array.isArray(item.labels[0])) {\n            item.labels = [item.labels];\n        }\n    });\n    const options = tmpOpt && typeof tmpOpt === 'object' ? tmpOpt : {};\n    // STEP 1: TODO: check for reqd fields, correct type, etc\n    // `type` exists in CHART_TYPE\n    // Array.isArray(data)\n    /*\n        if ( Array.isArray(rel.data) && rel.data.length > 0 && typeof rel.data[0] === 'object'\n            && rel.data[0].labels && Array.isArray(rel.data[0].labels)\n            && rel.data[0].values && Array.isArray(rel.data[0].values) ) {\n            obj = rel.data[0];\n        }\n        else {\n            console.warn(\"USAGE: addChart( 'pie', [ {name:'Sales', labels:['Jan','Feb'], values:[10,20]} ], {x:1, y:1} )\");\n            return;\n        }\n        */\n    // STEP 2: Set default options/decode user options\n    // A: Core\n    options._type = type;\n    options.x = typeof options.x !== 'undefined' && options.x != null && !isNaN(Number(options.x)) ? options.x : 1;\n    options.y = typeof options.y !== 'undefined' && options.y != null && !isNaN(Number(options.y)) ? options.y : 1;\n    options.w = options.w || '50%';\n    options.h = options.h || '50%';\n    options.objectName = options.objectName\n        ? encodeXmlEntities(options.objectName)\n        : `Chart ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.chart).length}`;\n    // B: Options: misc\n    if (!['bar', 'col'].includes(options.barDir || ''))\n        options.barDir = 'col';\n    // barGrouping: \"21.2.3.17 ST_Grouping (Grouping)\"\n    // barGrouping must be handled before data label validation as it can affect valid label positioning\n    if (options._type === CHART_TYPE.AREA) {\n        if (!['stacked', 'standard', 'percentStacked'].includes(options.barGrouping || ''))\n            options.barGrouping = 'standard';\n    }\n    if (options._type === CHART_TYPE.BAR) {\n        if (!['clustered', 'stacked', 'percentStacked'].includes(options.barGrouping || ''))\n            options.barGrouping = 'clustered';\n    }\n    if (options._type === CHART_TYPE.BAR3D) {\n        if (!['clustered', 'stacked', 'standard', 'percentStacked'].includes(options.barGrouping || ''))\n            options.barGrouping = 'standard';\n    }\n    if ((_a = options.barGrouping) === null || _a === void 0 ? void 0 : _a.includes('tacked')) {\n        if (!options.barGapWidthPct)\n            options.barGapWidthPct = 50;\n    }\n    // Clean up and validate data label positions\n    // REFERENCE: https://docs.microsoft.com/en-us/openspecs/office_standards/ms-oi29500/e2b1697c-7adc-463d-9081-3daef72f656f?redirectedfrom=MSDN\n    if (options.dataLabelPosition) {\n        if (options._type === CHART_TYPE.AREA || options._type === CHART_TYPE.BAR3D || options._type === CHART_TYPE.DOUGHNUT || options._type === CHART_TYPE.RADAR) {\n            delete options.dataLabelPosition;\n        }\n        if (options._type === CHART_TYPE.PIE) {\n            if (!['bestFit', 'ctr', 'inEnd', 'outEnd'].includes(options.dataLabelPosition))\n                delete options.dataLabelPosition;\n        }\n        if (options._type === CHART_TYPE.BUBBLE || options._type === CHART_TYPE.BUBBLE3D || options._type === CHART_TYPE.LINE || options._type === CHART_TYPE.SCATTER) {\n            if (!['b', 'ctr', 'l', 'r', 't'].includes(options.dataLabelPosition))\n                delete options.dataLabelPosition;\n        }\n        if (options._type === CHART_TYPE.BAR) {\n            if (!['stacked', 'percentStacked'].includes(options.barGrouping || '')) {\n                if (!['ctr', 'inBase', 'inEnd'].includes(options.dataLabelPosition))\n                    delete options.dataLabelPosition;\n            }\n            if (!['clustered'].includes(options.barGrouping || '')) {\n                if (!['ctr', 'inBase', 'inEnd', 'outEnd'].includes(options.dataLabelPosition))\n                    delete options.dataLabelPosition;\n            }\n        }\n    }\n    options.dataLabelBkgrdColors = options.dataLabelBkgrdColors || !options.dataLabelBkgrdColors ? options.dataLabelBkgrdColors : false;\n    if (!['b', 'l', 'r', 't', 'tr'].includes(options.legendPos || ''))\n        options.legendPos = 'r';\n    // 3D bar: ST_Shape\n    if (!['cone', 'coneToMax', 'box', 'cylinder', 'pyramid', 'pyramidToMax'].includes(options.bar3DShape || ''))\n        options.bar3DShape = 'box';\n    // lineDataSymbol: http://www.datypic.com/sc/ooxml/a-val-32.html\n    // Spec has [plus,star,x] however neither PPT2013 nor PPT-Online support them\n    if (!['circle', 'dash', 'diamond', 'dot', 'none', 'square', 'triangle'].includes(options.lineDataSymbol || ''))\n        options.lineDataSymbol = 'circle';\n    if (!['gap', 'span'].includes(options.displayBlanksAs || ''))\n        options.displayBlanksAs = 'span';\n    if (!['standard', 'marker', 'filled'].includes(options.radarStyle || ''))\n        options.radarStyle = 'standard';\n    options.lineDataSymbolSize = options.lineDataSymbolSize && !isNaN(options.lineDataSymbolSize) ? options.lineDataSymbolSize : 6;\n    options.lineDataSymbolLineSize = options.lineDataSymbolLineSize && !isNaN(options.lineDataSymbolLineSize) ? valToPts(options.lineDataSymbolLineSize) : valToPts(0.75);\n    // `layout` allows the override of PPT defaults to maximize space\n    if (options.layout) {\n        ['x', 'y', 'w', 'h'].forEach(key => {\n            const val = options.layout[key];\n            if (isNaN(Number(val)) || val < 0 || val > 1) {\n                console.warn('Warning: chart.layout.' + key + ' can only be 0-1');\n                delete options.layout[key]; // remove invalid value so that default will be used\n            }\n        });\n    }\n    // Set gridline defaults\n    options.catGridLine = options.catGridLine || (options._type === CHART_TYPE.SCATTER ? { color: 'D9D9D9', size: 1 } : { style: 'none' });\n    options.valGridLine = options.valGridLine || (options._type === CHART_TYPE.SCATTER ? { color: 'D9D9D9', size: 1 } : {});\n    options.serGridLine = options.serGridLine || (options._type === CHART_TYPE.SCATTER ? { color: 'D9D9D9', size: 1 } : { style: 'none' });\n    correctGridLineOptions(options.catGridLine);\n    correctGridLineOptions(options.valGridLine);\n    correctGridLineOptions(options.serGridLine);\n    correctShadowOptions(options.shadow);\n    // C: Options: plotArea\n    options.showDataTable = options.showDataTable || !options.showDataTable ? options.showDataTable : false;\n    options.showDataTableHorzBorder = options.showDataTableHorzBorder || !options.showDataTableHorzBorder ? options.showDataTableHorzBorder : true;\n    options.showDataTableVertBorder = options.showDataTableVertBorder || !options.showDataTableVertBorder ? options.showDataTableVertBorder : true;\n    options.showDataTableOutline = options.showDataTableOutline || !options.showDataTableOutline ? options.showDataTableOutline : true;\n    options.showDataTableKeys = options.showDataTableKeys || !options.showDataTableKeys ? options.showDataTableKeys : true;\n    options.showLabel = options.showLabel || !options.showLabel ? options.showLabel : false;\n    options.showLegend = options.showLegend || !options.showLegend ? options.showLegend : false;\n    options.showPercent = options.showPercent || !options.showPercent ? options.showPercent : true;\n    options.showTitle = options.showTitle || !options.showTitle ? options.showTitle : false;\n    options.showValue = options.showValue || !options.showValue ? options.showValue : false;\n    options.showLeaderLines = options.showLeaderLines || !options.showLeaderLines ? options.showLeaderLines : false;\n    options.catAxisLineShow = typeof options.catAxisLineShow !== 'undefined' ? options.catAxisLineShow : true;\n    options.valAxisLineShow = typeof options.valAxisLineShow !== 'undefined' ? options.valAxisLineShow : true;\n    options.serAxisLineShow = typeof options.serAxisLineShow !== 'undefined' ? options.serAxisLineShow : true;\n    options.v3DRotX = !isNaN(options.v3DRotX) && options.v3DRotX >= -90 && options.v3DRotX <= 90 ? options.v3DRotX : 30;\n    options.v3DRotY = !isNaN(options.v3DRotY) && options.v3DRotY >= 0 && options.v3DRotY <= 360 ? options.v3DRotY : 30;\n    options.v3DRAngAx = options.v3DRAngAx || !options.v3DRAngAx ? options.v3DRAngAx : true;\n    options.v3DPerspective = !isNaN(options.v3DPerspective) && options.v3DPerspective >= 0 && options.v3DPerspective <= 240 ? options.v3DPerspective : 30;\n    // D: Options: chart\n    options.barGapWidthPct = !isNaN(options.barGapWidthPct) && options.barGapWidthPct >= 0 && options.barGapWidthPct <= 1000 ? options.barGapWidthPct : 150;\n    options.barGapDepthPct = !isNaN(options.barGapDepthPct) && options.barGapDepthPct >= 0 && options.barGapDepthPct <= 1000 ? options.barGapDepthPct : 150;\n    options.chartColors = Array.isArray(options.chartColors)\n        ? options.chartColors\n        : options._type === CHART_TYPE.PIE || options._type === CHART_TYPE.DOUGHNUT\n            ? PIECHART_COLORS\n            : BARCHART_COLORS;\n    options.chartColorsOpacity = options.chartColorsOpacity && !isNaN(options.chartColorsOpacity) ? options.chartColorsOpacity : null;\n    // DEPRECATED: v3.11.0 - use `plotArea.border` vvv\n    options.border = options.border && typeof options.border === 'object' ? options.border : null;\n    if (options.border && (!options.border.pt || isNaN(options.border.pt)))\n        options.border.pt = DEF_CHART_BORDER.pt;\n    if (options.border && (!options.border.color || typeof options.border.color !== 'string'))\n        options.border.color = DEF_CHART_BORDER.color;\n    // DEPRECATED: (remove above in v4.0) ^^^\n    options.plotArea = options.plotArea || {};\n    options.plotArea.border = options.plotArea.border && typeof options.plotArea.border === 'object' ? options.plotArea.border : null;\n    if (options.plotArea.border && (!options.plotArea.border.pt || isNaN(options.plotArea.border.pt)))\n        options.plotArea.border.pt = DEF_CHART_BORDER.pt;\n    if (options.plotArea.border && (!options.plotArea.border.color || typeof options.plotArea.border.color !== 'string')) {\n        options.plotArea.border.color = DEF_CHART_BORDER.color;\n    }\n    if (options.border)\n        options.plotArea.border = options.border; // @deprecated [[remove in v4.0]]\n    options.plotArea.fill = options.plotArea.fill || { color: null, transparency: null };\n    if (options.fill)\n        options.plotArea.fill.color = options.fill; // @deprecated [[remove in v4.0]]\n    //\n    options.chartArea = options.chartArea || {};\n    options.chartArea.border = options.chartArea.border && typeof options.chartArea.border === 'object' ? options.chartArea.border : null;\n    if (options.chartArea.border) {\n        options.chartArea.border = {\n            color: options.chartArea.border.color || DEF_CHART_BORDER.color,\n            pt: options.chartArea.border.pt || DEF_CHART_BORDER.pt,\n        };\n    }\n    options.chartArea.roundedCorners = typeof options.chartArea.roundedCorners === 'boolean' ? options.chartArea.roundedCorners : true;\n    //\n    options.dataBorder = options.dataBorder && typeof options.dataBorder === 'object' ? options.dataBorder : null;\n    if (options.dataBorder && (!options.dataBorder.pt || isNaN(options.dataBorder.pt)))\n        options.dataBorder.pt = 0.75;\n    if (options.dataBorder && options.dataBorder.color) {\n        const isHexColor = typeof options.dataBorder.color === 'string' && options.dataBorder.color.length === 6 && /^[0-9A-Fa-f]{6}$/.test(options.dataBorder.color);\n        const isSchemeColor = Object.values(SCHEME_COLOR_NAMES).includes(options.dataBorder.color);\n        if (!isHexColor && !isSchemeColor) {\n            options.dataBorder.color = 'F9F9F9'; // Fallback if neither hex nor scheme color\n        }\n    }\n    //\n    if (!options.dataLabelFormatCode && options._type === CHART_TYPE.SCATTER)\n        options.dataLabelFormatCode = 'General';\n    if (!options.dataLabelFormatCode && (options._type === CHART_TYPE.PIE || options._type === CHART_TYPE.DOUGHNUT)) {\n        options.dataLabelFormatCode = options.showPercent ? '0%' : 'General';\n    }\n    options.dataLabelFormatCode = options.dataLabelFormatCode && typeof options.dataLabelFormatCode === 'string' ? options.dataLabelFormatCode : '#,##0';\n    //\n    // Set default format for Scatter chart labels to custom string if not defined\n    if (!options.dataLabelFormatScatter && options._type === CHART_TYPE.SCATTER)\n        options.dataLabelFormatScatter = 'custom';\n    //\n    options.lineSize = typeof options.lineSize === 'number' ? options.lineSize : 2;\n    options.valAxisMajorUnit = typeof options.valAxisMajorUnit === 'number' ? options.valAxisMajorUnit : null;\n    if (options._type === CHART_TYPE.AREA || options._type === CHART_TYPE.BAR || options._type === CHART_TYPE.BAR3D || options._type === CHART_TYPE.LINE) {\n        options.catAxisMultiLevelLabels = !!options.catAxisMultiLevelLabels;\n    }\n    else {\n        delete options.catAxisMultiLevelLabels;\n    }\n    // STEP 4: Set props\n    resultObject._type = 'chart';\n    resultObject.options = options;\n    resultObject.chartRid = getNewRelId(target);\n    // STEP 5: Add this chart to this Slide Rels (rId/rels count spans all slides! Count all images to get next rId)\n    target._relsChart.push({\n        rId: getNewRelId(target),\n        data: tmpData,\n        opts: options,\n        type: options._type,\n        globalId: chartId,\n        fileName: `chart${chartId}.xml`,\n        Target: `/ppt/charts/chart${chartId}.xml`,\n    });\n    target._slideObjects.push(resultObject);\n    return resultObject;\n}\n/**\n * Adds an image object to a slide definition.\n * This method can be called with only two args (opt, target) - this is supposed to be the only way in future.\n * @param {ImageProps} `opt` - object containing `path`/`data`, `x`, `y`, etc.\n * @param {PresSlide} `target` - slide that the image should be added to (if not specified as the 2nd arg)\n * @note: Remote images (eg: \"http://whatev.com/blah\"/from web and/or remote server arent supported yet - we'd need to create an <img>, load it, then send to canvas\n * @see: https://stackoverflow.com/questions/164181/how-to-fetch-a-remote-image-to-display-in-a-canvas)\n */\nfunction addImageDefinition(target, opt) {\n    const newObject = {\n        _type: null,\n        text: null,\n        options: null,\n        image: null,\n        imageRid: null,\n        hyperlink: null,\n    };\n    // FIRST: Set vars for this image (object param replaces positional args in 1.1.0)\n    const intPosX = opt.x || 0;\n    const intPosY = opt.y || 0;\n    const intWidth = opt.w || 0;\n    const intHeight = opt.h || 0;\n    const sizing = opt.sizing || null;\n    const objHyperlink = opt.hyperlink || '';\n    const strImageData = opt.data || '';\n    const strImagePath = opt.path || '';\n    let imageRelId = getNewRelId(target);\n    const objectName = opt.objectName ? encodeXmlEntities(opt.objectName) : `Image ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.image).length}`;\n    // REALITY-CHECK:\n    if (!strImagePath && !strImageData) {\n        console.error('ERROR: addImage() requires either \\'data\\' or \\'path\\' parameter!');\n        return null;\n    }\n    else if (strImagePath && typeof strImagePath !== 'string') {\n        console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(strImagePath)}`);\n        return null;\n    }\n    else if (strImageData && typeof strImageData !== 'string') {\n        console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(strImageData)}`);\n        return null;\n    }\n    else if (strImageData && typeof strImageData === 'string' && !strImageData.toLowerCase().includes('base64,')) {\n        console.error('ERROR: Image `data` value lacks a base64 header! Ex: \\'image/png;base64,NMP[...]\\')');\n        return null;\n    }\n    // STEP 1: Set extension\n    // NOTE: Split to address URLs with params (eg: `path/brent.jpg?someParam=true`)\n    let strImgExtn = (strImagePath\n        .substring(strImagePath.lastIndexOf('/') + 1)\n        .split('?')[0]\n        .split('.')\n        .pop()\n        .split('#')[0] || 'png').toLowerCase();\n    // However, pre-encoded images can be whatever mime-type they want (and good for them!)\n    if (strImageData && /image\\/(\\w+);/.exec(strImageData) && /image\\/(\\w+);/.exec(strImageData).length > 0) {\n        strImgExtn = /image\\/(\\w+);/.exec(strImageData)[1];\n    }\n    else if (strImageData === null || strImageData === void 0 ? void 0 : strImageData.toLowerCase().includes('image/svg+xml')) {\n        strImgExtn = 'svg';\n    }\n    // STEP 2: Set type/path\n    newObject._type = SLIDE_OBJECT_TYPES.image;\n    newObject.image = strImagePath || 'preencoded.png';\n    // STEP 3: Set image properties & options\n    // FIXME: Measure actual image when no intWidth/intHeight params passed\n    // ....: This is an async process: we need to make getSizeFromImage use callback, then set H/W...\n    // if ( !intWidth || !intHeight ) { var imgObj = getSizeFromImage(strImagePath);\n    newObject.options = {\n        x: intPosX || 0,\n        y: intPosY || 0,\n        w: intWidth || 1,\n        h: intHeight || 1,\n        altText: opt.altText || '',\n        rounding: typeof opt.rounding === 'boolean' ? opt.rounding : false,\n        sizing,\n        placeholder: opt.placeholder,\n        rotate: opt.rotate || 0,\n        flipV: opt.flipV || false,\n        flipH: opt.flipH || false,\n        transparency: opt.transparency || 0,\n        objectName,\n        shadow: correctShadowOptions(opt.shadow),\n    };\n    // STEP 4: Add this image to this Slide Rels (rId/rels count spans all slides! Count all images to get next rId)\n    if (strImgExtn === 'svg') {\n        // SVG files consume *TWO* rId's: (a png version and the svg image)\n        // <Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image1.png\"/>\n        // <Relationship Id=\"rId4\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image2.svg\"/>\n        target._relsMedia.push({\n            path: strImagePath || strImageData + 'png',\n            type: 'image/png',\n            extn: 'png',\n            data: strImageData || '',\n            rId: imageRelId,\n            Target: `../media/image-${target._slideNum}-${target._relsMedia.length + 1}.png`,\n            isSvgPng: true,\n            svgSize: { w: getSmartParseNumber(newObject.options.w, 'X', target._presLayout), h: getSmartParseNumber(newObject.options.h, 'Y', target._presLayout) },\n        });\n        newObject.imageRid = imageRelId;\n        target._relsMedia.push({\n            path: strImagePath || strImageData,\n            type: 'image/svg+xml',\n            extn: strImgExtn,\n            data: strImageData || '',\n            rId: imageRelId + 1,\n            Target: `../media/image-${target._slideNum}-${target._relsMedia.length + 1}.${strImgExtn}`,\n        });\n        newObject.imageRid = imageRelId + 1;\n    }\n    else {\n        // PERF: Duplicate media should reuse existing `Target` value and not create an additional copy\n        const dupeItem = target._relsMedia.filter(item => item.path && item.path === strImagePath && item.type === 'image/' + strImgExtn && !item.isDuplicate)[0];\n        target._relsMedia.push({\n            path: strImagePath || 'preencoded.' + strImgExtn,\n            type: 'image/' + strImgExtn,\n            extn: strImgExtn,\n            data: strImageData || '',\n            rId: imageRelId,\n            isDuplicate: !!(dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target),\n            Target: (dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target) ? dupeItem.Target : `../media/image-${target._slideNum}-${target._relsMedia.length + 1}.${strImgExtn}`,\n        });\n        newObject.imageRid = imageRelId;\n    }\n    // STEP 5: Hyperlink support\n    if (typeof objHyperlink === 'object') {\n        if (!objHyperlink.url && !objHyperlink.slide)\n            throw new Error('ERROR: `hyperlink` option requires either: `url` or `slide`');\n        else {\n            imageRelId++;\n            target._rels.push({\n                type: SLIDE_OBJECT_TYPES.hyperlink,\n                data: objHyperlink.slide ? 'slide' : 'dummy',\n                rId: imageRelId,\n                Target: objHyperlink.url || objHyperlink.slide.toString(),\n            });\n            objHyperlink._rId = imageRelId;\n            newObject.hyperlink = objHyperlink;\n        }\n    }\n    // STEP 6: Add object to slide\n    target._slideObjects.push(newObject);\n}\n/**\n * Adds a media object to a slide definition.\n * @param {PresSlide} `target` - slide object that the media will be added to\n * @param {MediaProps} `opt` - media options\n */\nfunction addMediaDefinition(target, opt) {\n    const intPosX = opt.x || 0;\n    const intPosY = opt.y || 0;\n    const intSizeX = opt.w || 2;\n    const intSizeY = opt.h || 2;\n    const strData = opt.data || '';\n    const strLink = opt.link || '';\n    const strPath = opt.path || '';\n    const strType = opt.type || 'audio';\n    let strExtn = '';\n    const strCover = opt.cover || IMG_PLAYBTN;\n    const objectName = opt.objectName ? encodeXmlEntities(opt.objectName) : `Media ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.media).length}`;\n    const slideData = { _type: SLIDE_OBJECT_TYPES.media };\n    // STEP 1: REALITY-CHECK\n    if (!strPath && !strData && strType !== 'online') {\n        throw new Error('addMedia() error: either `data` or `path` are required!');\n    }\n    else if (strData && !strData.toLowerCase().includes('base64,')) {\n        throw new Error('addMedia() error: `data` value lacks a base64 header! Ex: \\'video/mpeg;base64,NMP[...]\\')');\n    }\n    else if (!strCover.toLowerCase().includes('base64,')) {\n        throw new Error('addMedia() error: `cover` value lacks a base64 header! Ex: \\'data:image/png;base64,iV[...]\\')');\n    }\n    // Online Video: requires `link`\n    if (strType === 'online' && !strLink) {\n        throw new Error('addMedia() error: online videos require `link` value');\n    }\n    // FIXME: 20190707\n    // strType = strData ? strData.split(';')[0].split('/')[0] : strType\n    strExtn = opt.extn || (strData ? strData.split(';')[0].split('/')[1] : strPath.split('.').pop()) || 'mp3';\n    // STEP 2: Set type, media\n    slideData.mtype = strType;\n    slideData.media = strPath || 'preencoded.mov';\n    slideData.options = {};\n    // STEP 3: Set media properties & options\n    slideData.options.x = intPosX;\n    slideData.options.y = intPosY;\n    slideData.options.w = intSizeX;\n    slideData.options.h = intSizeY;\n    slideData.options.objectName = objectName;\n    // STEP 4: Add this media to this Slide Rels (rId/rels count spans all slides! Count all media to get next rId)\n    /**\n     * NOTE:\n     * - rId starts at 2 (hence the intRels+1 below) as slideLayout.xml is rId=1!\n     *\n     * NOTE:\n     * - Audio/Video files consume *TWO* rId's:\n     * <Relationship Id=\"rId2\" Target=\"../media/media1.mov\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/video\"/>\n     * <Relationship Id=\"rId3\" Target=\"../media/media1.mov\" Type=\"http://schemas.microsoft.com/office/2007/relationships/media\"/>\n     */\n    if (strType === 'online') {\n        const relId1 = getNewRelId(target);\n        // A: Add video\n        target._relsMedia.push({\n            path: strPath || 'preencoded' + strExtn,\n            data: 'dummy',\n            type: 'online',\n            extn: strExtn,\n            rId: relId1,\n            Target: strLink,\n        });\n        slideData.mediaRid = relId1;\n        // B: Add cover (preview/overlay) image\n        target._relsMedia.push({\n            path: 'preencoded.png',\n            data: strCover,\n            type: 'image/png',\n            extn: 'png',\n            rId: getNewRelId(target),\n            Target: `../media/image-${target._slideNum}-${target._relsMedia.length + 1}.png`,\n        });\n    }\n    else {\n        // PERF: Duplicate media should reuse existing `Target` value and not create an additional copy\n        const dupeItem = target._relsMedia.filter(item => item.path && item.path === strPath && item.type === strType + '/' + strExtn && !item.isDuplicate)[0];\n        // A: \"relationships/video\"\n        const relId1 = getNewRelId(target);\n        target._relsMedia.push({\n            path: strPath || 'preencoded' + strExtn,\n            type: strType + '/' + strExtn,\n            extn: strExtn,\n            data: strData || '',\n            rId: relId1,\n            isDuplicate: !!(dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target),\n            Target: (dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target) ? dupeItem.Target : `../media/media-${target._slideNum}-${target._relsMedia.length + 1}.${strExtn}`,\n        });\n        slideData.mediaRid = relId1;\n        // B: \"relationships/media\"\n        target._relsMedia.push({\n            path: strPath || 'preencoded' + strExtn,\n            type: strType + '/' + strExtn,\n            extn: strExtn,\n            data: strData || '',\n            rId: getNewRelId(target),\n            isDuplicate: !!(dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target),\n            Target: (dupeItem === null || dupeItem === void 0 ? void 0 : dupeItem.Target) ? dupeItem.Target : `../media/media-${target._slideNum}-${target._relsMedia.length + 0}.${strExtn}`,\n        });\n        // C: Add cover (preview/overlay) image\n        target._relsMedia.push({\n            path: 'preencoded.png',\n            type: 'image/png',\n            extn: 'png',\n            data: strCover,\n            rId: getNewRelId(target),\n            Target: `../media/image-${target._slideNum}-${target._relsMedia.length + 1}.png`,\n        });\n    }\n    // LAST\n    target._slideObjects.push(slideData);\n}\n/**\n * Adds Notes to a slide.\n * @param {PresSlide} `target` slide object\n * @param {string} `notes`\n * @since 2.3.0\n */\nfunction addNotesDefinition(target, notes) {\n    target._slideObjects.push({\n        _type: SLIDE_OBJECT_TYPES.notes,\n        text: [{ text: notes }],\n    });\n}\n/**\n * Adds a shape object to a slide definition.\n * @param {PresSlide} target slide object that the shape should be added to\n * @param {SHAPE_NAME} shapeName shape name\n * @param {ShapeProps} opts shape options\n */\nfunction addShapeDefinition(target, shapeName, opts) {\n    const options = typeof opts === 'object' ? opts : {};\n    options.line = options.line || { type: 'none' };\n    const newObject = {\n        _type: SLIDE_OBJECT_TYPES.text,\n        shape: shapeName || SHAPE_TYPE.RECTANGLE,\n        options,\n        text: null,\n    };\n    // Reality check\n    if (!shapeName)\n        throw new Error('Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`');\n    // 1: ShapeLineProps defaults\n    const newLineOpts = {\n        type: options.line.type || 'solid',\n        color: options.line.color || DEF_SHAPE_LINE_COLOR,\n        transparency: options.line.transparency || 0,\n        width: options.line.width || 1,\n        dashType: options.line.dashType || 'solid',\n        beginArrowType: options.line.beginArrowType || null,\n        endArrowType: options.line.endArrowType || null,\n    };\n    if (typeof options.line === 'object' && options.line.type !== 'none')\n        options.line = newLineOpts;\n    // 2: Set options defaults\n    options.x = options.x || (options.x === 0 ? 0 : 1);\n    options.y = options.y || (options.y === 0 ? 0 : 1);\n    options.w = options.w || (options.w === 0 ? 0 : 1);\n    options.h = options.h || (options.h === 0 ? 0 : 1);\n    options.objectName = options.objectName\n        ? encodeXmlEntities(options.objectName)\n        : `Shape ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.text).length}`;\n    // 3: Handle line (lots of deprecated opts)\n    if (typeof options.line === 'string') {\n        const tmpOpts = newLineOpts;\n        tmpOpts.color = String(options.line); // @deprecated `options.line` string (was line color)\n        options.line = tmpOpts;\n    }\n    if (typeof options.lineSize === 'number')\n        options.line.width = options.lineSize; // @deprecated (part of `ShapeLineProps` now)\n    if (typeof options.lineDash === 'string')\n        options.line.dashType = options.lineDash; // @deprecated (part of `ShapeLineProps` now)\n    if (typeof options.lineHead === 'string')\n        options.line.beginArrowType = options.lineHead; // @deprecated (part of `ShapeLineProps` now)\n    if (typeof options.lineTail === 'string')\n        options.line.endArrowType = options.lineTail; // @deprecated (part of `ShapeLineProps` now)\n    // 4: Create hyperlink rels\n    createHyperlinkRels(target, newObject);\n    // LAST: Add object to slide\n    target._slideObjects.push(newObject);\n}\n/**\n * Adds a table object to a slide definition.\n * @param {PresSlide} target - slide object that the table should be added to\n * @param {TableRow[]} tableRows - table data\n * @param {TableProps} options - table options\n * @param {SlideLayout} slideLayout - Slide layout\n * @param {PresLayout} presLayout - Presentation layout\n * @param {Function} addSlide - method\n * @param {Function} getSlide - method\n */\nfunction addTableDefinition(target, tableRows, options, slideLayout, presLayout, addSlide, getSlide) {\n    const slides = [target]; // Create array of Slides as more may be added by auto-paging\n    const opt = options && typeof options === 'object' ? options : {};\n    opt.objectName = opt.objectName ? encodeXmlEntities(opt.objectName) : `Table ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.table).length}`;\n    // STEP 1: REALITY-CHECK\n    {\n        // A: check for empty\n        if (tableRows === null || tableRows.length === 0 || !Array.isArray(tableRows)) {\n            throw new Error('addTable: Array expected! EX: \\'slide.addTable( [rows], {options} );\\' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)');\n        }\n        // B: check for non-well-formatted array (ex: rows=['a','b'] instead of [['a','b']])\n        if (!tableRows[0] || !Array.isArray(tableRows[0])) {\n            throw new Error('addTable: \\'rows\\' should be an array of cells! EX: \\'slide.addTable( [ [\\'A\\'], [\\'B\\'], {text:\\'C\\',options:{align:\\'center\\'}} ] );\\' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)');\n        }\n        // TODO: FUTURE: This is wacky and wont function right (shows .w value when there is none from demo.js?!) 20191219\n        /*\n        if (opt.w && opt.colW) {\n            console.warn('addTable: please use either `colW` or `w` - not both (table will use `colW` and ignore `w`)')\n            console.log(`${opt.w} ${opt.colW}`)\n        }\n        */\n    }\n    // STEP 2: Transform `tableRows` into well-formatted TableCell's\n    // tableRows can be object or plain text array: `[{text:'cell 1'}, {text:'cell 2', options:{color:'ff0000'}}]` | `[\"cell 1\", \"cell 2\"]`\n    const arrRows = [];\n    tableRows.forEach(row => {\n        const newRow = [];\n        if (Array.isArray(row)) {\n            row.forEach((cell) => {\n                // A:\n                const newCell = {\n                    _type: SLIDE_OBJECT_TYPES.tablecell,\n                    text: '',\n                    options: typeof cell === 'object' && cell.options ? cell.options : {},\n                };\n                // B:\n                if (typeof cell === 'string' || typeof cell === 'number')\n                    newCell.text = cell.toString();\n                else if (cell.text) {\n                    // Cell can contain complex text type, or string, or number\n                    if (typeof cell.text === 'string' || typeof cell.text === 'number')\n                        newCell.text = cell.text.toString();\n                    else if (cell.text)\n                        newCell.text = cell.text;\n                    // Capture options\n                    if (cell.options && typeof cell.options === 'object')\n                        newCell.options = cell.options;\n                }\n                // C: Set cell borders\n                newCell.options.border = newCell.options.border || opt.border || [{ type: 'none' }, { type: 'none' }, { type: 'none' }, { type: 'none' }];\n                const cellBorder = newCell.options.border;\n                // CASE 1: border interface is: BorderOptions | [BorderOptions, BorderOptions, BorderOptions, BorderOptions]\n                if (!Array.isArray(cellBorder) && typeof cellBorder === 'object')\n                    newCell.options.border = [cellBorder, cellBorder, cellBorder, cellBorder];\n                // Handle: [null, null, {type:'solid'}, null]\n                if (!newCell.options.border[0])\n                    newCell.options.border[0] = { type: 'none' };\n                if (!newCell.options.border[1])\n                    newCell.options.border[1] = { type: 'none' };\n                if (!newCell.options.border[2])\n                    newCell.options.border[2] = { type: 'none' };\n                if (!newCell.options.border[3])\n                    newCell.options.border[3] = { type: 'none' };\n                // set complete BorderOptions for all sides\n                const arrSides = [0, 1, 2, 3];\n                arrSides.forEach(idx => {\n                    newCell.options.border[idx] = {\n                        type: newCell.options.border[idx].type || DEF_CELL_BORDER.type,\n                        color: newCell.options.border[idx].color || DEF_CELL_BORDER.color,\n                        pt: typeof newCell.options.border[idx].pt === 'number' ? newCell.options.border[idx].pt : DEF_CELL_BORDER.pt,\n                    };\n                });\n                // LAST:\n                newRow.push(newCell);\n            });\n        }\n        else {\n            console.log('addTable: tableRows has a bad row. A row should be an array of cells. You provided:');\n            console.log(row);\n        }\n        arrRows.push(newRow);\n    });\n    // STEP 3: Set options\n    opt.x = getSmartParseNumber(opt.x || (opt.x === 0 ? 0 : EMU / 2), 'X', presLayout);\n    opt.y = getSmartParseNumber(opt.y || (opt.y === 0 ? 0 : EMU / 2), 'Y', presLayout);\n    if (opt.h)\n        opt.h = getSmartParseNumber(opt.h, 'Y', presLayout); // NOTE: Dont set default `h` - leaving it null triggers auto-rowH in `makeXMLSlide()`\n    opt.fontSize = opt.fontSize || DEF_FONT_SIZE;\n    opt.margin = opt.margin === 0 || opt.margin ? opt.margin : DEF_CELL_MARGIN_IN;\n    if (typeof opt.margin === 'number')\n        opt.margin = [Number(opt.margin), Number(opt.margin), Number(opt.margin), Number(opt.margin)];\n    // NOTE: dont add default color on tables with hyperlinks! (it causes any textObj's with hyperlinks to have subsequent words to be black)\n    if (JSON.stringify({ arrRows: arrRows }).indexOf('hyperlink') === -1) {\n        if (!opt.color)\n            opt.color = opt.color || DEF_FONT_COLOR; // Set default color if needed (table option > inherit from Slide > default to black)\n    }\n    if (typeof opt.border === 'string') {\n        console.warn('addTable `border` option must be an object. Ex: `{border: {type:\\'none\\'}}`');\n        opt.border = null;\n    }\n    else if (Array.isArray(opt.border)) {\n        [0, 1, 2, 3].forEach(idx => {\n            opt.border[idx] = opt.border[idx]\n                ? { type: opt.border[idx].type || DEF_CELL_BORDER.type, color: opt.border[idx].color || DEF_CELL_BORDER.color, pt: opt.border[idx].pt || DEF_CELL_BORDER.pt }\n                : { type: 'none' };\n        });\n    }\n    opt.autoPage = typeof opt.autoPage === 'boolean' ? opt.autoPage : false;\n    opt.autoPageRepeatHeader = typeof opt.autoPageRepeatHeader === 'boolean' ? opt.autoPageRepeatHeader : false;\n    opt.autoPageHeaderRows = typeof opt.autoPageHeaderRows !== 'undefined' && !isNaN(Number(opt.autoPageHeaderRows)) ? Number(opt.autoPageHeaderRows) : 1;\n    opt.autoPageLineWeight = typeof opt.autoPageLineWeight !== 'undefined' && !isNaN(Number(opt.autoPageLineWeight)) ? Number(opt.autoPageLineWeight) : 0;\n    if (opt.autoPageLineWeight) {\n        if (opt.autoPageLineWeight > 1)\n            opt.autoPageLineWeight = 1;\n        else if (opt.autoPageLineWeight < -1)\n            opt.autoPageLineWeight = -1;\n    }\n    // autoPage ^^^\n    // Set/Calc table width\n    // Get slide margins - start with default values, then adjust if master or slide margins exist\n    let arrTableMargin = DEF_SLIDE_MARGIN_IN;\n    // Case 1: Master margins\n    if (slideLayout && typeof slideLayout._margin !== 'undefined') {\n        if (Array.isArray(slideLayout._margin))\n            arrTableMargin = slideLayout._margin;\n        else if (!isNaN(Number(slideLayout._margin))) {\n            arrTableMargin = [Number(slideLayout._margin), Number(slideLayout._margin), Number(slideLayout._margin), Number(slideLayout._margin)];\n        }\n    }\n    // Case 2: Table margins\n    /* FIXME: add `_margin` option to slide options\n        else if ( addNewSlide._margin ) {\n            if ( Array.isArray(addNewSlide._margin) ) arrTableMargin = addNewSlide._margin;\n            else if ( !isNaN(Number(addNewSlide._margin)) ) arrTableMargin = [Number(addNewSlide._margin), Number(addNewSlide._margin), Number(addNewSlide._margin), Number(addNewSlide._margin)];\n        }\n    */\n    /**\n     * Calc table width depending upon what data we have - several scenarios exist (including bad data, eg: colW doesnt match col count)\n     * The API does not require a `w` value, but XML generation does, hence, code to calc a width below using colW value(s)\n     */\n    if (opt.colW) {\n        const firstRowColCnt = arrRows[0].reduce((totalLen, c) => {\n            var _a;\n            if (((_a = c === null || c === void 0 ? void 0 : c.options) === null || _a === void 0 ? void 0 : _a.colspan) && typeof c.options.colspan === 'number') {\n                totalLen += c.options.colspan;\n            }\n            else {\n                totalLen += 1;\n            }\n            return totalLen;\n        }, 0);\n        if (typeof opt.colW === 'string' || typeof opt.colW === 'number') {\n            // Ex: `colW = 3` or `colW = '3'`\n            opt.w = Math.floor(Number(opt.colW) * firstRowColCnt);\n            opt.colW = null; // IMPORTANT: Unset `colW` so table is created using `opt.w`, which will evenly divide cols\n        }\n        else if (opt.colW && Array.isArray(opt.colW) && opt.colW.length === 1 && firstRowColCnt > 1) {\n            // Ex: `colW=[3]` but with >1 cols (same as above, user is saying \"use this width for all\")\n            opt.w = Math.floor(Number(opt.colW) * firstRowColCnt);\n            opt.colW = null; // IMPORTANT: Unset `colW` so table is created using `opt.w`, which will evenly divide cols\n        }\n        else if (opt.colW && Array.isArray(opt.colW) && opt.colW.length !== firstRowColCnt) {\n            // Err: Mismatched colW and cols count\n            console.warn('addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths.');\n            opt.colW = null;\n        }\n    }\n    else if (opt.w) {\n        opt.w = getSmartParseNumber(opt.w, 'X', presLayout);\n    }\n    else {\n        opt.w = Math.floor(presLayout._sizeW / EMU - arrTableMargin[1] - arrTableMargin[3]);\n    }\n    // STEP 4: Convert units to EMU now (we use different logic in makeSlide->table - smartCalc is not used)\n    if (opt.x && opt.x < 20)\n        opt.x = inch2Emu(opt.x);\n    if (opt.y && opt.y < 20)\n        opt.y = inch2Emu(opt.y);\n    if (opt.w && typeof opt.w === 'number' && opt.w < 20)\n        opt.w = inch2Emu(opt.w);\n    if (opt.h && typeof opt.h === 'number' && opt.h < 20)\n        opt.h = inch2Emu(opt.h);\n    // STEP 5: Loop over cells: transform each to ITableCell; check to see whether to unset `autoPage` while here\n    arrRows.forEach(row => {\n        row.forEach((cell, idy) => {\n            // A: Transform cell data if needed\n            /* Table rows can be an object or plain text - transform into object when needed\n                // EX:\n                var arrTabRows1 = [\n                    [ { text:'A1\\nA2', options:{rowspan:2, fill:'99FFCC'} } ]\n                    ,[ 'B2', 'C2', 'D2', 'E2' ]\n                ]\n            */\n            if (typeof cell === 'number' || typeof cell === 'string') {\n                // Grab table formatting `opts` to use here so text style/format inherits as it should\n                row[idy] = { _type: SLIDE_OBJECT_TYPES.tablecell, text: String(row[idy]), options: opt };\n            }\n            else if (typeof cell === 'object') {\n                // ARG0: `text`\n                if (typeof cell.text === 'number')\n                    row[idy].text = row[idy].text.toString();\n                else if (typeof cell.text === 'undefined' || cell.text === null)\n                    row[idy].text = '';\n                // ARG1: `options`: ensure options exists\n                row[idy].options = cell.options || {};\n                // Set type to tabelcell\n                row[idy]._type = SLIDE_OBJECT_TYPES.tablecell;\n            }\n            // B: Check for fine-grained formatting, disable auto-page when found\n            // Since genXmlTextBody already checks for text array ( text:[{},..{}] ) we're done!\n            // Text in individual cells will be formatted as they are added by calls to genXmlTextBody within table builder\n            // if (cell.text && Array.isArray(cell.text)) opt.autoPage = false\n            // TODO: FIXME: WIP: 20210807: We cant do this anymore\n        });\n    });\n    // If autoPage = true, we need to return references to newly created slides if any\n    const newAutoPagedSlides = [];\n    // STEP 6: Auto-Paging: (via {options} and used internally)\n    // (used internally by `tableToSlides()` to not engage recursion - we've already paged the table data, just add this one)\n    if (opt && !opt.autoPage) {\n        // Create hyperlink rels (IMPORTANT: Wait until table has been shredded across Slides or all rels will end-up on Slide 1!)\n        createHyperlinkRels(target, arrRows);\n        // Add slideObjects (NOTE: Use `extend` to avoid mutation)\n        target._slideObjects.push({\n            _type: SLIDE_OBJECT_TYPES.table,\n            arrTabRows: arrRows,\n            options: Object.assign({}, opt),\n        });\n    }\n    else {\n        if (opt.autoPageRepeatHeader)\n            opt._arrObjTabHeadRows = arrRows.filter((_row, idx) => idx < opt.autoPageHeaderRows);\n        // Loop over rows and create 1-N tables as needed (ISSUE#21)\n        getSlidesForTableRows(arrRows, opt, presLayout, slideLayout).forEach((slide, idx) => {\n            // A: Create new Slide when needed, otherwise, use existing (NOTE: More than 1 table can be on a Slide, so we will go up AND down the Slide chain)\n            if (!getSlide(target._slideNum + idx))\n                slides.push(addSlide({ masterName: (slideLayout === null || slideLayout === void 0 ? void 0 : slideLayout._name) || null }));\n            // B: Reset opt.y to `option`/`margin` after first Slide (ISSUE#43, ISSUE#47, ISSUE#48)\n            if (idx > 0)\n                opt.y = inch2Emu(opt.autoPageSlideStartY || opt.newSlideStartY || arrTableMargin[0]);\n            // C: Add this table to new Slide\n            {\n                const newSlide = getSlide(target._slideNum + idx);\n                opt.autoPage = false;\n                // Create hyperlink rels (IMPORTANT: Wait until table has been shredded across Slides or all rels will end-up on Slide 1!)\n                createHyperlinkRels(newSlide, slide.rows);\n                // Add rows to new slide\n                newSlide.addTable(slide.rows, Object.assign({}, opt));\n                // Add reference to the new slide so it can be returned, but don't add the first one because the user already has a reference to that one.\n                if (idx > 0)\n                    newAutoPagedSlides.push(newSlide);\n            }\n        });\n    }\n    return newAutoPagedSlides;\n}\n/**\n * Adds a text object to a slide definition.\n * @param {PresSlide} target - slide object that the text should be added to\n * @param {string|TextProps[]} text text string or object\n * @param {TextPropsOptions} opts text options\n * @param {boolean} isPlaceholder whether this a placeholder object\n * @since: 1.0.0\n */\nfunction addTextDefinition(target, text, opts, isPlaceholder) {\n    const newObject = {\n        _type: isPlaceholder ? SLIDE_OBJECT_TYPES.placeholder : SLIDE_OBJECT_TYPES.text,\n        shape: (opts === null || opts === void 0 ? void 0 : opts.shape) || SHAPE_TYPE.RECTANGLE,\n        text: !text || text.length === 0 ? [{ text: '', options: null }] : text,\n        options: opts || {},\n    };\n    function cleanOpts(itemOpts) {\n        // STEP 1: Set some options\n        {\n            // A.1: Color (placeholders should inherit their colors or override them, so don't default them)\n            if (!itemOpts.placeholder) {\n                itemOpts.color = itemOpts.color || newObject.options.color || target.color || DEF_FONT_COLOR;\n            }\n            // A.2: Placeholder should inherit their bullets or override them, so don't default them\n            if (itemOpts.placeholder || isPlaceholder) {\n                itemOpts.bullet = itemOpts.bullet || false;\n            }\n            // A.3: Text targeting a placeholder need to inherit the placeholders options (eg: margin, valign, etc.) (Issue #640)\n            if (itemOpts.placeholder && target._slideLayout && target._slideLayout._slideObjects) {\n                const placeHold = target._slideLayout._slideObjects.filter(item => item._type === 'placeholder' && item.options && item.options.placeholder && item.options.placeholder === itemOpts.placeholder)[0];\n                if (placeHold === null || placeHold === void 0 ? void 0 : placeHold.options)\n                    itemOpts = Object.assign(Object.assign({}, itemOpts), placeHold.options);\n            }\n            // A.4: Other options\n            itemOpts.objectName = itemOpts.objectName\n                ? encodeXmlEntities(itemOpts.objectName)\n                : `Text ${target._slideObjects.filter(obj => obj._type === SLIDE_OBJECT_TYPES.text).length}`;\n            // B:\n            if (itemOpts.shape === SHAPE_TYPE.LINE) {\n                // ShapeLineProps defaults\n                const newLineOpts = {\n                    type: itemOpts.line.type || 'solid',\n                    color: itemOpts.line.color || DEF_SHAPE_LINE_COLOR,\n                    transparency: itemOpts.line.transparency || 0,\n                    width: itemOpts.line.width || 1,\n                    dashType: itemOpts.line.dashType || 'solid',\n                    beginArrowType: itemOpts.line.beginArrowType || null,\n                    endArrowType: itemOpts.line.endArrowType || null,\n                };\n                if (typeof itemOpts.line === 'object')\n                    itemOpts.line = newLineOpts;\n                // 3: Handle line (lots of deprecated opts)\n                if (typeof itemOpts.line === 'string') {\n                    const tmpOpts = newLineOpts;\n                    if (typeof itemOpts.line === 'string')\n                        tmpOpts.color = itemOpts.line; // @deprecated [remove in v4.0]\n                    // tmpOpts.color = itemOpts.line!.toString() // @deprecated `itemOpts.line`:[string] (was line color)\n                    itemOpts.line = tmpOpts;\n                }\n                if (typeof itemOpts.lineSize === 'number')\n                    itemOpts.line.width = itemOpts.lineSize; // @deprecated (part of `ShapeLineProps` now)\n                if (typeof itemOpts.lineDash === 'string')\n                    itemOpts.line.dashType = itemOpts.lineDash; // @deprecated (part of `ShapeLineProps` now)\n                if (typeof itemOpts.lineHead === 'string')\n                    itemOpts.line.beginArrowType = itemOpts.lineHead; // @deprecated (part of `ShapeLineProps` now)\n                if (typeof itemOpts.lineTail === 'string')\n                    itemOpts.line.endArrowType = itemOpts.lineTail; // @deprecated (part of `ShapeLineProps` now)\n            }\n            // C: Line opts\n            itemOpts.line = itemOpts.line || {};\n            itemOpts.lineSpacing = itemOpts.lineSpacing && !isNaN(itemOpts.lineSpacing) ? itemOpts.lineSpacing : null;\n            itemOpts.lineSpacingMultiple = itemOpts.lineSpacingMultiple && !isNaN(itemOpts.lineSpacingMultiple) ? itemOpts.lineSpacingMultiple : null;\n            // D: Transform text options to bodyProperties as thats how we build XML\n            itemOpts._bodyProp = itemOpts._bodyProp || {};\n            itemOpts._bodyProp.autoFit = itemOpts.autoFit || false; // DEPRECATED: (3.3.0) If true, shape will collapse to text size (Fit To shape)\n            itemOpts._bodyProp.anchor = !itemOpts.placeholder ? TEXT_VALIGN.ctr : null; // VALS: [t,ctr,b]\n            itemOpts._bodyProp.vert = itemOpts.vert || null; // VALS: [eaVert,horz,mongolianVert,vert,vert270,wordArtVert,wordArtVertRtl]\n            itemOpts._bodyProp.wrap = typeof itemOpts.wrap === 'boolean' ? itemOpts.wrap : true;\n            // E: Inset\n            // @deprecated 3.10.0 (`inset` - use `margin`)\n            if ((itemOpts.inset && !isNaN(Number(itemOpts.inset))) || itemOpts.inset === 0) {\n                itemOpts._bodyProp.lIns = inch2Emu(itemOpts.inset);\n                itemOpts._bodyProp.rIns = inch2Emu(itemOpts.inset);\n                itemOpts._bodyProp.tIns = inch2Emu(itemOpts.inset);\n                itemOpts._bodyProp.bIns = inch2Emu(itemOpts.inset);\n            }\n            // F: Transform @deprecated props\n            if (typeof itemOpts.underline === 'boolean' && itemOpts.underline === true)\n                itemOpts.underline = { style: 'sng' };\n        }\n        // STEP 2: Transform `align`/`valign` to XML values, store in _bodyProp for XML gen\n        {\n            if ((itemOpts.align || '').toLowerCase().indexOf('c') === 0)\n                itemOpts._bodyProp.align = TEXT_HALIGN.center;\n            else if ((itemOpts.align || '').toLowerCase().indexOf('l') === 0)\n                itemOpts._bodyProp.align = TEXT_HALIGN.left;\n            else if ((itemOpts.align || '').toLowerCase().indexOf('r') === 0)\n                itemOpts._bodyProp.align = TEXT_HALIGN.right;\n            else if ((itemOpts.align || '').toLowerCase().indexOf('j') === 0)\n                itemOpts._bodyProp.align = TEXT_HALIGN.justify;\n            if ((itemOpts.valign || '').toLowerCase().indexOf('b') === 0)\n                itemOpts._bodyProp.anchor = TEXT_VALIGN.b;\n            else if ((itemOpts.valign || '').toLowerCase().indexOf('m') === 0)\n                itemOpts._bodyProp.anchor = TEXT_VALIGN.ctr;\n            else if ((itemOpts.valign || '').toLowerCase().indexOf('t') === 0)\n                itemOpts._bodyProp.anchor = TEXT_VALIGN.t;\n        }\n        // STEP 3: ROBUST: Set rational values for some shadow props if needed\n        correctShadowOptions(itemOpts.shadow);\n        return itemOpts;\n    }\n    // STEP 1: Create/Clean object options\n    newObject.options = cleanOpts(newObject.options);\n    // STEP 2: Create/Clean text options\n    newObject.text.forEach(item => (item.options = cleanOpts(item.options || {})));\n    // STEP 3: Create hyperlinks\n    createHyperlinkRels(target, newObject.text || '');\n    // LAST: Add object to Slide\n    target._slideObjects.push(newObject);\n}\n/**\n * Adds placeholder objects to slide\n * @param {PresSlide} slide - slide object containing layouts\n */\nfunction addPlaceholdersToSlideLayouts(slide) {\n    // Add all placeholders on this Slide that dont already exist\n    (slide._slideLayout._slideObjects || []).forEach(slideLayoutObj => {\n        if (slideLayoutObj._type === SLIDE_OBJECT_TYPES.placeholder) {\n            // A: Search for this placeholder on Slide before we add\n            // NOTE: Check to ensure a placeholder does not already exist on the Slide\n            // They are created when they have been populated with text (ex: `slide.addText('Hi', { placeholder:'title' });`)\n            if (slide._slideObjects.filter(slideObj => slideObj.options && slideObj.options.placeholder === slideLayoutObj.options.placeholder).length === 0) {\n                addTextDefinition(slide, [{ text: '' }], slideLayoutObj.options, false);\n            }\n        }\n    });\n}\n/* -------------------------------------------------------------------------------- */\n/**\n * Adds a background image or color to a slide definition.\n * @param {BackgroundProps} props - color string or an object with image definition\n * @param {PresSlide} target - slide object that the background is set to\n */\nfunction addBackgroundDefinition(props, target) {\n    var _a;\n    // A: @deprecated\n    if (target.bkgd) {\n        if (!target.background)\n            target.background = {};\n        if (typeof target.bkgd === 'string')\n            target.background.color = target.bkgd;\n        else {\n            if (target.bkgd.data)\n                target.background.data = target.bkgd.data;\n            if (target.bkgd.path)\n                target.background.path = target.bkgd.path;\n            if (target.bkgd.src)\n                target.background.path = target.bkgd.src; // @deprecated (drop in 4.x)\n        }\n    }\n    if ((_a = target.background) === null || _a === void 0 ? void 0 : _a.fill)\n        target.background.color = target.background.fill;\n    // B: Handle media\n    if (props && (props.path || props.data)) {\n        // Allow the use of only the data key (`path` isnt reqd)\n        props.path = props.path || 'preencoded.png';\n        let strImgExtn = (props.path.split('.').pop() || 'png').split('?')[0]; // Handle \"blah.jpg?width=540\" etc.\n        if (strImgExtn === 'jpg')\n            strImgExtn = 'jpeg'; // base64-encoded jpg's come out as \"data:image/jpeg;base64,/9j/[...]\", so correct exttnesion to avoid content warnings at PPT startup\n        target._relsMedia = target._relsMedia || [];\n        const intRels = target._relsMedia.length + 1;\n        // NOTE: `Target` cannot have spaces (eg:\"Slide 1-image-1.jpg\") or a \"presentation is corrupt\" warning comes up\n        target._relsMedia.push({\n            path: props.path,\n            type: SLIDE_OBJECT_TYPES.image,\n            extn: strImgExtn,\n            data: props.data || null,\n            rId: intRels,\n            Target: `../media/${(target._name || '').replace(/\\s+/gi, '-')}-image-${target._relsMedia.length + 1}.${strImgExtn}`,\n        });\n        target._bkgdImgRid = intRels;\n    }\n}\n/**\n * Parses text/text-objects from `addText()` and `addTable()` methods; creates 'hyperlink'-type Slide Rels for each hyperlink found\n * @param {PresSlide} target - slide object that any hyperlinks will be be added to\n * @param {number | string | TextProps | TextProps[] | ITableCell[][]} text - text to parse\n */\nfunction createHyperlinkRels(target, text, options) {\n    let textObjs = [];\n    // Only text objects can have hyperlinks, bail when text param is plain text\n    if (typeof text === 'string' || typeof text === 'number')\n        return;\n    // IMPORTANT: \"else if\" Array.isArray must come before typeof===object! Otherwise, code will exhaust recursion!\n    else if (Array.isArray(text))\n        textObjs = text;\n    else if (typeof text === 'object')\n        textObjs = [text];\n    textObjs.forEach((text, idx) => {\n        // IMPORTANT: `options` are lost due to recursion/copy!\n        if (options && options[idx] && options[idx].hyperlink)\n            text.options = Object.assign(Object.assign({}, text.options), options[idx]);\n        // NOTE: `text` can be an array of other `text` objects (table cell word-level formatting), continue parsing using recursion\n        if (Array.isArray(text)) {\n            const cellOpts = [];\n            text.forEach((tablecell) => {\n                if (tablecell.options && !tablecell.text.options) {\n                    cellOpts.push(tablecell.options);\n                }\n            });\n            createHyperlinkRels(target, text, cellOpts);\n        }\n        else if (Array.isArray(text.text)) {\n            createHyperlinkRels(target, text.text, options && options[idx] ? [options[idx]] : undefined);\n        }\n        else if (text && typeof text === 'object' && text.options && text.options.hyperlink && !text.options.hyperlink._rId) {\n            if (typeof text.options.hyperlink !== 'object') {\n                console.log('ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:\\'https://github.com\\'}` ');\n            }\n            else if (!text.options.hyperlink.url && !text.options.hyperlink.slide) {\n                console.log('ERROR: \\'hyperlink requires either: `url` or `slide`\\'');\n            }\n            else {\n                const relId = getNewRelId(target);\n                target._rels.push({\n                    type: SLIDE_OBJECT_TYPES.hyperlink,\n                    data: text.options.hyperlink.slide ? 'slide' : 'dummy',\n                    rId: relId,\n                    Target: encodeXmlEntities(text.options.hyperlink.url) || text.options.hyperlink.slide.toString(),\n                });\n                text.options.hyperlink._rId = relId;\n            }\n        }\n        else if (text && typeof text === 'object' && text.options && text.options.hyperlink && text.options.hyperlink._rId) {\n            // NOTE: auto-paging will create new slides, but skip above as _rId exists, BUT this is a new slide, so add rels!\n            if (target._rels.filter(rel => rel.rId === text.options.hyperlink._rId).length === 0) {\n                target._rels.push({\n                    type: SLIDE_OBJECT_TYPES.hyperlink,\n                    data: text.options.hyperlink.slide ? 'slide' : 'dummy',\n                    rId: text.options.hyperlink._rId,\n                    Target: encodeXmlEntities(text.options.hyperlink.url) || text.options.hyperlink.slide.toString(),\n                });\n            }\n        }\n    });\n}\n\n/**\n * PptxGenJS: Slide Class\n */\nclass Slide {\n    constructor(params) {\n        var _a;\n        this.addSlide = params.addSlide;\n        this.getSlide = params.getSlide;\n        this._name = `Slide ${params.slideNumber}`;\n        this._presLayout = params.presLayout;\n        this._rId = params.slideRId;\n        this._rels = [];\n        this._relsChart = [];\n        this._relsMedia = [];\n        this._setSlideNum = params.setSlideNum;\n        this._slideId = params.slideId;\n        this._slideLayout = params.slideLayout || null;\n        this._slideNum = params.slideNumber;\n        this._slideObjects = [];\n        /** NOTE: Slide Numbers: In order for Slide Numbers to function they need to be in all 3 files: master/layout/slide\n         * `defineSlideMaster` and `addNewSlide.slideNumber` will add {slideNumber} to `this.masterSlide` and `this.slideLayouts`\n         * so, lastly, add to the Slide now.\n         */\n        this._slideNumberProps = ((_a = this._slideLayout) === null || _a === void 0 ? void 0 : _a._slideNumberProps) ? this._slideLayout._slideNumberProps : null;\n    }\n    set bkgd(value) {\n        this._bkgd = value;\n        if (!this._background || !this._background.color) {\n            if (!this._background)\n                this._background = {};\n            if (typeof value === 'string')\n                this._background.color = value;\n        }\n    }\n    get bkgd() {\n        return this._bkgd;\n    }\n    set background(props) {\n        this._background = props;\n        // Add background (image data/path must be captured before `exportPresentation()` is called)\n        if (props)\n            addBackgroundDefinition(props, this);\n    }\n    get background() {\n        return this._background;\n    }\n    set color(value) {\n        this._color = value;\n    }\n    get color() {\n        return this._color;\n    }\n    set hidden(value) {\n        this._hidden = value;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    /**\n     * @type {SlideNumberProps}\n     */\n    set slideNumber(value) {\n        // NOTE: Slide Numbers: In order for Slide Numbers to function they need to be in all 3 files: master/layout/slide\n        this._slideNumberProps = value;\n        this._setSlideNum(value);\n    }\n    get slideNumber() {\n        return this._slideNumberProps;\n    }\n    get newAutoPagedSlides() {\n        return this._newAutoPagedSlides;\n    }\n    /**\n     * Add chart to Slide\n     * @param {CHART_NAME|IChartMulti[]} type - chart type\n     * @param {object[]} data - data object\n     * @param {IChartOpts} options - chart options\n     * @return {Slide} this Slide\n     */\n    addChart(type, data, options) {\n        // FUTURE: TODO-VERSION-4: Remove first arg - only take data and opts, with \"type\" required on opts\n        // Set `_type` on IChartOptsLib as its what is used as object is passed around\n        const optionsWithType = options || {};\n        optionsWithType._type = type;\n        addChartDefinition(this, type, data, options);\n        return this;\n    }\n    /**\n     * Add image to Slide\n     * @param {ImageProps} options - image options\n     * @return {Slide} this Slide\n     */\n    addImage(options) {\n        addImageDefinition(this, options);\n        return this;\n    }\n    /**\n     * Add media (audio/video) to Slide\n     * @param {MediaProps} options - media options\n     * @return {Slide} this Slide\n     */\n    addMedia(options) {\n        addMediaDefinition(this, options);\n        return this;\n    }\n    /**\n     * Add speaker notes to Slide\n     * @docs https://gitbrent.github.io/PptxGenJS/docs/speaker-notes.html\n     * @param {string} notes - notes to add to slide\n     * @return {Slide} this Slide\n     */\n    addNotes(notes) {\n        addNotesDefinition(this, notes);\n        return this;\n    }\n    /**\n     * Add shape to Slide\n     * @param {SHAPE_NAME} shapeName - shape name\n     * @param {ShapeProps} options - shape options\n     * @return {Slide} this Slide\n     */\n    addShape(shapeName, options) {\n        // NOTE: As of v3.1.0, <script> users are passing the old shape object from the shapes file (orig to the project)\n        // But React/TypeScript users are passing the shapeName from an enum, which is a simple string, so lets cast\n        // <script./> => `pptx.shapes.RECTANGLE` [string] \"rect\" ... shapeName['name'] = 'rect'\n        // TypeScript => `pptxgen.shapes.RECTANGLE` [string] \"rect\" ... shapeName = 'rect'\n        // let shapeNameDecode = typeof shapeName === 'object' && shapeName['name'] ? shapeName['name'] : shapeName\n        addShapeDefinition(this, shapeName, options);\n        return this;\n    }\n    /**\n     * Add table to Slide\n     * @param {TableRow[]} tableRows - table rows\n     * @param {TableProps} options - table options\n     * @return {Slide} this Slide\n     */\n    addTable(tableRows, options) {\n        // FUTURE: we pass `this` - we dont need to pass layouts - they can be read from this!\n        this._newAutoPagedSlides = addTableDefinition(this, tableRows, options, this._slideLayout, this._presLayout, this.addSlide, this.getSlide);\n        return this;\n    }\n    /**\n     * Add text to Slide\n     * @param {string|TextProps[]} text - text string or complex object\n     * @param {TextPropsOptions} options - text options\n     * @return {Slide} this Slide\n     */\n    addText(text, options) {\n        const textParam = typeof text === 'string' || typeof text === 'number' ? [{ text, options }] : text;\n        addTextDefinition(this, textParam, options, false);\n        return this;\n    }\n}\n\n/**\n * PptxGenJS: Chart Generation\n */\n/**\n * Based on passed data, creates Excel Worksheet that is used as a data source for a chart.\n * @param {ISlideRelChart} chartObject - chart object\n * @param {JSZip} zip - file that the resulting XLSX should be added to\n * @return {Promise} promise of generating the XLSX file\n */\nfunction createExcelWorksheet(chartObject, zip) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const data = chartObject.data;\n        return yield new Promise((resolve, reject) => {\n            var _a, _b;\n            const zipExcel = new JSZip();\n            const intBubbleCols = (data.length - 1) * 2 + 1; // 1 for \"X-Values\", then 2 for every Y-Axis\n            const IS_MULTI_CAT_AXES = ((_b = (_a = data[0]) === null || _a === void 0 ? void 0 : _a.labels) === null || _b === void 0 ? void 0 : _b.length) > 1;\n            // A: Add folders\n            zipExcel.folder('_rels');\n            zipExcel.folder('docProps');\n            zipExcel.folder('xl/_rels');\n            zipExcel.folder('xl/tables');\n            zipExcel.folder('xl/theme');\n            zipExcel.folder('xl/worksheets');\n            zipExcel.folder('xl/worksheets/_rels');\n            // B: Add core contents\n            {\n                zipExcel.file('[Content_Types].xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">' +\n                    '  <Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\"/>' +\n                    '  <Default Extension=\"xml\" ContentType=\"application/xml\"/>' +\n                    '  <Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\"/>' +\n                    '  <Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\"/>' +\n                    '  <Override PartName=\"/xl/theme/theme1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.theme+xml\"/>' +\n                    '  <Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>' +\n                    '  <Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>' +\n                    '  <Override PartName=\"/xl/tables/table1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml\"/>' +\n                    '  <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\"/>' +\n                    '  <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\"/>' +\n                    '</Types>\\n');\n                zipExcel.file('_rels/.rels', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n                    '<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>' +\n                    '<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>' +\n                    '<Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>' +\n                    '</Relationships>\\n');\n                zipExcel.file('docProps/app.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">' +\n                    '<Application>Microsoft Macintosh Excel</Application>' +\n                    '<DocSecurity>0</DocSecurity>' +\n                    '<ScaleCrop>false</ScaleCrop>' +\n                    '<HeadingPairs><vt:vector size=\"2\" baseType=\"variant\"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs>' +\n                    '<TitlesOfParts><vt:vector size=\"1\" baseType=\"lpstr\"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts>' +\n                    '<Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion>' +\n                    '</Properties>\\n');\n                zipExcel.file('docProps/core.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">' +\n                    '<dc:creator>PptxGenJS</dc:creator>' +\n                    '<cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy>' +\n                    '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' +\n                    new Date().toISOString() +\n                    '</dcterms:created>' +\n                    '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' +\n                    new Date().toISOString() +\n                    '</dcterms:modified>' +\n                    '</cp:coreProperties>');\n                zipExcel.file('xl/_rels/workbook.xml.rels', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n                    '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n                    '<Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\"/>' +\n                    '<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\" Target=\"theme/theme1.xml\"/>' +\n                    '<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet1.xml\"/>' +\n                    '<Relationship Id=\"rId4\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\"/>' +\n                    '</Relationships>');\n                zipExcel.file('xl/styles.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><styleSheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"><numFmts count=\"1\"><numFmt numFmtId=\"0\" formatCode=\"General\"/></numFmts><fonts count=\"4\"><font><sz val=\"9\"/><color indexed=\"8\"/><name val=\"Geneva\"/></font><font><sz val=\"9\"/><color indexed=\"8\"/><name val=\"Geneva\"/></font><font><sz val=\"10\"/><color indexed=\"8\"/><name val=\"Geneva\"/></font><font><sz val=\"18\"/><color indexed=\"8\"/>' +\n                    '<name val=\"Arial\"/></font></fonts><fills count=\"2\"><fill><patternFill patternType=\"none\"/></fill><fill><patternFill patternType=\"gray125\"/></fill></fills><borders count=\"1\"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count=\"0\"/><tableStyles count=\"0\"/><colors><indexedColors><rgbColor rgb=\"ff000000\"/><rgbColor rgb=\"ffffffff\"/><rgbColor rgb=\"ffff0000\"/><rgbColor rgb=\"ff00ff00\"/><rgbColor rgb=\"ff0000ff\"/>' +\n                    '<rgbColor rgb=\"ffffff00\"/><rgbColor rgb=\"ffff00ff\"/><rgbColor rgb=\"ff00ffff\"/><rgbColor rgb=\"ff000000\"/><rgbColor rgb=\"ffffffff\"/><rgbColor rgb=\"ff878787\"/><rgbColor rgb=\"fff9f9f9\"/></indexedColors></colors></styleSheet>\\n');\n                zipExcel.file('xl/theme/theme1.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\"><a:themeElements><a:clrScheme name=\"Office\"><a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1><a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1><a:dk2><a:srgbClr val=\"44546A\"/></a:dk2><a:lt2><a:srgbClr val=\"E7E6E6\"/></a:lt2><a:accent1><a:srgbClr val=\"4472C4\"/></a:accent1><a:accent2><a:srgbClr val=\"ED7D31\"/></a:accent2><a:accent3><a:srgbClr val=\"A5A5A5\"/></a:accent3><a:accent4><a:srgbClr val=\"FFC000\"/></a:accent4><a:accent5><a:srgbClr val=\"5B9BD5\"/></a:accent5><a:accent6><a:srgbClr val=\"70AD47\"/></a:accent6><a:hlink><a:srgbClr val=\"0563C1\"/></a:hlink><a:folHlink><a:srgbClr val=\"954F72\"/></a:folHlink></a:clrScheme><a:fontScheme name=\"Office\"><a:majorFont><a:latin typeface=\"Calibri Light\" panose=\"020F0302020204030204\"/><a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\"Yu Gothic Light\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\"DengXian Light\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Times New Roman\"/><a:font script=\"Hebr\" typeface=\"Times New Roman\"/><a:font script=\"Thai\" typeface=\"Tahoma\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"MoolBoran\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Times New Roman\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/></a:majorFont><a:minorFont><a:latin typeface=\"Calibri\" panose=\"020F0502020204030204\"/><a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\"Yu Gothic\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\"DengXian\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Arial\"/><a:font script=\"Hebr\" typeface=\"Arial\"/><a:font script=\"Thai\" typeface=\"Tahoma\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"DaunPenh\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Arial\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/></a:minorFont></a:fontScheme><a:fmtScheme name=\"Office\"><a:fillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"110000\"/><a:satMod val=\"105000\"/><a:tint val=\"67000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"103000\"/><a:tint val=\"73000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"109000\"/><a:tint val=\"81000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:satMod val=\"103000\"/><a:lumMod val=\"102000\"/><a:tint val=\"94000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:satMod val=\"110000\"/><a:lumMod val=\"100000\"/><a:shade val=\"100000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"99000\"/><a:satMod val=\"120000\"/><a:shade val=\"78000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w=\"6350\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"12700\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"19050\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad=\"57150\" dist=\"19050\" dir=\"5400000\" algn=\"ctr\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"63000\"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:solidFill><a:schemeClr val=\"phClr\"><a:tint val=\"95000\"/><a:satMod val=\"170000\"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"93000\"/><a:satMod val=\"150000\"/><a:shade val=\"98000\"/><a:lumMod val=\"102000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:tint val=\"98000\"/><a:satMod val=\"130000\"/><a:shade val=\"90000\"/><a:lumMod val=\"103000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"63000\"/><a:satMod val=\"120000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri=\"{05A4C25C-085E-4340-85A3-A5531E510DB2}\"><thm15:themeFamily xmlns:thm15=\"http://schemas.microsoft.com/office/thememl/2012/main\" name=\"Office Theme\" id=\"{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}\" vid=\"{4A3C46E8-61CC-4603-A589-7422A47A8E4A}\"/></a:ext></a:extLst></a:theme>');\n                zipExcel.file('xl/workbook.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n                    '<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x15\" xmlns:x15=\"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main\">' +\n                    '<fileVersion appName=\"xl\" lastEdited=\"7\" lowestEdited=\"6\" rupBuild=\"10507\"/>' +\n                    '<workbookPr/>' +\n                    '<bookViews><workbookView xWindow=\"0\" yWindow=\"500\" windowWidth=\"20960\" windowHeight=\"15960\"/></bookViews>' +\n                    '<sheets><sheet name=\"Sheet1\" sheetId=\"1\" r:id=\"rId1\"/></sheets>' +\n                    '<calcPr calcId=\"0\" concurrentCalc=\"0\"/>' +\n                    '</workbook>\\n');\n                zipExcel.file('xl/worksheets/_rels/sheet1.xml.rels', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n                    '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n                    '<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table\" Target=\"../tables/table1.xml\"/>' +\n                    '</Relationships>\\n');\n            }\n            // sharedStrings.xml\n            {\n                // A: Start XML\n                let strSharedStrings = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>';\n                if (chartObject.opts._type === CHART_TYPE.BUBBLE || chartObject.opts._type === CHART_TYPE.BUBBLE3D) {\n                    strSharedStrings += `<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${intBubbleCols}\" uniqueCount=\"${intBubbleCols}\">`;\n                }\n                else if (chartObject.opts._type === CHART_TYPE.SCATTER) {\n                    strSharedStrings += `<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${data.length}\" uniqueCount=\"${data.length}\">`;\n                }\n                else if (IS_MULTI_CAT_AXES) {\n                    let totCount = data.length;\n                    data[0].labels.forEach(arrLabel => (totCount += arrLabel.filter(label => label && label !== '').length));\n                    strSharedStrings += `<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${totCount}\" uniqueCount=\"${totCount}\">`;\n                    strSharedStrings += '<si><t/></si>';\n                }\n                else {\n                    // series names + all labels of one series + number of label groups (data.labels.length) of one series (i.e. how many times the blank string is used)\n                    const totCount = data.length + data[0].labels.length * data[0].labels[0].length + data[0].labels.length;\n                    // series names + labels of one series + blank string (same for all label groups)\n                    const unqCount = data.length + data[0].labels.length * data[0].labels[0].length + 1;\n                    // start `sst`\n                    strSharedStrings += `<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${totCount}\" uniqueCount=\"${unqCount}\">`;\n                    // B: Add 'blank' for A1, B1, ..., of every label group inside data[n].labels\n                    strSharedStrings += '<si><t xml:space=\"preserve\"></t></si>';\n                }\n                // C: Add `name`/Series\n                if (chartObject.opts._type === CHART_TYPE.BUBBLE || chartObject.opts._type === CHART_TYPE.BUBBLE3D) {\n                    data.forEach((objData, idx) => {\n                        if (idx === 0)\n                            strSharedStrings += '<si><t>X-Axis</t></si>';\n                        else {\n                            strSharedStrings += `<si><t>${encodeXmlEntities(objData.name || `Y-Axis${idx}`)}</t></si>`;\n                            strSharedStrings += `<si><t>${encodeXmlEntities(`Size${idx}`)}</t></si>`;\n                        }\n                    });\n                }\n                else {\n                    data.forEach(objData => {\n                        strSharedStrings += `<si><t>${encodeXmlEntities((objData.name || ' ').replace('X-Axis', 'X-Values'))}</t></si>`;\n                    });\n                }\n                // D: Add `labels`/Categories\n                if (chartObject.opts._type !== CHART_TYPE.BUBBLE && chartObject.opts._type !== CHART_TYPE.BUBBLE3D && chartObject.opts._type !== CHART_TYPE.SCATTER) {\n                    // Use forEach backwards & check for '' to support multi-cat axes\n                    data[0].labels\n                        .slice()\n                        .reverse()\n                        .forEach(labelsGroup => {\n                        labelsGroup\n                            .filter(label => label && label !== '')\n                            .forEach(label => {\n                            strSharedStrings += `<si><t>${encodeXmlEntities(label)}</t></si>`;\n                        });\n                    });\n                }\n                // DONE:\n                strSharedStrings += '</sst>\\n';\n                zipExcel.file('xl/sharedStrings.xml', strSharedStrings);\n            }\n            // tables/table1.xml\n            {\n                let strTableXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>';\n                if (chartObject.opts._type === CHART_TYPE.BUBBLE || chartObject.opts._type === CHART_TYPE.BUBBLE3D) {\n                    strTableXml += `<table xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" id=\"1\" name=\"Table1\" displayName=\"Table1\" ref=\"A1:${getExcelColName(intBubbleCols)}${intBubbleCols}\" totalsRowShown=\"0\">`;\n                    strTableXml += `<tableColumns count=\"${intBubbleCols}\">`;\n                    let idxColLtr = 1;\n                    data.forEach((obj, idx) => {\n                        if (idx === 0) {\n                            strTableXml += `<tableColumn id=\"${idx + 1}\" name=\"X-Values\"/>`;\n                        }\n                        else {\n                            strTableXml += `<tableColumn id=\"${idx + idxColLtr}\" name=\"${obj.name}\"/>`;\n                            idxColLtr++;\n                            strTableXml += `<tableColumn id=\"${idx + idxColLtr}\" name=\"Size${idx}\"/>`;\n                        }\n                    });\n                }\n                else if (chartObject.opts._type === CHART_TYPE.SCATTER) {\n                    strTableXml += `<table xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" id=\"1\" name=\"Table1\" displayName=\"Table1\" ref=\"A1:${getExcelColName(data.length)}${data[0].values.length + 1}\" totalsRowShown=\"0\">`;\n                    strTableXml += `<tableColumns count=\"${data.length}\">`;\n                    data.forEach((_obj, idx) => {\n                        strTableXml += `<tableColumn id=\"${idx + 1}\" name=\"${idx === 0 ? 'X-Values' : 'Y-Value '}${idx}\"/>`;\n                    });\n                }\n                else {\n                    strTableXml += `<table xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" id=\"1\" name=\"Table1\" displayName=\"Table1\" ref=\"A1:${getExcelColName(data.length + data[0].labels.length)}${data[0].labels[0].length + 1}'\" totalsRowShown=\"0\">`;\n                    strTableXml += `<tableColumns count=\"${data.length + data[0].labels.length}\">`;\n                    data[0].labels.forEach((_labelsGroup, idx) => {\n                        strTableXml += `<tableColumn id=\"${idx + 1}\" name=\"Column${idx + 1}\"/>`;\n                    });\n                    data.forEach((obj, idx) => {\n                        strTableXml += `<tableColumn id=\"${idx + data[0].labels.length + 1}\" name=\"${encodeXmlEntities(obj.name)}\"/>`;\n                    });\n                }\n                strTableXml += '</tableColumns>';\n                strTableXml += '<tableStyleInfo showFirstColumn=\"0\" showLastColumn=\"0\" showRowStripes=\"1\" showColumnStripes=\"0\"/>';\n                strTableXml += '</table>';\n                zipExcel.file('xl/tables/table1.xml', strTableXml);\n            }\n            // worksheets/sheet1.xml\n            {\n                let strSheetXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>';\n                strSheetXml +=\n                    '<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">';\n                if (chartObject.opts._type === CHART_TYPE.BUBBLE || chartObject.opts._type === CHART_TYPE.BUBBLE3D) {\n                    strSheetXml += `<dimension ref=\"A1:${getExcelColName(intBubbleCols)}${data[0].values.length + 1}\"/>`;\n                }\n                else if (chartObject.opts._type === CHART_TYPE.SCATTER) {\n                    strSheetXml += `<dimension ref=\"A1:${getExcelColName(data.length)}${data[0].values.length + 1}\"/>`;\n                }\n                else {\n                    strSheetXml += `<dimension ref=\"A1:${getExcelColName(data.length + 1)}${data[0].values.length + 1}\"/>`;\n                }\n                strSheetXml += '<sheetViews><sheetView tabSelected=\"1\" workbookViewId=\"0\"><selection activeCell=\"B1\" sqref=\"B1\"/></sheetView></sheetViews>';\n                strSheetXml += '<sheetFormatPr baseColWidth=\"10\" defaultRowHeight=\"16\"/>';\n                if (chartObject.opts._type === CHART_TYPE.BUBBLE || chartObject.opts._type === CHART_TYPE.BUBBLE3D) {\n                    // UNUSED: strSheetXml += `<cols><col min=\"1\" max=\"${data.length}\" width=\"11\" customWidth=\"1\" /></cols>`\n                    /* EX: INPUT: `data`\n                    [\n                        { name:'X-Axis'  , values:[10,11,12,13,14,15,16,17,18,19,20] },\n                        { name:'Y-Axis 1', values:[ 1, 6, 7, 8, 9], sizes:[ 4, 5, 6, 7, 8] },\n                        { name:'Y-Axis 2', values:[33,32,42,53,63], sizes:[11,12,13,14,15] }\n                    ];\n                    */\n                    /* EX: OUTPUT: bubbleChart Worksheet:\n                        -|----A-----|------B-----|------C-----|------D-----|------E-----|\n                        1| X-Values | Y-Values 1 | Y-Sizes 1  | Y-Values 2 | Y-Sizes 2  |\n                        2|    11    |     22     |      4     |     33     |      8     |\n                        -|----------|------------|------------|------------|------------|\n                    */\n                    strSheetXml += '<sheetData>';\n                    // A: Create header row first (NOTE: Start at index=1 as headers cols start with 'B')\n                    strSheetXml += `<row r=\"1\" spans=\"1:${intBubbleCols}\">`;\n                    strSheetXml += '<c r=\"A1\" t=\"s\"><v>0</v></c>';\n                    for (let idx = 1; idx < intBubbleCols; idx++) {\n                        strSheetXml += `<c r=\"${getExcelColName(idx + 1)}1\" t=\"s\"><v>${idx}</v></c>`; // NOTE: add `t=\"s\"` for label cols!\n                    }\n                    strSheetXml += '</row>';\n                    // B: Add row for each X-Axis value (Y-Axis* value is optional)\n                    data[0].values.forEach((val, idx) => {\n                        // Leading col is reserved for the 'X-Axis' value, so hard-code it, then loop over col values\n                        strSheetXml += `<row r=\"${idx + 2}\" spans=\"1:${intBubbleCols}\">`;\n                        strSheetXml += `<c r=\"A${idx + 2}\"><v>${val}</v></c>`;\n                        // Add Y-Axis 1->N (idy=0 = Xaxis)\n                        let idxColLtr = 2;\n                        for (let idy = 1; idy < data.length; idy++) {\n                            // y-value\n                            strSheetXml += `<c r=\"${getExcelColName(idxColLtr)}${idx + 2}\"><v>${data[idy].values[idx] || ''}</v></c>`;\n                            idxColLtr++;\n                            // y-size\n                            strSheetXml += `<c r=\"${getExcelColName(idxColLtr)}${idx + 2}\"><v>${data[idy].sizes[idx] || ''}</v></c>`;\n                            idxColLtr++;\n                        }\n                        strSheetXml += '</row>';\n                    });\n                }\n                else if (chartObject.opts._type === CHART_TYPE.SCATTER) {\n                    /* UNUSED:\n                        strSheetXml += '<cols>'\n                        strSheetXml += '<col min=\"1\" max=\"' + data.length + '\" width=\"11\" customWidth=\"1\" />'\n                        //data.forEach((obj,idx)=>{ strSheetXml += '<col min=\"'+(idx+1)+'\" max=\"'+(idx+1)+'\" width=\"11\" customWidth=\"1\" />' });\n                        strSheetXml += '</cols>'\n                    */\n                    /* EX: INPUT: `data`\n                        [\n                            { name:'X-AxisA', values:[ 1, 2, 3, 4, 5] },\n                            { name:'Y-AxisB', values:[ 2,22,42,52,62] },\n                            { name:'Y-AxisC', values:[ 3,33,43,53,63] }\n                        ];\n                    */\n                    /* EX: OUTPUT: sheet1.xml:\n                        -|----A----|----B----|----C----|\n                        1| X-AxisA | Y-AxisB | Y-AxisC |\n                        2|    1    |    2    |    3    |\n                        -|---------|---------|---------|\n                    */\n                    strSheetXml += '<sheetData>';\n                    // A: Create header row first (every `name` row provided)\n                    strSheetXml += `<row r=\"1\" spans=\"1:${data.length}\">`;\n                    for (let idx = 0; idx < data.length; idx++) {\n                        strSheetXml += `<c r=\"${getExcelColName(idx + 1)}1\" t=\"s\"><v>${idx}</v></c>`; // NOTE: add `t=\"s\"` for label cols!\n                    }\n                    strSheetXml += '</row>';\n                    // B: Add row for each X-Axis value (Y-Axis* value is optional)\n                    data[0].values.forEach((val, idx) => {\n                        // Leading col is reserved for the 'X-Axis' value, so hard-code it, then loop over col values\n                        strSheetXml += `<row r=\"${idx + 2}\" spans=\"1:${data.length}\">`;\n                        strSheetXml += `<c r=\"A${idx + 2}\"><v>${val}</v></c>`;\n                        // Add Y-Axis 1->N\n                        for (let idy = 1; idy < data.length; idy++) {\n                            strSheetXml += `<c r=\"${getExcelColName(idy + 1)}${idx + 2}\"><v>${data[idy].values[idx] || data[idy].values[idx] === 0 ? data[idy].values[idx] : ''}</v></c>`;\n                        }\n                        strSheetXml += '</row>';\n                    });\n                }\n                else {\n                    // strSheetXml += '<cols><col min=\"1\" max=\"1\" width=\"11\" customWidth=\"1\" /></cols>'\n                    strSheetXml += '<sheetData>';\n                    /* EX: INPUT: `data`\n                        [\n                            { name:'Red', labels:['Jan..May-17'], values:[11,13,14,15,16] },\n                            { name:'Amb', labels:['Jan..May-17'], values:[22, 6, 7, 8, 9] },\n                            { name:'Grn', labels:['Jan..May-17'], values:[33,32,42,53,63] }\n                        ];\n                    */\n                    /* EX: OUTPUT: lineChart Worksheet:\n                        -|---A---|--B--|--C--|--D--|\n                        1|       | Red | Amb | Grn |\n                        2|Jan-17 |   11|   22|   33|\n                        3|Feb-17 |   55|   43|   70|\n                        4|Mar-17 |   56|  143|   99|\n                        5|Apr-17 |   65|    3|  120|\n                        6|May-17 |   75|   93|  170|\n                        -|-------|-----|-----|-----|\n                    */\n                    if (!IS_MULTI_CAT_AXES) {\n                        // A: Create header row first\n                        strSheetXml += `<row r=\"1\" spans=\"1:${data.length + data[0].labels.length}\">`;\n                        data[0].labels.forEach((_labelsGroup, idx) => {\n                            strSheetXml += `<c r=\"${getExcelColName(idx + 1)}1\" t=\"s\"><v>0</v></c>`;\n                        });\n                        for (let idx = 0; idx < data.length; idx++) {\n                            strSheetXml += `<c r=\"${getExcelColName(idx + 1 + data[0].labels.length)}1\" t=\"s\"><v>${idx + 1}</v></c>`; // NOTE: use `t=\"s\"` for label cols!\n                        }\n                        strSheetXml += '</row>';\n                        // B: Add data row(s) for each category\n                        data[0].labels[0].forEach((_cat, idx) => {\n                            strSheetXml += `<row r=\"${idx + 2}\" spans=\"1:${data.length + data[0].labels.length}\">`;\n                            // Leading cols are reserved for the label groups\n                            for (let idx2 = data[0].labels.length - 1; idx2 >= 0; idx2--) {\n                                strSheetXml += `<c r=\"${getExcelColName(data[0].labels.length - idx2)}${idx + 2}\" t=\"s\">`;\n                                strSheetXml += `<v>${data.length + idx + 1}</v>`;\n                                strSheetXml += '</c>';\n                            }\n                            for (let idy = 0; idy < data.length; idy++) {\n                                strSheetXml += `<c r=\"${getExcelColName(data[0].labels.length + idy + 1)}${idx + 2}\"><v>${data[idy].values[idx] || ''}</v></c>`;\n                            }\n                            strSheetXml += '</row>';\n                        });\n                    }\n                    else {\n                        // A: create header row\n                        strSheetXml += `<row r=\"1\" spans=\"1:${data.length + data[0].labels.length}\">`;\n                        for (let idx = 0; idx < data[0].labels.length; idx++) {\n                            strSheetXml += `<c r=\"${getExcelColName(idx + 1)}1\" t=\"s\"><v>0</v></c>`;\n                        }\n                        for (let idx = data[0].labels.length - 1; idx < data.length + data[0].labels.length - 1; idx++) {\n                            strSheetXml += `<c r=\"${getExcelColName(idx + data[0].labels.length)}1\" t=\"s\"><v>${idx}</v></c>`; // NOTE: use `t=\"s\"` for label cols!\n                        }\n                        strSheetXml += '</row>';\n                        // FIXME: 20220524 (v3.11.0)\n                        /**\n                         * @example INPUT\n                         * const LABELS = [\n                         *   [\"Gear\", \"Berg\", \"Motr\", \"Swch\", \"Plug\", \"Cord\", \"Pump\", \"Leak\", \"Seal\"],\n                         *   [\"Mech\", \"\", \"\", \"Elec\", \"\", \"\", \"Hydr\", \"\", \"\"],\n                         * ];\n                         * const arrDataRegions = [\n                         *   { name: \"West\", labels: LABELS, values: [11, 8, 3, 0, 11, 3, 0, 0, 0] },\n                         *   { name: \"Ctrl\", labels: LABELS, values: [0, 11, 6, 19, 12, 5, 0, 0, 0] },\n                         *   { name: \"East\", labels: LABELS, values: [0, 3, 2, 0, 0, 0, 4, 3, 1] },\n                         * ];\n                         */\n                        /**\n                         * @example OUTPUT EXCEL SHEET\n                         * |/|---A--|---B--|---C--|---D--|---E--|\n                         * |1|      |      | West | Ctrl | East |\n                         * |2| Mech | Gear |  ##  |  ##  |  ##  |\n                         * |3|      | Brng |  ##  |  ##  |  ##  |\n                         * |4|      | Motr |  ##  |  ##  |  ##  |\n                         * |5| Elec | Swch |  ##  |  ##  |  ##  |\n                         * |6|      | Plug |  ##  |  ##  |  ##  |\n                         * |7|      | Cord |  ##  |  ##  |  ##  |\n                         * |8| Hydr | Pump |  ##  |  ##  |  ##  |\n                         * |9|      | Leak |  ##  |  ##  |  ##  |\n                         *|10|      | Seal |  ##  |  ##  |  ##  |\n                         */\n                        /**\n                         * @example OUTPUT EXCEL SHEET XML\n                         * <row r=\"1\" spans=\"1:5\">\n                         *   <c r=\"A1\" t=\"s\"><v>0</v></c>\n                         *   <c r=\"B1\" t=\"s\"><v>0</v></c>\n                         *   <c r=\"C1\" t=\"s\"><v>1</v></c>\n                         *   <c r=\"D1\" t=\"s\"><v>2</v></c>\n                         *   <c r=\"E1\" t=\"s\"><v>3</v></c>\n                         * </row>\n                         * <row r=\"2\" spans=\"1:5\">\n                         *   <c r=\"A2\" t=\"s\"><v>4</v></c>\n                         *   <c r=\"B2\" t=\"s\"><v>7</v></c>\n                         *   <c r=\"C2\"      ><v>###</v></c>\n                         * </row>\n                         * <row r=\"3\" spans=\"1:5\">\n                         *   <c r=\"A3\" />\n                         *   <c r=\"B3\" t=\"s\"><v>8</v></c>\n                         *   <c r=\"C3\"      ><v>###</v></c>\n                         * </row>\n                         */\n                        /**\n                         * @example SHARED-STRINGS\n                         * 1=West, 2=Ctrl, 3=East, 4=Mech, 5=Elec, 6=Mydr, 7=Gear, 8=Brng, [...], 15=Seal\n                         */\n                        // B: Add data row(s) for each category\n                        /**\n                         * const LABELS = [\n                         *   [\"Gear\", \"Berg\", \"Motr\", \"Swch\", \"Plug\", \"Cord\", \"Pump\", \"Leak\", \"Seal\"],\n                         *   [\"Mech\",     \"\",     \"\", \"Elec\",     \"\",     \"\", \"Hydr\",     \"\",     \"\"],\n                         *   [\"2010\",     \"\",     \"\",     \"\",     \"\",     \"\",     \"\",     \"\",     \"\"],\n                         * ];\n                         */\n                        const TOT_SER = data.length;\n                        const TOT_CAT = data[0].labels[0].length;\n                        const TOT_LVL = data[0].labels.length;\n                        // Iterate across labels/cats as these are the <row>'s\n                        for (let idx = 0; idx < TOT_CAT; idx++) {\n                            // A: start row\n                            strSheetXml += `<row r=\"${idx + 2}\" spans=\"1:${TOT_SER + TOT_LVL}\">`;\n                            // WIP: FIXME:\n                            // B: add a col for each label/cat\n                            let totLabels = TOT_SER;\n                            const revLabelGroups = data[0].labels.slice().reverse();\n                            revLabelGroups.forEach((labelsGroup, idy) => {\n                                /**\n                                 * const LABELS_REVERSED = [\n                                 *   [\"Mech\",     \"\",     \"\", \"Elec\",     \"\",     \"\", \"Hydr\",     \"\",     \"\"],\n                                 *   [\"Gear\", \"Berg\", \"Motr\", \"Swch\", \"Plug\", \"Cord\", \"Pump\", \"Leak\", \"Seal\"],\n                                 * ];\n                                 */\n                                const colLabel = labelsGroup[idx];\n                                if (colLabel) {\n                                    const totGrpLbls = idy === 0 ? 1 : revLabelGroups[idy - 1].filter(label => label && label !== '').length; // get unique label so we can add to get proper shared-string #\n                                    totLabels += totGrpLbls;\n                                    strSheetXml += `<c r=\"${getExcelColName(idx + 1 + idy)}${idx + 2}\" t=\"s\"><v>${totLabels}</v></c>`;\n                                }\n                            });\n                            // WIP: FIXME:\n                            // C: add a col for each data value\n                            for (let idy = 0; idy < TOT_SER; idy++) {\n                                strSheetXml += `<c r=\"${getExcelColName(TOT_LVL + idy + 1)}${idx + 2}\"><v>${data[idy].values[idx] || 0}</v></c>`;\n                            }\n                            // D: Done\n                            strSheetXml += '</row>';\n                        }\n                        // console.log(strSheetXml) // WIP: CHECK:\n                        // console.log(`---CHECK ABOVE---------------------`)\n                    }\n                }\n                strSheetXml += '</sheetData>';\n                /* FIXME: support multi-level\n                if (IS_MULTI_CAT_AXES) {\n                    strSheetXml += '<mergeCells count=\"3\">'\n                    strSheetXml += ' <mergeCell ref=\"A2:A4\"/>'\n                    strSheetXml += ' <mergeCell ref=\"A10:A12\"/>'\n                    strSheetXml += ' <mergeCell ref=\"A5:A9\"/>'\n                    strSheetXml += '</mergeCells>'\n                }\n                */\n                strSheetXml += '<pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\"/>';\n                // Link the `table1.xml` file to define an actual Table in Excel\n                // NOTE: This only works with scatter charts - all others give a \"cannot find linked file\" error\n                // ....: Since we dont need the table anyway (chart data can be edited/range selected, etc.), just dont use this\n                // ....: Leaving this so nobody foolishly attempts to add this in the future\n                // strSheetXml += '<tableParts count=\"1\"><tablePart r:id=\"rId1\"/></tableParts>'\n                strSheetXml += '</worksheet>\\n';\n                zipExcel.file('xl/worksheets/sheet1.xml', strSheetXml);\n            }\n            // C: Add XLSX to PPTX export\n            zipExcel\n                .generateAsync({ type: 'base64' })\n                .then(content => {\n                // 1: Create the embedded Excel worksheet with labels and data\n                zip.file(`ppt/embeddings/Microsoft_Excel_Worksheet${chartObject.globalId}.xlsx`, content, { base64: true });\n                // 2: Create the chart.xml and rel files\n                zip.file('ppt/charts/_rels/' + chartObject.fileName + '.rels', '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n                    '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">' +\n                    `<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/package\" Target=\"../embeddings/Microsoft_Excel_Worksheet${chartObject.globalId}.xlsx\"/>` +\n                    '</Relationships>');\n                zip.file(`ppt/charts/${chartObject.fileName}`, makeXmlCharts(chartObject));\n                // 3: Done\n                resolve('');\n            })\n                .catch(strErr => {\n                reject(strErr);\n            });\n        });\n    });\n}\n/**\n * Main entry point method for create charts\n * @see: http://www.datypic.com/sc/ooxml/s-dml-chart.xsd.html\n * @param {ISlideRelChart} rel - chart object\n * @return {string} XML\n */\nfunction makeXmlCharts(rel) {\n    var _a, _b, _c, _d;\n    let strXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>';\n    let usesSecondaryValAxis = false;\n    // STEP 1: Create chart\n    {\n        // CHARTSPACE: BEGIN vvv\n        strXml +=\n            '<c:chartSpace xmlns:c=\"http://schemas.openxmlformats.org/drawingml/2006/chart\" xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">';\n        strXml += '<c:date1904 val=\"0\"/>'; // ppt defaults to 1904 dates, excel to 1900\n        strXml += `<c:roundedCorners val=\"${rel.opts.chartArea.roundedCorners ? '1' : '0'}\"/>`;\n        strXml += '<c:chart>';\n        // OPTION: Title\n        if (rel.opts.showTitle) {\n            strXml += genXmlTitle({\n                title: rel.opts.title || 'Chart Title',\n                color: rel.opts.titleColor,\n                fontFace: rel.opts.titleFontFace,\n                fontSize: rel.opts.titleFontSize || DEF_FONT_TITLE_SIZE,\n                titleAlign: rel.opts.titleAlign,\n                titleBold: rel.opts.titleBold,\n                titlePos: rel.opts.titlePos,\n                titleRotate: rel.opts.titleRotate,\n            }, rel.opts.x, rel.opts.y);\n            strXml += '<c:autoTitleDeleted val=\"0\"/>';\n        }\n        else {\n            // NOTE: Add autoTitleDeleted tag in else to prevent default creation of chart title even when showTitle is set to false\n            strXml += '<c:autoTitleDeleted val=\"1\"/>';\n        }\n        /** Add 3D view tag\n         * @see: https://c-rex.net/projects/samples/ooxml/e1/Part4/OOXML_P4_DOCX_perspective_topic_ID0E6BUQB.html\n         */\n        if (rel.opts._type === CHART_TYPE.BAR3D) {\n            strXml += `<c:view3D><c:rotX val=\"${rel.opts.v3DRotX}\"/><c:rotY val=\"${rel.opts.v3DRotY}\"/><c:rAngAx val=\"${!rel.opts.v3DRAngAx ? 0 : 1}\"/><c:perspective val=\"${rel.opts.v3DPerspective}\"/></c:view3D>`;\n        }\n        strXml += '<c:plotArea>';\n        // IMPORTANT: Dont specify layout to enable auto-fit: PPT does a great job maximizing space with all 4 TRBL locations\n        if (rel.opts.layout) {\n            strXml += '<c:layout>';\n            strXml += ' <c:manualLayout>';\n            strXml += '  <c:layoutTarget val=\"inner\" />';\n            strXml += '  <c:xMode val=\"edge\" />';\n            strXml += '  <c:yMode val=\"edge\" />';\n            strXml += '  <c:x val=\"' + (rel.opts.layout.x || 0) + '\" />';\n            strXml += '  <c:y val=\"' + (rel.opts.layout.y || 0) + '\" />';\n            strXml += '  <c:w val=\"' + (rel.opts.layout.w || 1) + '\" />';\n            strXml += '  <c:h val=\"' + (rel.opts.layout.h || 1) + '\" />';\n            strXml += ' </c:manualLayout>';\n            strXml += '</c:layout>';\n        }\n        else {\n            strXml += '<c:layout/>';\n        }\n    }\n    // A: Create Chart XML -----------------------------------------------------------\n    if (Array.isArray(rel.opts._type)) {\n        rel.opts._type.forEach(type => {\n            // TODO: FIXME: theres `options` on chart rels??\n            const options = Object.assign(Object.assign({}, rel.opts), type.options);\n            // let options: IChartOptsLib = { type: type.type, }\n            const valAxisId = options.secondaryValAxis ? AXIS_ID_VALUE_SECONDARY : AXIS_ID_VALUE_PRIMARY;\n            const catAxisId = options.secondaryCatAxis ? AXIS_ID_CATEGORY_SECONDARY : AXIS_ID_CATEGORY_PRIMARY;\n            usesSecondaryValAxis = usesSecondaryValAxis || options.secondaryValAxis;\n            strXml += makeChartType(type.type, type.data, options, valAxisId, catAxisId);\n        });\n    }\n    else {\n        strXml += makeChartType(rel.opts._type, rel.data, rel.opts, AXIS_ID_VALUE_PRIMARY, AXIS_ID_CATEGORY_PRIMARY);\n    }\n    // B: Axes -----------------------------------------------------------\n    if (rel.opts._type !== CHART_TYPE.PIE && rel.opts._type !== CHART_TYPE.DOUGHNUT) {\n        // Param check\n        if (rel.opts.valAxes && rel.opts.valAxes.length > 1 && !usesSecondaryValAxis) {\n            throw new Error('Secondary axis must be used by one of the multiple charts');\n        }\n        if (rel.opts.catAxes) {\n            if (!rel.opts.valAxes || rel.opts.valAxes.length !== rel.opts.catAxes.length) {\n                throw new Error('There must be the same number of value and category axes.');\n            }\n            strXml += makeCatAxis(Object.assign(Object.assign({}, rel.opts), rel.opts.catAxes[0]), AXIS_ID_CATEGORY_PRIMARY, AXIS_ID_VALUE_PRIMARY);\n        }\n        else {\n            strXml += makeCatAxis(rel.opts, AXIS_ID_CATEGORY_PRIMARY, AXIS_ID_VALUE_PRIMARY);\n        }\n        if (rel.opts.valAxes) {\n            strXml += makeValAxis(Object.assign(Object.assign({}, rel.opts), rel.opts.valAxes[0]), AXIS_ID_VALUE_PRIMARY);\n            if (rel.opts.valAxes[1]) {\n                strXml += makeValAxis(Object.assign(Object.assign({}, rel.opts), rel.opts.valAxes[1]), AXIS_ID_VALUE_SECONDARY);\n            }\n        }\n        else {\n            strXml += makeValAxis(rel.opts, AXIS_ID_VALUE_PRIMARY);\n            // Add series axis for 3D bar\n            if (rel.opts._type === CHART_TYPE.BAR3D) {\n                strXml += makeSerAxis(rel.opts, AXIS_ID_SERIES_PRIMARY, AXIS_ID_VALUE_PRIMARY);\n            }\n        }\n        // Combo Charts: Add secondary axes after all vals\n        if (((_a = rel.opts) === null || _a === void 0 ? void 0 : _a.catAxes) && ((_b = rel.opts) === null || _b === void 0 ? void 0 : _b.catAxes[1])) {\n            strXml += makeCatAxis(Object.assign(Object.assign({}, rel.opts), rel.opts.catAxes[1]), AXIS_ID_CATEGORY_SECONDARY, AXIS_ID_VALUE_SECONDARY);\n        }\n    }\n    // C: Chart Properties and plotArea Options: Border, Data Table, Fill, Legend\n    {\n        // NOTE: DataTable goes between '</c:valAx>' and '<c:spPr>'\n        if (rel.opts.showDataTable) {\n            strXml += '<c:dTable>';\n            strXml += `  <c:showHorzBorder val=\"${!rel.opts.showDataTableHorzBorder ? 0 : 1}\"/>`;\n            strXml += `  <c:showVertBorder val=\"${!rel.opts.showDataTableVertBorder ? 0 : 1}\"/>`;\n            strXml += `  <c:showOutline    val=\"${!rel.opts.showDataTableOutline ? 0 : 1}\"/>`;\n            strXml += `  <c:showKeys       val=\"${!rel.opts.showDataTableKeys ? 0 : 1}\"/>`;\n            strXml += '  <c:spPr>';\n            strXml += '    <a:noFill/>';\n            strXml += '    <a:ln w=\"9525\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"tx1\"><a:lumMod val=\"15000\"/><a:lumOff val=\"85000\"/></a:schemeClr></a:solidFill><a:round/></a:ln>';\n            strXml += '    <a:effectLst/>';\n            strXml += '  </c:spPr>';\n            strXml += '  <c:txPr>';\n            strXml += '   <a:bodyPr rot=\"0\" spcFirstLastPara=\"1\" vertOverflow=\"ellipsis\" vert=\"horz\" wrap=\"square\" anchor=\"ctr\" anchorCtr=\"1\"/>';\n            strXml += '   <a:lstStyle/>';\n            strXml += '   <a:p>';\n            strXml += '     <a:pPr rtl=\"0\">';\n            strXml += `       <a:defRPr sz=\"${Math.round((rel.opts.dataTableFontSize || DEF_FONT_SIZE) * 100)}\" b=\"0\" i=\"0\" u=\"none\" strike=\"noStrike\" kern=\"1200\" baseline=\"0\">`;\n            strXml += '         <a:solidFill><a:schemeClr val=\"tx1\"><a:lumMod val=\"65000\"/><a:lumOff val=\"35000\"/></a:schemeClr></a:solidFill>';\n            strXml += '         <a:latin typeface=\"+mn-lt\"/>';\n            strXml += '         <a:ea typeface=\"+mn-ea\"/>';\n            strXml += '         <a:cs typeface=\"+mn-cs\"/>';\n            strXml += '       </a:defRPr>';\n            strXml += '     </a:pPr>';\n            strXml += '    <a:endParaRPr lang=\"en-US\"/>';\n            strXml += '   </a:p>';\n            strXml += ' </c:txPr>';\n            strXml += '</c:dTable>';\n        }\n        strXml += '  <c:spPr>';\n        // OPTION: Fill\n        strXml += ((_c = rel.opts.plotArea.fill) === null || _c === void 0 ? void 0 : _c.color) ? genXmlColorSelection(rel.opts.plotArea.fill) : '<a:noFill/>';\n        // OPTION: Border\n        strXml += rel.opts.plotArea.border\n            ? `<a:ln w=\"${valToPts(rel.opts.plotArea.border.pt)}\" cap=\"flat\">${genXmlColorSelection(rel.opts.plotArea.border.color)}</a:ln>`\n            : '<a:ln><a:noFill/></a:ln>';\n        // Close shapeProp/plotArea before Legend\n        strXml += '    <a:effectLst/>';\n        strXml += '  </c:spPr>';\n        strXml += '</c:plotArea>';\n        // OPTION: Legend\n        // IMPORTANT: Dont specify layout to enable auto-fit: PPT does a great job maximizing space with all 4 TRBL locations\n        if (rel.opts.showLegend) {\n            strXml += '<c:legend>';\n            strXml += '<c:legendPos val=\"' + rel.opts.legendPos + '\"/>';\n            // strXml += '<c:layout/>'\n            strXml += '<c:overlay val=\"0\"/>';\n            if (rel.opts.legendFontFace || rel.opts.legendFontSize || rel.opts.legendColor) {\n                strXml += '<c:txPr>';\n                strXml += '  <a:bodyPr/>';\n                strXml += '  <a:lstStyle/>';\n                strXml += '  <a:p>';\n                strXml += '    <a:pPr>';\n                strXml += rel.opts.legendFontSize ? `<a:defRPr sz=\"${Math.round(Number(rel.opts.legendFontSize) * 100)}\">` : '<a:defRPr>';\n                if (rel.opts.legendColor)\n                    strXml += genXmlColorSelection(rel.opts.legendColor);\n                if (rel.opts.legendFontFace)\n                    strXml += '<a:latin typeface=\"' + rel.opts.legendFontFace + '\"/>';\n                if (rel.opts.legendFontFace)\n                    strXml += '<a:cs    typeface=\"' + rel.opts.legendFontFace + '\"/>';\n                strXml += '      </a:defRPr>';\n                strXml += '    </a:pPr>';\n                strXml += '    <a:endParaRPr lang=\"en-US\"/>';\n                strXml += '  </a:p>';\n                strXml += '</c:txPr>';\n            }\n            strXml += '</c:legend>';\n        }\n    }\n    strXml += '  <c:plotVisOnly val=\"1\"/>';\n    strXml += '  <c:dispBlanksAs val=\"' + rel.opts.displayBlanksAs + '\"/>';\n    if (rel.opts._type === CHART_TYPE.SCATTER)\n        strXml += '<c:showDLblsOverMax val=\"1\"/>';\n    strXml += '</c:chart>';\n    // D: CHARTSPACE SHAPE PROPS\n    strXml += '<c:spPr>';\n    strXml += ((_d = rel.opts.chartArea.fill) === null || _d === void 0 ? void 0 : _d.color) ? genXmlColorSelection(rel.opts.chartArea.fill) : '<a:noFill/>';\n    strXml += rel.opts.chartArea.border\n        ? `<a:ln w=\"${valToPts(rel.opts.chartArea.border.pt)}\" cap=\"flat\">${genXmlColorSelection(rel.opts.chartArea.border.color)}</a:ln>`\n        : '<a:ln><a:noFill/></a:ln>';\n    strXml += '  <a:effectLst/>';\n    strXml += '</c:spPr>';\n    // E: DATA (Add relID)\n    strXml += '<c:externalData r:id=\"rId1\"><c:autoUpdate val=\"0\"/></c:externalData>';\n    // LAST: chartSpace end\n    strXml += '</c:chartSpace>';\n    return strXml;\n}\n/**\n * Create XML string for any given chart type\n * @param {CHART_NAME} chartType chart type name\n * @param {IOptsChartData[]} data chart data\n * @param {IChartOptsLib} opts chart options\n * @param {string} valAxisId chart val axis id\n * @param {string} catAxisId chart cat axis id\n * @param {boolean} isMultiTypeChart is this a mutli-type chart?\n * @example 'bubble' returns <c:bubbleChart></c>\n * @example '<c:lineChart>'\n * @return {string} XML chart\n */\nfunction makeChartType(chartType, data, opts, valAxisId, catAxisId, isMultiTypeChart) {\n    // NOTE: \"Chart Range\" (as shown in \"select Chart Area dialog\") is calculated.\n    // ....: Ensure each X/Y Axis/Col has same row height (esp. applicable to XY Scatter where X can often be larger than Y's)\n    let colorIndex = -1; // Maintain the color index by region\n    let idxColLtr = 1;\n    let optsChartData = null;\n    let strXml = '';\n    switch (chartType) {\n        case CHART_TYPE.AREA:\n        case CHART_TYPE.BAR:\n        case CHART_TYPE.BAR3D:\n        case CHART_TYPE.LINE:\n        case CHART_TYPE.RADAR:\n            // 1: Start Chart\n            strXml += `<c:${chartType}Chart>`;\n            if (chartType === CHART_TYPE.AREA && opts.barGrouping === 'stacked') {\n                strXml += '<c:grouping val=\"' + opts.barGrouping + '\"/>';\n            }\n            if (chartType === CHART_TYPE.BAR || chartType === CHART_TYPE.BAR3D) {\n                strXml += '<c:barDir val=\"' + opts.barDir + '\"/>';\n                strXml += '<c:grouping val=\"' + (opts.barGrouping || 'clustered') + '\"/>';\n            }\n            if (chartType === CHART_TYPE.RADAR) {\n                strXml += '<c:radarStyle val=\"' + opts.radarStyle + '\"/>';\n            }\n            strXml += '<c:varyColors val=\"0\"/>';\n            // 2: \"Series\" block for every data row\n            /* EX1:\n                data: [\n                 {\n                   name: 'Region 1',\n                   labels: [['April', 'May', 'June', 'July']],\n                   values: [17, 26, 53, 96]\n                 },\n                 {\n                   name: 'Region 2',\n                   labels: [['April', 'May', 'June', 'July']],\n                   values: [55, 43, 70, 58]\n                 }\n                ]\n            */\n            /* EX2:\n                data: [\n                 {\n                   name: 'Region 1',\n                   labels: [\n                       ['April', 'May', 'June', 'April', 'May', 'June'],\n                       ['2020',     '',     '', '2021',     '',     '']\n                   ],\n                   values: [17, 26, 53, 96, 40, 33]\n                 },\n                 {\n                   name: 'Region 2',\n                   labels: [\n                       ['April', 'May', 'June', 'April', 'May', 'June'],\n                       ['2020',     '',     '', '2021',     '',     '']\n                   ],\n                   values: [55, 43, 70, 58, 78, 63]\n                 }\n                ]\n             */\n            data.forEach(obj => {\n                var _a;\n                colorIndex++;\n                strXml += '<c:ser>';\n                strXml += `  <c:idx val=\"${obj._dataIndex}\"/><c:order val=\"${obj._dataIndex}\"/>`;\n                strXml += '  <c:tx>';\n                strXml += '    <c:strRef>';\n                strXml += '      <c:f>Sheet1!$' + getExcelColName(obj._dataIndex + obj.labels.length + 1) + '$1</c:f>';\n                strXml += '      <c:strCache><c:ptCount val=\"1\"/><c:pt idx=\"0\"><c:v>' + encodeXmlEntities(obj.name) + '</c:v></c:pt></c:strCache>';\n                strXml += '    </c:strRef>';\n                strXml += '  </c:tx>';\n                // Fill and Border\n                // TODO: CURRENT: Pull#727\n                // TODO: let seriesColor = obj.color ? obj.color : opts.chartColors ? opts.chartColors[colorIndex % opts.chartColors.length] : null\n                const seriesColor = opts.chartColors ? opts.chartColors[colorIndex % opts.chartColors.length] : null;\n                strXml += '  <c:spPr>';\n                if (seriesColor === 'transparent') {\n                    strXml += '<a:noFill/>';\n                }\n                else if (opts.chartColorsOpacity) {\n                    strXml += '<a:solidFill>' + createColorElement(seriesColor, `<a:alpha val=\"${Math.round(opts.chartColorsOpacity * 1000)}\"/>`) + '</a:solidFill>';\n                }\n                else {\n                    strXml += '<a:solidFill>' + createColorElement(seriesColor) + '</a:solidFill>';\n                }\n                if (chartType === CHART_TYPE.LINE || chartType === CHART_TYPE.RADAR) {\n                    if (opts.lineSize === 0) {\n                        strXml += '<a:ln><a:noFill/></a:ln>';\n                    }\n                    else {\n                        strXml += `<a:ln w=\"${valToPts(opts.lineSize)}\" cap=\"${createLineCap(opts.lineCap)}\"><a:solidFill>${createColorElement(seriesColor)}</a:solidFill>`;\n                        strXml += '<a:prstDash val=\"' + (opts.lineDash || 'solid') + '\"/><a:round/></a:ln>';\n                    }\n                }\n                else if (opts.dataBorder) {\n                    strXml += `<a:ln w=\"${valToPts(opts.dataBorder.pt)}\" cap=\"${createLineCap(opts.lineCap)}\"><a:solidFill>${createColorElement(opts.dataBorder.color)}</a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>`;\n                }\n                strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                strXml += '  </c:spPr>';\n                strXml += '  <c:invertIfNegative val=\"0\"/>';\n                // Data Labels per series\n                // NOTE: [20190117] Adding these to RADAR chart causes unrecoverable corruption!\n                if (chartType !== CHART_TYPE.RADAR) {\n                    strXml += '<c:dLbls>';\n                    strXml += `<c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n                    if (opts.dataLabelBkgrdColors)\n                        strXml += `<c:spPr><a:solidFill>${createColorElement(seriesColor)}</a:solidFill></c:spPr>`;\n                    strXml += '<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>';\n                    strXml += `<a:defRPr b=\"${opts.dataLabelFontBold ? 1 : 0}\" i=\"${opts.dataLabelFontItalic ? 1 : 0}\" strike=\"noStrike\" sz=\"${Math.round((opts.dataLabelFontSize || DEF_FONT_SIZE) * 100)}\" u=\"none\">`;\n                    strXml += `<a:solidFill>${createColorElement(opts.dataLabelColor || DEF_FONT_COLOR)}</a:solidFill>`;\n                    strXml += `<a:latin typeface=\"${opts.dataLabelFontFace || 'Arial'}\"/>`;\n                    strXml += '</a:defRPr></a:pPr></a:p></c:txPr>';\n                    if (opts.dataLabelPosition)\n                        strXml += `<c:dLblPos val=\"${opts.dataLabelPosition}\"/>`;\n                    strXml += '<c:showLegendKey val=\"0\"/>';\n                    strXml += `<c:showVal val=\"${opts.showValue ? '1' : '0'}\"/>`;\n                    strXml += `<c:showCatName val=\"0\"/><c:showSerName val=\"${opts.showSerName ? '1' : '0'}\"/><c:showPercent val=\"0\"/><c:showBubbleSize val=\"0\"/>`;\n                    strXml += `<c:showLeaderLines val=\"${opts.showLeaderLines ? '1' : '0'}\"/>`;\n                    strXml += '</c:dLbls>';\n                }\n                // 'c:marker' tag: `lineDataSymbol`\n                if (chartType === CHART_TYPE.LINE || chartType === CHART_TYPE.RADAR) {\n                    strXml += '<c:marker>';\n                    strXml += '  <c:symbol val=\"' + opts.lineDataSymbol + '\"/>';\n                    if (opts.lineDataSymbolSize)\n                        strXml += `<c:size val=\"${opts.lineDataSymbolSize}\"/>`; // Defaults to \"auto\" otherwise (but this is usually too small, so there is a default)\n                    strXml += '  <c:spPr>';\n                    strXml += `    <a:solidFill>${createColorElement(opts.chartColors[obj._dataIndex + 1 > opts.chartColors.length ? Math.floor(Math.random() * opts.chartColors.length) : obj._dataIndex])}</a:solidFill>`;\n                    strXml += `    <a:ln w=\"${opts.lineDataSymbolLineSize}\" cap=\"flat\"><a:solidFill>${createColorElement(opts.lineDataSymbolLineColor || seriesColor)}</a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>`;\n                    strXml += '    <a:effectLst/>';\n                    strXml += '  </c:spPr>';\n                    strXml += '</c:marker>';\n                }\n                // Allow users with a single data set to pass their own array of colors (check for this using != ours)\n                // Color chart bars various colors when >1 color\n                // NOTE: `<c:dPt>` created with various colors will change PPT legend by design so each dataPt/color is an legend item!\n                if ((chartType === CHART_TYPE.BAR || chartType === CHART_TYPE.BAR3D) &&\n                    data.length === 1 &&\n                    ((opts.chartColors && opts.chartColors !== BARCHART_COLORS && opts.chartColors.length > 1) || ((_a = opts.invertedColors) === null || _a === void 0 ? void 0 : _a.length))) {\n                    // Series Data Point colors\n                    obj.values.forEach((value, index) => {\n                        const arrColors = value < 0 ? opts.invertedColors || opts.chartColors || BARCHART_COLORS : opts.chartColors || [];\n                        strXml += '  <c:dPt>';\n                        strXml += `    <c:idx val=\"${index}\"/>`;\n                        strXml += '      <c:invertIfNegative val=\"0\"/>';\n                        strXml += '    <c:bubble3D val=\"0\"/>';\n                        strXml += '    <c:spPr>';\n                        if (opts.lineSize === 0) {\n                            strXml += '<a:ln><a:noFill/></a:ln>';\n                        }\n                        else if (chartType === CHART_TYPE.BAR) {\n                            strXml += '<a:solidFill>';\n                            strXml += '  <a:srgbClr val=\"' + arrColors[index % arrColors.length] + '\"/>';\n                            strXml += '</a:solidFill>';\n                        }\n                        else {\n                            strXml += '<a:ln>';\n                            strXml += '  <a:solidFill>';\n                            strXml += '   <a:srgbClr val=\"' + arrColors[index % arrColors.length] + '\"/>';\n                            strXml += '  </a:solidFill>';\n                            strXml += '</a:ln>';\n                        }\n                        strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                        strXml += '    </c:spPr>';\n                        strXml += '  </c:dPt>';\n                    });\n                }\n                // 2: \"Categories\"\n                {\n                    strXml += '<c:cat>';\n                    if (opts.catLabelFormatCode) {\n                        // Use 'numRef' as catLabelFormatCode implies that we are expecting numbers here\n                        strXml += '  <c:numRef>';\n                        strXml += `    <c:f>Sheet1!$A$2:$A$${obj.labels[0].length + 1}</c:f>`;\n                        strXml += '    <c:numCache>';\n                        strXml += '      <c:formatCode>' + (opts.catLabelFormatCode || 'General') + '</c:formatCode>';\n                        strXml += `      <c:ptCount val=\"${obj.labels[0].length}\"/>`;\n                        obj.labels[0].forEach((label, idx) => (strXml += `<c:pt idx=\"${idx}\"><c:v>${encodeXmlEntities(label)}</c:v></c:pt>`));\n                        strXml += '    </c:numCache>';\n                        strXml += '  </c:numRef>';\n                    }\n                    else {\n                        strXml += '  <c:multiLvlStrRef>';\n                        strXml += `    <c:f>Sheet1!$A$2:$${getExcelColName(obj.labels.length)}$${obj.labels[0].length + 1}</c:f>`;\n                        strXml += '    <c:multiLvlStrCache>';\n                        strXml += `      <c:ptCount val=\"${obj.labels[0].length}\"/>`;\n                        obj.labels.forEach(labelsGroup => {\n                            strXml += '<c:lvl>';\n                            labelsGroup.forEach((label, idx) => (strXml += `<c:pt idx=\"${idx}\"><c:v>${encodeXmlEntities(label)}</c:v></c:pt>`));\n                            strXml += '</c:lvl>';\n                        });\n                        strXml += '    </c:multiLvlStrCache>';\n                        strXml += '  </c:multiLvlStrRef>';\n                    }\n                    strXml += '</c:cat>';\n                }\n                // 3: \"Values\"\n                {\n                    strXml += '<c:val>';\n                    strXml += '  <c:numRef>';\n                    strXml += `<c:f>Sheet1!$${getExcelColName(obj._dataIndex + obj.labels.length + 1)}$2:$${getExcelColName(obj._dataIndex + obj.labels.length + 1)}$${obj.labels[0].length + 1}</c:f>`;\n                    strXml += '    <c:numCache>';\n                    strXml += '      <c:formatCode>' + (opts.valLabelFormatCode || opts.dataTableFormatCode || 'General') + '</c:formatCode>';\n                    strXml += `      <c:ptCount val=\"${obj.labels[0].length}\"/>`;\n                    obj.values.forEach((value, idx) => (strXml += `<c:pt idx=\"${idx}\"><c:v>${value || value === 0 ? value : ''}</c:v></c:pt>`));\n                    strXml += '    </c:numCache>';\n                    strXml += '  </c:numRef>';\n                    strXml += '</c:val>';\n                }\n                // Option: `smooth`\n                if (chartType === CHART_TYPE.LINE)\n                    strXml += '<c:smooth val=\"' + (opts.lineSmooth ? '1' : '0') + '\"/>';\n                // 4: Close \"SERIES\"\n                strXml += '</c:ser>';\n            });\n            // 3: \"Data Labels\"\n            {\n                strXml += '  <c:dLbls>';\n                strXml += `    <c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n                strXml += '    <c:txPr>';\n                strXml += '      <a:bodyPr/>';\n                strXml += '      <a:lstStyle/>';\n                strXml += '      <a:p><a:pPr>';\n                strXml += `        <a:defRPr b=\"${opts.dataLabelFontBold ? 1 : 0}\" i=\"${opts.dataLabelFontItalic ? 1 : 0}\" strike=\"noStrike\" sz=\"${Math.round((opts.dataLabelFontSize || DEF_FONT_SIZE) * 100)}\" u=\"none\">`;\n                strXml += '          <a:solidFill>' + createColorElement(opts.dataLabelColor || DEF_FONT_COLOR) + '</a:solidFill>';\n                strXml += '          <a:latin typeface=\"' + (opts.dataLabelFontFace || 'Arial') + '\"/>';\n                strXml += '        </a:defRPr>';\n                strXml += '      </a:pPr></a:p>';\n                strXml += '    </c:txPr>';\n                if (opts.dataLabelPosition)\n                    strXml += ' <c:dLblPos val=\"' + opts.dataLabelPosition + '\"/>';\n                strXml += '    <c:showLegendKey val=\"0\"/>';\n                strXml += '    <c:showVal val=\"' + (opts.showValue ? '1' : '0') + '\"/>';\n                strXml += '    <c:showCatName val=\"0\"/>';\n                strXml += '    <c:showSerName val=\"' + (opts.showSerName ? '1' : '0') + '\"/>';\n                strXml += '    <c:showPercent val=\"0\"/>';\n                strXml += '    <c:showBubbleSize val=\"0\"/>';\n                strXml += `    <c:showLeaderLines val=\"${opts.showLeaderLines ? '1' : '0'}\"/>`;\n                strXml += '  </c:dLbls>';\n            }\n            // 4: Add more chart options (gapWidth, line Marker, etc.)\n            if (chartType === CHART_TYPE.BAR) {\n                strXml += `  <c:gapWidth val=\"${opts.barGapWidthPct}\"/>`;\n                strXml += `  <c:overlap val=\"${(opts.barGrouping || '').includes('tacked') ? 100 : opts.barOverlapPct ? opts.barOverlapPct : 0}\"/>`;\n            }\n            else if (chartType === CHART_TYPE.BAR3D) {\n                strXml += `  <c:gapWidth val=\"${opts.barGapWidthPct}\"/>`;\n                strXml += `  <c:gapDepth val=\"${opts.barGapDepthPct}\"/>`;\n                strXml += '  <c:shape val=\"' + opts.bar3DShape + '\"/>';\n            }\n            else if (chartType === CHART_TYPE.LINE) {\n                strXml += '  <c:marker val=\"1\"/>';\n            }\n            // 5: Add axisId (NOTE: order matters! (category comes first))\n            strXml += `<c:axId val=\"${catAxisId}\"/><c:axId val=\"${valAxisId}\"/><c:axId val=\"${AXIS_ID_SERIES_PRIMARY}\"/>`;\n            // 6: Close Chart tag\n            strXml += `</c:${chartType}Chart>`;\n            // end switch\n            break;\n        case CHART_TYPE.SCATTER:\n            /*\n                `data` = [\n                    { name:'X-Axis',    values:[1,2,3,4,5,6,7,8,9,10,11,12] },\n                    { name:'Y-Value 1', values:[13, 20, 21, 25] },\n                    { name:'Y-Value 2', values:[ 1,  2,  5,  9] }\n                ];\n            */\n            // 1: Start Chart\n            strXml += '<c:' + chartType + 'Chart>';\n            strXml += '<c:scatterStyle val=\"lineMarker\"/>';\n            strXml += '<c:varyColors val=\"0\"/>';\n            // 2: Series: (One for each Y-Axis)\n            colorIndex = -1;\n            data.filter((_obj, idx) => idx > 0).forEach((obj, idx) => {\n                colorIndex++;\n                strXml += '<c:ser>';\n                strXml += `  <c:idx val=\"${idx}\"/>`;\n                strXml += `  <c:order val=\"${idx}\"/>`;\n                strXml += '  <c:tx>';\n                strXml += '    <c:strRef>';\n                strXml += `      <c:f>Sheet1!$${getExcelColName(idx + 2)}$1</c:f>`;\n                strXml += '      <c:strCache><c:ptCount val=\"1\"/><c:pt idx=\"0\"><c:v>' + encodeXmlEntities(obj.name) + '</c:v></c:pt></c:strCache>';\n                strXml += '    </c:strRef>';\n                strXml += '  </c:tx>';\n                // 'c:spPr': Fill, Border, Line, LineStyle (dash, etc.), Shadow\n                strXml += '  <c:spPr>';\n                {\n                    const tmpSerColor = opts.chartColors[colorIndex % opts.chartColors.length];\n                    if (tmpSerColor === 'transparent') {\n                        strXml += '<a:noFill/>';\n                    }\n                    else if (opts.chartColorsOpacity) {\n                        strXml += '<a:solidFill>' + createColorElement(tmpSerColor, '<a:alpha val=\"' + Math.round(opts.chartColorsOpacity * 1000).toString() + '\"/>') + '</a:solidFill>';\n                    }\n                    else {\n                        strXml += '<a:solidFill>' + createColorElement(tmpSerColor) + '</a:solidFill>';\n                    }\n                    if (opts.lineSize === 0) {\n                        strXml += '<a:ln><a:noFill/></a:ln>';\n                    }\n                    else {\n                        strXml += `<a:ln w=\"${valToPts(opts.lineSize)}\" cap=\"${createLineCap(opts.lineCap)}\"><a:solidFill>${createColorElement(tmpSerColor)}</a:solidFill>`;\n                        strXml += `<a:prstDash val=\"${opts.lineDash || 'solid'}\"/><a:round/></a:ln>`;\n                    }\n                    // Shadow\n                    strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                }\n                strXml += '  </c:spPr>';\n                // 'c:marker' tag: `lineDataSymbol`\n                {\n                    strXml += '<c:marker>';\n                    strXml += '  <c:symbol val=\"' + opts.lineDataSymbol + '\"/>';\n                    if (opts.lineDataSymbolSize) {\n                        // Defaults to \"auto\" otherwise (but this is usually too small, so there is a default)\n                        strXml += `<c:size val=\"${opts.lineDataSymbolSize}\"/>`;\n                    }\n                    strXml += '<c:spPr>';\n                    strXml += `<a:solidFill>${createColorElement(opts.chartColors[idx + 1 > opts.chartColors.length ? Math.floor(Math.random() * opts.chartColors.length) : idx])}</a:solidFill>`;\n                    strXml += `<a:ln w=\"${opts.lineDataSymbolLineSize}\" cap=\"flat\"><a:solidFill>${createColorElement(opts.lineDataSymbolLineColor || opts.chartColors[colorIndex % opts.chartColors.length])}</a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>`;\n                    strXml += '<a:effectLst/>';\n                    strXml += '</c:spPr>';\n                    strXml += '</c:marker>';\n                }\n                // Option: scatter data point labels\n                if (opts.showLabel) {\n                    const chartUuid = getUuid('-xxxx-xxxx-xxxx-xxxxxxxxxxxx');\n                    if (obj.labels[0] && (opts.dataLabelFormatScatter === 'custom' || opts.dataLabelFormatScatter === 'customXY')) {\n                        strXml += '<c:dLbls>';\n                        obj.labels[0].forEach((label, idx) => {\n                            if (opts.dataLabelFormatScatter === 'custom' || opts.dataLabelFormatScatter === 'customXY') {\n                                strXml += '  <c:dLbl>';\n                                strXml += `    <c:idx val=\"${idx}\"/>`;\n                                strXml += '    <c:tx>';\n                                strXml += '      <c:rich>';\n                                strXml += '            <a:bodyPr>';\n                                strXml += '                <a:spAutoFit/>';\n                                strXml += '            </a:bodyPr>';\n                                strXml += '            <a:lstStyle/>';\n                                strXml += '            <a:p>';\n                                strXml += '                <a:pPr>';\n                                strXml += '                    <a:defRPr/>';\n                                strXml += '                </a:pPr>';\n                                strXml += '              <a:r>';\n                                strXml += '                    <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" dirty=\"0\"/>';\n                                strXml += '                    <a:t>' + encodeXmlEntities(label) + '</a:t>';\n                                strXml += '              </a:r>';\n                                // Apply XY values at end of custom label\n                                // Do not apply the values if the label was empty or just spaces\n                                // This allows for selective labelling where required\n                                if (opts.dataLabelFormatScatter === 'customXY' && !/^ *$/.test(label)) {\n                                    strXml += '              <a:r>';\n                                    strXml += '                  <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" baseline=\"0\" dirty=\"0\"/>';\n                                    strXml += '                  <a:t> (</a:t>';\n                                    strXml += '              </a:r>';\n                                    strXml += '              <a:fld id=\"{' + getUuid('xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx') + '}\" type=\"XVALUE\">';\n                                    strXml += '                  <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" baseline=\"0\"/>';\n                                    strXml += '                  <a:pPr>';\n                                    strXml += '                      <a:defRPr/>';\n                                    strXml += '                  </a:pPr>';\n                                    strXml += '                  <a:t>[' + encodeXmlEntities(obj.name) + '</a:t>';\n                                    strXml += '              </a:fld>';\n                                    strXml += '              <a:r>';\n                                    strXml += '                  <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" baseline=\"0\" dirty=\"0\"/>';\n                                    strXml += '                  <a:t>, </a:t>';\n                                    strXml += '              </a:r>';\n                                    strXml += '              <a:fld id=\"{' + getUuid('xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx') + '}\" type=\"YVALUE\">';\n                                    strXml += '                  <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" baseline=\"0\"/>';\n                                    strXml += '                  <a:pPr>';\n                                    strXml += '                      <a:defRPr/>';\n                                    strXml += '                  </a:pPr>';\n                                    strXml += '                  <a:t>[' + encodeXmlEntities(obj.name) + ']</a:t>';\n                                    strXml += '              </a:fld>';\n                                    strXml += '              <a:r>';\n                                    strXml += '                  <a:rPr lang=\"' + (opts.lang || 'en-US') + '\" baseline=\"0\" dirty=\"0\"/>';\n                                    strXml += '                  <a:t>)</a:t>';\n                                    strXml += '              </a:r>';\n                                    strXml += '              <a:endParaRPr lang=\"' + (opts.lang || 'en-US') + '\" dirty=\"0\"/>';\n                                }\n                                strXml += '            </a:p>';\n                                strXml += '      </c:rich>';\n                                strXml += '    </c:tx>';\n                                strXml += '    <c:spPr>';\n                                strXml += '        <a:noFill/>';\n                                strXml += '        <a:ln>';\n                                strXml += '            <a:noFill/>';\n                                strXml += '        </a:ln>';\n                                strXml += '        <a:effectLst/>';\n                                strXml += '    </c:spPr>';\n                                if (opts.dataLabelPosition)\n                                    strXml += ' <c:dLblPos val=\"' + opts.dataLabelPosition + '\"/>';\n                                strXml += '    <c:showLegendKey val=\"0\"/>';\n                                strXml += '    <c:showVal val=\"0\"/>';\n                                strXml += '    <c:showCatName val=\"0\"/>';\n                                strXml += '    <c:showSerName val=\"0\"/>';\n                                strXml += '    <c:showPercent val=\"0\"/>';\n                                strXml += '    <c:showBubbleSize val=\"0\"/>';\n                                strXml += '       <c:showLeaderLines val=\"1\"/>';\n                                strXml += '    <c:extLst>';\n                                strXml += '      <c:ext uri=\"{CE6537A1-D6FC-4f65-9D91-7224C49458BB}\" xmlns:c15=\"http://schemas.microsoft.com/office/drawing/2012/chart\"/>';\n                                strXml += '      <c:ext uri=\"{C3380CC4-5D6E-409C-BE32-E72D297353CC}\" xmlns:c16=\"http://schemas.microsoft.com/office/drawing/2014/chart\">';\n                                strXml += `            <c16:uniqueId val=\"{${'00000000'.substring(0, 8 - (idx + 1).toString().length).toString()}${idx + 1}${chartUuid}}\"/>`;\n                                strXml += '      </c:ext>';\n                                strXml += '        </c:extLst>';\n                                strXml += '</c:dLbl>';\n                            }\n                        });\n                        strXml += '</c:dLbls>';\n                    }\n                    if (opts.dataLabelFormatScatter === 'XY') {\n                        strXml += '<c:dLbls>';\n                        strXml += '    <c:spPr>';\n                        strXml += '        <a:noFill/>';\n                        strXml += '        <a:ln>';\n                        strXml += '            <a:noFill/>';\n                        strXml += '        </a:ln>';\n                        strXml += '          <a:effectLst/>';\n                        strXml += '    </c:spPr>';\n                        strXml += '    <c:txPr>';\n                        strXml += '        <a:bodyPr>';\n                        strXml += '            <a:spAutoFit/>';\n                        strXml += '        </a:bodyPr>';\n                        strXml += '        <a:lstStyle/>';\n                        strXml += '        <a:p>';\n                        strXml += '            <a:pPr>';\n                        strXml += '                <a:defRPr/>';\n                        strXml += '            </a:pPr>';\n                        strXml += '            <a:endParaRPr lang=\"en-US\"/>';\n                        strXml += '        </a:p>';\n                        strXml += '    </c:txPr>';\n                        if (opts.dataLabelPosition)\n                            strXml += ' <c:dLblPos val=\"' + opts.dataLabelPosition + '\"/>';\n                        strXml += '    <c:showLegendKey val=\"0\"/>';\n                        strXml += ` <c:showVal val=\"${opts.showLabel ? '1' : '0'}\"/>`;\n                        strXml += ` <c:showCatName val=\"${opts.showLabel ? '1' : '0'}\"/>`;\n                        strXml += ` <c:showSerName val=\"${opts.showSerName ? '1' : '0'}\"/>`;\n                        strXml += '    <c:showPercent val=\"0\"/>';\n                        strXml += '    <c:showBubbleSize val=\"0\"/>';\n                        strXml += '    <c:extLst>';\n                        strXml += '        <c:ext uri=\"{CE6537A1-D6FC-4f65-9D91-7224C49458BB}\" xmlns:c15=\"http://schemas.microsoft.com/office/drawing/2012/chart\">';\n                        strXml += '            <c15:showLeaderLines val=\"1\"/>';\n                        strXml += '        </c:ext>';\n                        strXml += '    </c:extLst>';\n                        strXml += '</c:dLbls>';\n                    }\n                }\n                // Color bar chart bars various colors\n                // Allow users with a single data set to pass their own array of colors (check for this using != ours)\n                if (data.length === 1 && opts.chartColors !== BARCHART_COLORS) {\n                    // Series Data Point colors\n                    obj.values.forEach((value, index) => {\n                        const arrColors = value < 0 ? opts.invertedColors || opts.chartColors || BARCHART_COLORS : opts.chartColors || [];\n                        strXml += '  <c:dPt>';\n                        strXml += `    <c:idx val=\"${index}\"/>`;\n                        strXml += '      <c:invertIfNegative val=\"0\"/>';\n                        strXml += '    <c:bubble3D val=\"0\"/>';\n                        strXml += '    <c:spPr>';\n                        if (opts.lineSize === 0) {\n                            strXml += '<a:ln><a:noFill/></a:ln>';\n                        }\n                        else {\n                            strXml += '<a:solidFill>';\n                            strXml += ' <a:srgbClr val=\"' + arrColors[index % arrColors.length] + '\"/>';\n                            strXml += '</a:solidFill>';\n                        }\n                        strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                        strXml += '    </c:spPr>';\n                        strXml += '  </c:dPt>';\n                    });\n                }\n                // 3: \"Values\": Scatter Chart has 2: `xVal` and `yVal`\n                {\n                    // X-Axis is always the same\n                    strXml += '<c:xVal>';\n                    strXml += '  <c:numRef>';\n                    strXml += `    <c:f>Sheet1!$A$2:$A$${data[0].values.length + 1}</c:f>`;\n                    strXml += '    <c:numCache>';\n                    strXml += '      <c:formatCode>General</c:formatCode>';\n                    strXml += `      <c:ptCount val=\"${data[0].values.length}\"/>`;\n                    data[0].values.forEach((value, idx) => {\n                        strXml += `<c:pt idx=\"${idx}\"><c:v>${value || value === 0 ? value : ''}</c:v></c:pt>`;\n                    });\n                    strXml += '    </c:numCache>';\n                    strXml += '  </c:numRef>';\n                    strXml += '</c:xVal>';\n                    // Y-Axis vals are this object's `values`\n                    strXml += '<c:yVal>';\n                    strXml += '  <c:numRef>';\n                    strXml += `    <c:f>Sheet1!$${getExcelColName(idx + 2)}$2:$${getExcelColName(idx + 2)}$${data[0].values.length + 1}</c:f>`;\n                    strXml += '    <c:numCache>';\n                    strXml += '      <c:formatCode>General</c:formatCode>';\n                    // NOTE: Use pt count and iterate over data[0] (X-Axis) as user can have more values than data (eg: timeline where only first few months are populated)\n                    strXml += `      <c:ptCount val=\"${data[0].values.length}\"/>`;\n                    data[0].values.forEach((_value, idx) => {\n                        strXml += `<c:pt idx=\"${idx}\"><c:v>${obj.values[idx] || obj.values[idx] === 0 ? obj.values[idx] : ''}</c:v></c:pt>`;\n                    });\n                    strXml += '    </c:numCache>';\n                    strXml += '  </c:numRef>';\n                    strXml += '</c:yVal>';\n                }\n                // Option: `smooth`\n                strXml += '<c:smooth val=\"' + (opts.lineSmooth ? '1' : '0') + '\"/>';\n                // 4: Close \"SERIES\"\n                strXml += '</c:ser>';\n            });\n            // 3: Data Labels\n            {\n                strXml += '  <c:dLbls>';\n                strXml += `    <c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n                strXml += '    <c:txPr>';\n                strXml += '      <a:bodyPr/>';\n                strXml += '      <a:lstStyle/>';\n                strXml += '      <a:p><a:pPr>';\n                strXml += `        <a:defRPr b=\"${opts.dataLabelFontBold ? '1' : '0'}\" i=\"${opts.dataLabelFontItalic ? '1' : '0'}\" strike=\"noStrike\" sz=\"${Math.round((opts.dataLabelFontSize || DEF_FONT_SIZE) * 100)}\" u=\"none\">`;\n                strXml += '          <a:solidFill>' + createColorElement(opts.dataLabelColor || DEF_FONT_COLOR) + '</a:solidFill>';\n                strXml += '          <a:latin typeface=\"' + (opts.dataLabelFontFace || 'Arial') + '\"/>';\n                strXml += '        </a:defRPr>';\n                strXml += '      </a:pPr></a:p>';\n                strXml += '    </c:txPr>';\n                if (opts.dataLabelPosition)\n                    strXml += ' <c:dLblPos val=\"' + opts.dataLabelPosition + '\"/>';\n                strXml += '    <c:showLegendKey val=\"0\"/>';\n                strXml += '    <c:showVal val=\"' + (opts.showValue ? '1' : '0') + '\"/>';\n                strXml += '    <c:showCatName val=\"0\"/>';\n                strXml += '    <c:showSerName val=\"' + (opts.showSerName ? '1' : '0') + '\"/>';\n                strXml += '    <c:showPercent val=\"0\"/>';\n                strXml += '    <c:showBubbleSize val=\"0\"/>';\n                strXml += '  </c:dLbls>';\n            }\n            // 4: Add axis Id (NOTE: order matters! - category comes first)\n            strXml += `<c:axId val=\"${catAxisId}\"/><c:axId val=\"${valAxisId}\"/>`;\n            // 5: Close Chart tag\n            strXml += '</c:' + chartType + 'Chart>';\n            // end switch\n            break;\n        case CHART_TYPE.BUBBLE:\n        case CHART_TYPE.BUBBLE3D:\n            /*\n                `data` = [\n                    { name:'X-Axis',     values:[1,2,3,4,5,6,7,8,9,10,11,12] },\n                    { name:'Y-Values 1', values:[13, 20, 21, 25], sizes:[10, 5, 20, 15] },\n                    { name:'Y-Values 2', values:[ 1,  2,  5,  9], sizes:[ 5, 3,  9,  3] }\n                ];\n            */\n            // 1: Start Chart\n            strXml += '<c:bubbleChart>';\n            strXml += '<c:varyColors val=\"0\"/>';\n            // 2: Series: (One for each Y-Axis)\n            colorIndex = -1;\n            data.filter((_obj, idx) => idx > 0).forEach((obj, idx) => {\n                colorIndex++;\n                strXml += '<c:ser>';\n                strXml += `  <c:idx val=\"${idx}\"/>`;\n                strXml += `  <c:order val=\"${idx}\"/>`;\n                // A: `<c:tx>`\n                strXml += '  <c:tx>';\n                strXml += '    <c:strRef>';\n                strXml += '      <c:f>Sheet1!$' + getExcelColName(idxColLtr + 1) + '$1</c:f>';\n                strXml += '      <c:strCache><c:ptCount val=\"1\"/><c:pt idx=\"0\"><c:v>' + encodeXmlEntities(obj.name) + '</c:v></c:pt></c:strCache>';\n                strXml += '    </c:strRef>';\n                strXml += '  </c:tx>';\n                // B: '<c:spPr>': Fill, Border, Line, LineStyle (dash, etc.), Shadow\n                {\n                    strXml += '<c:spPr>';\n                    const tmpSerColor = opts.chartColors[colorIndex % opts.chartColors.length];\n                    if (tmpSerColor === 'transparent') {\n                        strXml += '<a:noFill/>';\n                    }\n                    else if (opts.chartColorsOpacity) {\n                        strXml += `<a:solidFill>${createColorElement(tmpSerColor, '<a:alpha val=\"' + Math.round(opts.chartColorsOpacity * 1000).toString() + '\"/>')}</a:solidFill>`;\n                    }\n                    else {\n                        strXml += '<a:solidFill>' + createColorElement(tmpSerColor) + '</a:solidFill>';\n                    }\n                    if (opts.lineSize === 0) {\n                        strXml += '<a:ln><a:noFill/></a:ln>';\n                    }\n                    else if (opts.dataBorder) {\n                        strXml += `<a:ln w=\"${valToPts(opts.dataBorder.pt)}\" cap=\"flat\"><a:solidFill>${createColorElement(opts.dataBorder.color)}</a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>`;\n                    }\n                    else {\n                        strXml += `<a:ln w=\"${valToPts(opts.lineSize)}\" cap=\"flat\"><a:solidFill>${createColorElement(tmpSerColor)}</a:solidFill>`;\n                        strXml += `<a:prstDash val=\"${opts.lineDash || 'solid'}\"/><a:round/></a:ln>`;\n                    }\n                    // Shadow\n                    strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                    strXml += '</c:spPr>';\n                }\n                // C: '<c:dLbls>' \"Data Labels\"\n                // Let it be defaulted for now\n                // D: '<c:xVal>'/'<c:yVal>' \"Values\": Scatter Chart has 2: `xVal` and `yVal`\n                {\n                    // X-Axis is always the same\n                    strXml += '<c:xVal>';\n                    strXml += '  <c:numRef>';\n                    strXml += `    <c:f>Sheet1!$A$2:$A$${data[0].values.length + 1}</c:f>`;\n                    strXml += '    <c:numCache>';\n                    strXml += '      <c:formatCode>General</c:formatCode>';\n                    strXml += `      <c:ptCount val=\"${data[0].values.length}\"/>`;\n                    data[0].values.forEach((value, idx) => {\n                        strXml += `<c:pt idx=\"${idx}\"><c:v>${value || value === 0 ? value : ''}</c:v></c:pt>`;\n                    });\n                    strXml += '    </c:numCache>';\n                    strXml += '  </c:numRef>';\n                    strXml += '</c:xVal>';\n                    // Y-Axis vals are this object's `values`\n                    strXml += '<c:yVal>';\n                    strXml += '  <c:numRef>';\n                    strXml += `<c:f>Sheet1!$${getExcelColName(idxColLtr + 1)}$2:$${getExcelColName(idxColLtr + 1)}$${data[0].values.length + 1}</c:f>`;\n                    idxColLtr++;\n                    strXml += '    <c:numCache>';\n                    strXml += '      <c:formatCode>General</c:formatCode>';\n                    // NOTE: Use pt count and iterate over data[0] (X-Axis) as user can have more values than data (eg: timeline where only first few months are populated)\n                    strXml += `      <c:ptCount val=\"${data[0].values.length}\"/>`;\n                    data[0].values.forEach((_value, idx) => {\n                        strXml += `<c:pt idx=\"${idx}\"><c:v>${obj.values[idx] || obj.values[idx] === 0 ? obj.values[idx] : ''}</c:v></c:pt>`;\n                    });\n                    strXml += '    </c:numCache>';\n                    strXml += '  </c:numRef>';\n                    strXml += '</c:yVal>';\n                }\n                // E: '<c:bubbleSize>'\n                strXml += '  <c:bubbleSize>';\n                strXml += '    <c:numRef>';\n                strXml += `<c:f>Sheet1!$${getExcelColName(idxColLtr + 1)}$2:$${getExcelColName(idxColLtr + 1)}$${obj.sizes.length + 1}</c:f>`;\n                idxColLtr++;\n                strXml += '      <c:numCache>';\n                strXml += '        <c:formatCode>General</c:formatCode>';\n                strXml += `           <c:ptCount val=\"${obj.sizes.length}\"/>`;\n                obj.sizes.forEach((value, idx) => {\n                    strXml += `<c:pt idx=\"${idx}\"><c:v>${value || ''}</c:v></c:pt>`;\n                });\n                strXml += '      </c:numCache>';\n                strXml += '    </c:numRef>';\n                strXml += '  </c:bubbleSize>';\n                strXml += '  <c:bubble3D val=\"' + (chartType === CHART_TYPE.BUBBLE3D ? '1' : '0') + '\"/>';\n                // F: Close \"SERIES\"\n                strXml += '</c:ser>';\n            });\n            // 3: Data Labels\n            {\n                strXml += '<c:dLbls>';\n                strXml += `<c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n                strXml += '<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>';\n                strXml += `<a:defRPr b=\"${opts.dataLabelFontBold ? 1 : 0}\" i=\"${opts.dataLabelFontItalic ? 1 : 0}\" strike=\"noStrike\" sz=\"${Math.round(Math.round(opts.dataLabelFontSize || DEF_FONT_SIZE) * 100)}\" u=\"none\">`;\n                strXml += `<a:solidFill>${createColorElement(opts.dataLabelColor || DEF_FONT_COLOR)}</a:solidFill>`;\n                strXml += `<a:latin typeface=\"${opts.dataLabelFontFace || 'Arial'}\"/>`;\n                strXml += '</a:defRPr></a:pPr></a:p></c:txPr>';\n                if (opts.dataLabelPosition)\n                    strXml += `<c:dLblPos val=\"${opts.dataLabelPosition}\"/>`;\n                strXml += '<c:showLegendKey val=\"0\"/>';\n                strXml += `<c:showVal val=\"${opts.showValue ? '1' : '0'}\"/>`;\n                strXml += `<c:showCatName val=\"0\"/><c:showSerName val=\"${opts.showSerName ? '1' : '0'}\"/><c:showPercent val=\"0\"/><c:showBubbleSize val=\"0\"/>`;\n                strXml += '<c:extLst>';\n                strXml += '  <c:ext uri=\"{CE6537A1-D6FC-4f65-9D91-7224C49458BB}\" xmlns:c15=\"http://schemas.microsoft.com/office/drawing/2012/chart\">';\n                strXml += '    <c15:showLeaderLines val=\"' + (opts.showLeaderLines ? '1' : '0') + '\"/>';\n                strXml += '  </c:ext>';\n                strXml += '</c:extLst>';\n                strXml += '</c:dLbls>';\n            }\n            // 4: Bubble options\n            // strXml += '  <c:bubbleScale val=\"100\"/>';\n            // strXml += '  <c:showNegBubbles val=\"0\"/>';\n            // Commented out to let it default to PPT until we create options\n            // 5: AxisId (NOTE: order matters! (category comes first))\n            strXml += `<c:axId val=\"${catAxisId}\"/><c:axId val=\"${valAxisId}\"/>`;\n            // 6: Close Chart tag\n            strXml += '</c:bubbleChart>';\n            // end switch\n            break;\n        case CHART_TYPE.DOUGHNUT:\n        case CHART_TYPE.PIE:\n            // Use the same let name so code blocks from barChart are interchangeable\n            optsChartData = data[0];\n            /* EX:\n                data: [\n                 {\n                   name: 'Project Status',\n                   labels: ['Red', 'Amber', 'Green', 'Unknown'],\n                   values: [10, 20, 38, 2]\n                 }\n                ]\n            */\n            // 1: Start Chart\n            strXml += '<c:' + chartType + 'Chart>';\n            strXml += '  <c:varyColors val=\"1\"/>';\n            strXml += '<c:ser>';\n            strXml += '  <c:idx val=\"0\"/>';\n            strXml += '  <c:order val=\"0\"/>';\n            strXml += '  <c:tx>';\n            strXml += '    <c:strRef>';\n            strXml += '      <c:f>Sheet1!$B$1</c:f>';\n            strXml += '      <c:strCache>';\n            strXml += '        <c:ptCount val=\"1\"/>';\n            strXml += '        <c:pt idx=\"0\"><c:v>' + encodeXmlEntities(optsChartData.name) + '</c:v></c:pt>';\n            strXml += '      </c:strCache>';\n            strXml += '    </c:strRef>';\n            strXml += '  </c:tx>';\n            strXml += '  <c:spPr>';\n            strXml += '    <a:solidFill><a:schemeClr val=\"accent1\"/></a:solidFill>';\n            strXml += '    <a:ln w=\"9525\" cap=\"flat\"><a:solidFill><a:srgbClr val=\"F9F9F9\"/></a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>';\n            if (opts.dataNoEffects) {\n                strXml += '<a:effectLst/>';\n            }\n            else {\n                strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n            }\n            strXml += '  </c:spPr>';\n            // strXml += '<c:explosion val=\"0\"/>'\n            // 2: \"Data Point\" block for every data row\n            optsChartData.labels[0].forEach((_label, idx) => {\n                strXml += '<c:dPt>';\n                strXml += ` <c:idx val=\"${idx}\"/>`;\n                strXml += ' <c:bubble3D val=\"0\"/>';\n                strXml += ' <c:spPr>';\n                strXml += `<a:solidFill>${createColorElement(opts.chartColors[idx + 1 > opts.chartColors.length ? Math.floor(Math.random() * opts.chartColors.length) : idx])}</a:solidFill>`;\n                if (opts.dataBorder) {\n                    strXml += `<a:ln w=\"${valToPts(opts.dataBorder.pt)}\" cap=\"flat\"><a:solidFill>${createColorElement(opts.dataBorder.color)}</a:solidFill><a:prstDash val=\"solid\"/><a:round/></a:ln>`;\n                }\n                strXml += createShadowElement(opts.shadow, DEF_SHAPE_SHADOW);\n                strXml += '  </c:spPr>';\n                strXml += '</c:dPt>';\n            });\n            // 3: \"Data Label\" block for every data Label\n            strXml += '<c:dLbls>';\n            optsChartData.labels[0].forEach((_label, idx) => {\n                strXml += '<c:dLbl>';\n                strXml += ` <c:idx val=\"${idx}\"/>`;\n                strXml += `  <c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n                strXml += '  <c:spPr/><c:txPr>';\n                strXml += '   <a:bodyPr/><a:lstStyle/>';\n                strXml += '   <a:p><a:pPr>';\n                strXml += `   <a:defRPr sz=\"${Math.round((opts.dataLabelFontSize || DEF_FONT_SIZE) * 100)}\" b=\"${opts.dataLabelFontBold ? 1 : 0}\" i=\"${opts.dataLabelFontItalic ? 1 : 0}\" u=\"none\" strike=\"noStrike\">`;\n                strXml += '    <a:solidFill>' + createColorElement(opts.dataLabelColor || DEF_FONT_COLOR) + '</a:solidFill>';\n                strXml += `    <a:latin typeface=\"${opts.dataLabelFontFace || 'Arial'}\"/>`;\n                strXml += '   </a:defRPr>';\n                strXml += '      </a:pPr></a:p>';\n                strXml += '    </c:txPr>';\n                if (chartType === CHART_TYPE.PIE && opts.dataLabelPosition)\n                    strXml += `<c:dLblPos val=\"${opts.dataLabelPosition}\"/>`;\n                strXml += '    <c:showLegendKey val=\"0\"/>';\n                strXml += '    <c:showVal val=\"' + (opts.showValue ? '1' : '0') + '\"/>';\n                strXml += '    <c:showCatName val=\"' + (opts.showLabel ? '1' : '0') + '\"/>';\n                strXml += '    <c:showSerName val=\"' + (opts.showSerName ? '1' : '0') + '\"/>';\n                strXml += '    <c:showPercent val=\"' + (opts.showPercent ? '1' : '0') + '\"/>';\n                strXml += '    <c:showBubbleSize val=\"0\"/>';\n                strXml += '  </c:dLbl>';\n            });\n            strXml += ` <c:numFmt formatCode=\"${encodeXmlEntities(opts.dataLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n            strXml += '    <c:txPr>';\n            strXml += '      <a:bodyPr/>';\n            strXml += '      <a:lstStyle/>';\n            strXml += '      <a:p>';\n            strXml += '        <a:pPr>';\n            strXml += `          <a:defRPr sz=\"1800\" b=\"${opts.dataLabelFontBold ? '1' : '0'}\" i=\"${opts.dataLabelFontItalic ? '1' : '0'}\" u=\"none\" strike=\"noStrike\">`;\n            strXml += '            <a:solidFill><a:srgbClr val=\"000000\"/></a:solidFill><a:latin typeface=\"Arial\"/>';\n            strXml += '          </a:defRPr>';\n            strXml += '        </a:pPr>';\n            strXml += '      </a:p>';\n            strXml += '    </c:txPr>';\n            strXml += chartType === CHART_TYPE.PIE ? '<c:dLblPos val=\"ctr\"/>' : '';\n            strXml += '    <c:showLegendKey val=\"0\"/>';\n            strXml += '    <c:showVal val=\"0\"/>';\n            strXml += '    <c:showCatName val=\"1\"/>';\n            strXml += '    <c:showSerName val=\"0\"/>';\n            strXml += '    <c:showPercent val=\"1\"/>';\n            strXml += '    <c:showBubbleSize val=\"0\"/>';\n            strXml += ` <c:showLeaderLines val=\"${opts.showLeaderLines ? '1' : '0'}\"/>`;\n            strXml += '</c:dLbls>';\n            // 2: \"Categories\"\n            strXml += '<c:cat>';\n            strXml += '  <c:strRef>';\n            strXml += `    <c:f>Sheet1!$A$2:$A$${optsChartData.labels[0].length + 1}</c:f>`;\n            strXml += '    <c:strCache>';\n            strXml += `         <c:ptCount val=\"${optsChartData.labels[0].length}\"/>`;\n            optsChartData.labels[0].forEach((label, idx) => {\n                strXml += `<c:pt idx=\"${idx}\"><c:v>${encodeXmlEntities(label)}</c:v></c:pt>`;\n            });\n            strXml += '    </c:strCache>';\n            strXml += '  </c:strRef>';\n            strXml += '</c:cat>';\n            // 3: Create vals\n            strXml += '  <c:val>';\n            strXml += '    <c:numRef>';\n            strXml += `      <c:f>Sheet1!$B$2:$B$${optsChartData.labels[0].length + 1}</c:f>`;\n            strXml += '      <c:numCache>';\n            strXml += `           <c:ptCount val=\"${optsChartData.labels[0].length}\"/>`;\n            optsChartData.values.forEach((value, idx) => {\n                strXml += `<c:pt idx=\"${idx}\"><c:v>${value || value === 0 ? value : ''}</c:v></c:pt>`;\n            });\n            strXml += '      </c:numCache>';\n            strXml += '    </c:numRef>';\n            strXml += '  </c:val>';\n            // 4: Close \"SERIES\"\n            strXml += '  </c:ser>';\n            strXml += `  <c:firstSliceAng val=\"${opts.firstSliceAng ? Math.round(opts.firstSliceAng) : 0}\"/>`;\n            if (chartType === CHART_TYPE.DOUGHNUT)\n                strXml += `<c:holeSize val=\"${typeof opts.holeSize === 'number' ? opts.holeSize : '50'}\"/>`;\n            strXml += '</c:' + chartType + 'Chart>';\n            // Done with Doughnut/Pie\n            break;\n        default:\n            strXml += '';\n            break;\n    }\n    return strXml;\n}\n/**\n * Create Category axis\n * @param {IChartOptsLib} opts - chart options\n * @param {string} axisId - value\n * @param {string} valAxisId - value\n * @return {string} XML\n */\nfunction makeCatAxis(opts, axisId, valAxisId) {\n    let strXml = '';\n    // Build cat axis tag\n    // NOTE: Scatter and Bubble chart need two Val axises as they display numbers on x axis\n    if (opts._type === CHART_TYPE.SCATTER || opts._type === CHART_TYPE.BUBBLE || opts._type === CHART_TYPE.BUBBLE3D) {\n        strXml += '<c:valAx>';\n    }\n    else {\n        strXml += '<c:' + (opts.catLabelFormatCode ? 'dateAx' : 'catAx') + '>';\n    }\n    strXml += '  <c:axId val=\"' + axisId + '\"/>';\n    strXml += '  <c:scaling>';\n    strXml += '<c:orientation val=\"' + (opts.catAxisOrientation || (opts.barDir === 'col' ? 'minMax' : 'minMax')) + '\"/>';\n    if (opts.catAxisMaxVal || opts.catAxisMaxVal === 0)\n        strXml += `<c:max val=\"${opts.catAxisMaxVal}\"/>`;\n    if (opts.catAxisMinVal || opts.catAxisMinVal === 0)\n        strXml += `<c:min val=\"${opts.catAxisMinVal}\"/>`;\n    strXml += '</c:scaling>';\n    strXml += '  <c:delete val=\"' + (opts.catAxisHidden ? '1' : '0') + '\"/>';\n    strXml += '  <c:axPos val=\"' + (opts.barDir === 'col' ? 'b' : 'l') + '\"/>';\n    strXml += opts.catGridLine.style !== 'none' ? createGridLineElement(opts.catGridLine) : '';\n    // '<c:title>' comes between '</c:majorGridlines>' and '<c:numFmt>'\n    if (opts.showCatAxisTitle) {\n        strXml += genXmlTitle({\n            color: opts.catAxisTitleColor,\n            fontFace: opts.catAxisTitleFontFace,\n            fontSize: opts.catAxisTitleFontSize,\n            titleRotate: opts.catAxisTitleRotate,\n            title: opts.catAxisTitle || 'Axis Title',\n        });\n    }\n    // NOTE: Adding Val Axis Formatting if scatter or bubble charts\n    if (opts._type === CHART_TYPE.SCATTER || opts._type === CHART_TYPE.BUBBLE || opts._type === CHART_TYPE.BUBBLE3D) {\n        strXml += '  <c:numFmt formatCode=\"' + (opts.valAxisLabelFormatCode ? encodeXmlEntities(opts.valAxisLabelFormatCode) : 'General') + '\" sourceLinked=\"1\"/>';\n    }\n    else {\n        strXml += '  <c:numFmt formatCode=\"' + (encodeXmlEntities(opts.catLabelFormatCode) || 'General') + '\" sourceLinked=\"1\"/>';\n    }\n    if (opts._type === CHART_TYPE.SCATTER) {\n        strXml += '  <c:majorTickMark val=\"none\"/>';\n        strXml += '  <c:minorTickMark val=\"none\"/>';\n        strXml += '  <c:tickLblPos val=\"nextTo\"/>';\n    }\n    else {\n        strXml += '  <c:majorTickMark val=\"' + (opts.catAxisMajorTickMark || 'out') + '\"/>';\n        strXml += '  <c:minorTickMark val=\"' + (opts.catAxisMinorTickMark || 'none') + '\"/>';\n        strXml += '  <c:tickLblPos val=\"' + (opts.catAxisLabelPos || (opts.barDir === 'col' ? 'low' : 'nextTo')) + '\"/>';\n    }\n    strXml += '  <c:spPr>';\n    strXml += `    <a:ln w=\"${opts.catAxisLineSize ? valToPts(opts.catAxisLineSize) : ONEPT}\" cap=\"flat\">`;\n    strXml += !opts.catAxisLineShow ? '<a:noFill/>' : '<a:solidFill>' + createColorElement(opts.catAxisLineColor || DEF_CHART_GRIDLINE.color) + '</a:solidFill>';\n    strXml += '      <a:prstDash val=\"' + (opts.catAxisLineStyle || 'solid') + '\"/>';\n    strXml += '      <a:round/>';\n    strXml += '    </a:ln>';\n    strXml += '  </c:spPr>';\n    strXml += '  <c:txPr>';\n    if (opts.catAxisLabelRotate) {\n        strXml += `<a:bodyPr rot=\"${convertRotationDegrees(opts.catAxisLabelRotate)}\"/>`;\n    }\n    else {\n        // NOTE: don't specify \"`rot=0\" - that way the object will be auto behavior\n        strXml += '<a:bodyPr/>';\n    }\n    strXml += '    <a:lstStyle/>';\n    strXml += '    <a:p>';\n    strXml += '    <a:pPr>';\n    strXml += `      <a:defRPr sz=\"${Math.round((opts.catAxisLabelFontSize || DEF_FONT_SIZE) * 100)}\" b=\"${opts.catAxisLabelFontBold ? 1 : 0}\" i=\"${opts.catAxisLabelFontItalic ? 1 : 0}\" u=\"none\" strike=\"noStrike\">`;\n    strXml += '      <a:solidFill>' + createColorElement(opts.catAxisLabelColor || DEF_FONT_COLOR) + '</a:solidFill>';\n    strXml += '      <a:latin typeface=\"' + (opts.catAxisLabelFontFace || 'Arial') + '\"/>';\n    strXml += '   </a:defRPr>';\n    strXml += '  </a:pPr>';\n    strXml += '  <a:endParaRPr lang=\"' + (opts.lang || 'en-US') + '\"/>';\n    strXml += '  </a:p>';\n    strXml += ' </c:txPr>';\n    strXml += ' <c:crossAx val=\"' + valAxisId + '\"/>';\n    strXml += ` <c:${typeof opts.valAxisCrossesAt === 'number' ? 'crossesAt' : 'crosses'} val=\"${opts.valAxisCrossesAt || 'autoZero'}\"/>`;\n    strXml += ' <c:auto val=\"1\"/>';\n    strXml += ' <c:lblAlgn val=\"ctr\"/>';\n    strXml += ` <c:noMultiLvlLbl val=\"${opts.catAxisMultiLevelLabels ? 0 : 1}\"/>`;\n    if (opts.catAxisLabelFrequency)\n        strXml += ' <c:tickLblSkip val=\"' + opts.catAxisLabelFrequency + '\"/>';\n    // Issue#149: PPT will auto-adjust these as needed after calcing the date bounds, so we only include them when specified by user\n    // Allow major and minor units to be set for double value axis charts\n    if (opts.catLabelFormatCode || opts._type === CHART_TYPE.SCATTER || opts._type === CHART_TYPE.BUBBLE || opts._type === CHART_TYPE.BUBBLE3D) {\n        if (opts.catLabelFormatCode) {\n            ['catAxisBaseTimeUnit', 'catAxisMajorTimeUnit', 'catAxisMinorTimeUnit'].forEach(opt => {\n                // Validate input as poorly chosen/garbage options will cause chart corruption and it wont render at all!\n                if (opts[opt] && (typeof opts[opt] !== 'string' || !['days', 'months', 'years'].includes(opts[opt].toLowerCase()))) {\n                    console.warn(`\"${opt}\" must be one of: 'days','months','years' !`);\n                    opts[opt] = null;\n                }\n            });\n            if (opts.catAxisBaseTimeUnit)\n                strXml += '<c:baseTimeUnit val=\"' + opts.catAxisBaseTimeUnit.toLowerCase() + '\"/>';\n            if (opts.catAxisMajorTimeUnit)\n                strXml += '<c:majorTimeUnit val=\"' + opts.catAxisMajorTimeUnit.toLowerCase() + '\"/>';\n            if (opts.catAxisMinorTimeUnit)\n                strXml += '<c:minorTimeUnit val=\"' + opts.catAxisMinorTimeUnit.toLowerCase() + '\"/>';\n        }\n        if (opts.catAxisMajorUnit)\n            strXml += `<c:majorUnit val=\"${opts.catAxisMajorUnit}\"/>`;\n        if (opts.catAxisMinorUnit)\n            strXml += `<c:minorUnit val=\"${opts.catAxisMinorUnit}\"/>`;\n    }\n    // Close cat axis tag\n    // NOTE: Added closing tag of val or cat axis based on chart type\n    if (opts._type === CHART_TYPE.SCATTER || opts._type === CHART_TYPE.BUBBLE || opts._type === CHART_TYPE.BUBBLE3D) {\n        strXml += '</c:valAx>';\n    }\n    else {\n        strXml += '</c:' + (opts.catLabelFormatCode ? 'dateAx' : 'catAx') + '>';\n    }\n    return strXml;\n}\n/**\n * Create Value Axis (Used by `bar3D`)\n * @param {IChartOptsLib} opts - chart options\n * @param {string} valAxisId - value\n * @return {string} XML\n */\nfunction makeValAxis(opts, valAxisId) {\n    let axisPos = valAxisId === AXIS_ID_VALUE_PRIMARY ? (opts.barDir === 'col' ? 'l' : 'b') : opts.barDir !== 'col' ? 'r' : 't';\n    if (valAxisId === AXIS_ID_VALUE_SECONDARY)\n        axisPos = 'r'; // default behavior for PPT is showing 2nd val axis on right (primary axis on left)\n    const crossAxId = valAxisId === AXIS_ID_VALUE_PRIMARY ? AXIS_ID_CATEGORY_PRIMARY : AXIS_ID_CATEGORY_SECONDARY;\n    let strXml = '';\n    strXml += '<c:valAx>';\n    strXml += '  <c:axId val=\"' + valAxisId + '\"/>';\n    strXml += '  <c:scaling>';\n    if (opts.valAxisLogScaleBase)\n        strXml += `<c:logBase val=\"${opts.valAxisLogScaleBase}\"/>`;\n    strXml += '<c:orientation val=\"' + (opts.valAxisOrientation || (opts.barDir === 'col' ? 'minMax' : 'minMax')) + '\"/>';\n    if (opts.valAxisMaxVal || opts.valAxisMaxVal === 0)\n        strXml += `<c:max val=\"${opts.valAxisMaxVal}\"/>`;\n    if (opts.valAxisMinVal || opts.valAxisMinVal === 0)\n        strXml += `<c:min val=\"${opts.valAxisMinVal}\"/>`;\n    strXml += '  </c:scaling>';\n    strXml += `  <c:delete val=\"${opts.valAxisHidden ? 1 : 0}\"/>`;\n    strXml += '  <c:axPos val=\"' + axisPos + '\"/>';\n    if (opts.valGridLine.style !== 'none')\n        strXml += createGridLineElement(opts.valGridLine);\n    // '<c:title>' comes between '</c:majorGridlines>' and '<c:numFmt>'\n    if (opts.showValAxisTitle) {\n        strXml += genXmlTitle({\n            color: opts.valAxisTitleColor,\n            fontFace: opts.valAxisTitleFontFace,\n            fontSize: opts.valAxisTitleFontSize,\n            titleRotate: opts.valAxisTitleRotate,\n            title: opts.valAxisTitle || 'Axis Title',\n        });\n    }\n    strXml += `<c:numFmt formatCode=\"${opts.valAxisLabelFormatCode ? encodeXmlEntities(opts.valAxisLabelFormatCode) : 'General'}\" sourceLinked=\"0\"/>`;\n    if (opts._type === CHART_TYPE.SCATTER) {\n        strXml += '  <c:majorTickMark val=\"none\"/>';\n        strXml += '  <c:minorTickMark val=\"none\"/>';\n        strXml += '  <c:tickLblPos val=\"nextTo\"/>';\n    }\n    else {\n        strXml += ' <c:majorTickMark val=\"' + (opts.valAxisMajorTickMark || 'out') + '\"/>';\n        strXml += ' <c:minorTickMark val=\"' + (opts.valAxisMinorTickMark || 'none') + '\"/>';\n        strXml += ' <c:tickLblPos val=\"' + (opts.valAxisLabelPos || (opts.barDir === 'col' ? 'nextTo' : 'low')) + '\"/>';\n    }\n    strXml += ' <c:spPr>';\n    strXml += `   <a:ln w=\"${opts.valAxisLineSize ? valToPts(opts.valAxisLineSize) : ONEPT}\" cap=\"flat\">`;\n    strXml += !opts.valAxisLineShow ? '<a:noFill/>' : '<a:solidFill>' + createColorElement(opts.valAxisLineColor || DEF_CHART_GRIDLINE.color) + '</a:solidFill>';\n    strXml += '     <a:prstDash val=\"' + (opts.valAxisLineStyle || 'solid') + '\"/>';\n    strXml += '     <a:round/>';\n    strXml += '   </a:ln>';\n    strXml += ' </c:spPr>';\n    strXml += ' <c:txPr>';\n    strXml += `  <a:bodyPr${opts.valAxisLabelRotate ? (' rot=\"' + convertRotationDegrees(opts.valAxisLabelRotate).toString() + '\"') : ''}/>`; // don't specify rot 0 so we get the auto behavior\n    strXml += '  <a:lstStyle/>';\n    strXml += '  <a:p>';\n    strXml += '    <a:pPr>';\n    strXml += `      <a:defRPr sz=\"${Math.round((opts.valAxisLabelFontSize || DEF_FONT_SIZE) * 100)}\" b=\"${opts.valAxisLabelFontBold ? 1 : 0}\" i=\"${opts.valAxisLabelFontItalic ? 1 : 0}\" u=\"none\" strike=\"noStrike\">`;\n    strXml += '        <a:solidFill>' + createColorElement(opts.valAxisLabelColor || DEF_FONT_COLOR) + '</a:solidFill>';\n    strXml += '        <a:latin typeface=\"' + (opts.valAxisLabelFontFace || 'Arial') + '\"/>';\n    strXml += '      </a:defRPr>';\n    strXml += '    </a:pPr>';\n    strXml += '  <a:endParaRPr lang=\"' + (opts.lang || 'en-US') + '\"/>';\n    strXml += '  </a:p>';\n    strXml += ' </c:txPr>';\n    strXml += ' <c:crossAx val=\"' + crossAxId + '\"/>';\n    if (typeof opts.catAxisCrossesAt === 'number') {\n        strXml += ` <c:crossesAt val=\"${opts.catAxisCrossesAt}\"/>`;\n    }\n    else if (typeof opts.catAxisCrossesAt === 'string') {\n        strXml += ' <c:crosses val=\"' + opts.catAxisCrossesAt + '\"/>';\n    }\n    else {\n        const isRight = axisPos === 'r' || axisPos === 't';\n        const crosses = isRight ? 'max' : 'autoZero';\n        strXml += ' <c:crosses val=\"' + crosses + '\"/>';\n    }\n    strXml +=\n        ' <c:crossBetween val=\"' +\n            (opts._type === CHART_TYPE.SCATTER || (!!(Array.isArray(opts._type) && opts._type.filter(type => type.type === CHART_TYPE.AREA).length > 0)) ? 'midCat' : 'between') +\n            '\"/>';\n    if (opts.valAxisMajorUnit)\n        strXml += ` <c:majorUnit val=\"${opts.valAxisMajorUnit}\"/>`;\n    if (opts.valAxisDisplayUnit) {\n        strXml += `<c:dispUnits><c:builtInUnit val=\"${opts.valAxisDisplayUnit}\"/>${opts.valAxisDisplayUnitLabel ? '<c:dispUnitsLbl/>' : ''}</c:dispUnits>`;\n    }\n    strXml += '</c:valAx>';\n    return strXml;\n}\n/**\n * Create Series Axis (Used by `bar3D`)\n * @param {IChartOptsLib} opts - chart options\n * @param {string} axisId - axis ID\n * @param {string} valAxisId - value\n * @return {string} XML\n */\nfunction makeSerAxis(opts, axisId, valAxisId) {\n    let strXml = '';\n    // Build ser axis tag\n    strXml += '<c:serAx>';\n    strXml += '  <c:axId val=\"' + axisId + '\"/>';\n    strXml += '  <c:scaling><c:orientation val=\"' + (opts.serAxisOrientation || (opts.barDir === 'col' ? 'minMax' : 'minMax')) + '\"/></c:scaling>';\n    strXml += '  <c:delete val=\"' + (opts.serAxisHidden ? '1' : '0') + '\"/>';\n    strXml += '  <c:axPos val=\"' + (opts.barDir === 'col' ? 'b' : 'l') + '\"/>';\n    strXml += opts.serGridLine.style !== 'none' ? createGridLineElement(opts.serGridLine) : '';\n    // '<c:title>' comes between '</c:majorGridlines>' and '<c:numFmt>'\n    if (opts.showSerAxisTitle) {\n        strXml += genXmlTitle({\n            color: opts.serAxisTitleColor,\n            fontFace: opts.serAxisTitleFontFace,\n            fontSize: opts.serAxisTitleFontSize,\n            titleRotate: opts.serAxisTitleRotate,\n            title: opts.serAxisTitle || 'Axis Title',\n        });\n    }\n    strXml += `  <c:numFmt formatCode=\"${encodeXmlEntities(opts.serLabelFormatCode) || 'General'}\" sourceLinked=\"0\"/>`;\n    strXml += '  <c:majorTickMark val=\"out\"/>';\n    strXml += '  <c:minorTickMark val=\"none\"/>';\n    strXml += `  <c:tickLblPos val=\"${opts.serAxisLabelPos || opts.barDir === 'col' ? 'low' : 'nextTo'}\"/>`;\n    strXml += '  <c:spPr>';\n    strXml += '    <a:ln w=\"12700\" cap=\"flat\">';\n    strXml += !opts.serAxisLineShow ? '<a:noFill/>' : `<a:solidFill>${createColorElement(opts.serAxisLineColor || DEF_CHART_GRIDLINE.color)}</a:solidFill>`;\n    strXml += '      <a:prstDash val=\"solid\"/>';\n    strXml += '      <a:round/>';\n    strXml += '    </a:ln>';\n    strXml += '  </c:spPr>';\n    strXml += '  <c:txPr>';\n    strXml += '    <a:bodyPr/>'; // don't specify rot 0 so we get the auto behavior\n    strXml += '    <a:lstStyle/>';\n    strXml += '    <a:p>';\n    strXml += '    <a:pPr>';\n    strXml += `    <a:defRPr sz=\"${Math.round((opts.serAxisLabelFontSize || DEF_FONT_SIZE) * 100)}\" b=\"${opts.serAxisLabelFontBold ? '1' : '0'}\" i=\"${opts.serAxisLabelFontItalic ? '1' : '0'}\" u=\"none\" strike=\"noStrike\">`;\n    strXml += `      <a:solidFill>${createColorElement(opts.serAxisLabelColor || DEF_FONT_COLOR)}</a:solidFill>`;\n    strXml += `      <a:latin typeface=\"${opts.serAxisLabelFontFace || 'Arial'}\"/>`;\n    strXml += '   </a:defRPr>';\n    strXml += '  </a:pPr>';\n    strXml += '  <a:endParaRPr lang=\"' + (opts.lang || 'en-US') + '\"/>';\n    strXml += '  </a:p>';\n    strXml += ' </c:txPr>';\n    strXml += ' <c:crossAx val=\"' + valAxisId + '\"/>';\n    strXml += ' <c:crosses val=\"autoZero\"/>';\n    if (opts.serAxisLabelFrequency)\n        strXml += ' <c:tickLblSkip val=\"' + opts.serAxisLabelFrequency + '\"/>';\n    // Issue#149: PPT will auto-adjust these as needed after calcing the date bounds, so we only include them when specified by user\n    if (opts.serLabelFormatCode) {\n        ['serAxisBaseTimeUnit', 'serAxisMajorTimeUnit', 'serAxisMinorTimeUnit'].forEach(opt => {\n            // Validate input as poorly chosen/garbage options will cause chart corruption and it wont render at all!\n            if (opts[opt] && (typeof opts[opt] !== 'string' || !['days', 'months', 'years'].includes(opt.toLowerCase()))) {\n                console.warn(`\"${opt}\" must be one of: 'days','months','years' !`);\n                opts[opt] = null;\n            }\n        });\n        if (opts.serAxisBaseTimeUnit)\n            strXml += ` <c:baseTimeUnit  val=\"${opts.serAxisBaseTimeUnit.toLowerCase()}\"/>`;\n        if (opts.serAxisMajorTimeUnit)\n            strXml += ` <c:majorTimeUnit val=\"${opts.serAxisMajorTimeUnit.toLowerCase()}\"/>`;\n        if (opts.serAxisMinorTimeUnit)\n            strXml += ` <c:minorTimeUnit val=\"${opts.serAxisMinorTimeUnit.toLowerCase()}\"/>`;\n        if (opts.serAxisMajorUnit)\n            strXml += ` <c:majorUnit val=\"${opts.serAxisMajorUnit}\"/>`;\n        if (opts.serAxisMinorUnit)\n            strXml += ` <c:minorUnit val=\"${opts.serAxisMinorUnit}\"/>`;\n    }\n    // Close ser axis tag\n    strXml += '</c:serAx>';\n    return strXml;\n}\n/**\n * Create char title elements\n * @param {IChartPropsTitle} opts - options\n * @return {string} XML `<c:title>`\n */\nfunction genXmlTitle(opts, chartX, chartY) {\n    const align = opts.titleAlign === 'left' || opts.titleAlign === 'right' ? `<a:pPr algn=\"${opts.titleAlign.substring(0, 1)}\">` : '<a:pPr>';\n    const rotate = opts.titleRotate ? `<a:bodyPr rot=\"${convertRotationDegrees(opts.titleRotate)}\"/>` : '<a:bodyPr/>'; // don't specify rotation to get default (ex. vertical for cat axis)\n    const sizeAttr = opts.fontSize ? `sz=\"${Math.round(opts.fontSize * 100)}\"` : ''; // only set the font size if specified.  Powerpoint will handle the default size\n    const titleBold = opts.titleBold ? 1 : 0;\n    let layout = '<c:layout/>';\n    if (opts.titlePos && typeof opts.titlePos.x === 'number' && typeof opts.titlePos.y === 'number') {\n        // NOTE: manualLayout x/y vals are *relative to entire slide*\n        const totalX = opts.titlePos.x + chartX;\n        const totalY = opts.titlePos.y + chartY;\n        let valX = totalX === 0 ? 0 : (totalX * (totalX / 5)) / 10;\n        if (valX >= 1)\n            valX = valX / 10;\n        if (valX >= 0.1)\n            valX = valX / 10;\n        let valY = totalY === 0 ? 0 : (totalY * (totalY / 5)) / 10;\n        if (valY >= 1)\n            valY = valY / 10;\n        if (valY >= 0.1)\n            valY = valY / 10;\n        layout = `<c:layout><c:manualLayout><c:xMode val=\"edge\"/><c:yMode val=\"edge\"/><c:x val=\"${valX}\"/><c:y val=\"${valY}\"/></c:manualLayout></c:layout>`;\n    }\n    return `<c:title>\n      <c:tx>\n        <c:rich>\n          ${rotate}\n          <a:lstStyle/>\n          <a:p>\n            ${align}\n            <a:defRPr ${sizeAttr} b=\"${titleBold}\" i=\"0\" u=\"none\" strike=\"noStrike\">\n              <a:solidFill>${createColorElement(opts.color || DEF_FONT_COLOR)}</a:solidFill>\n              <a:latin typeface=\"${opts.fontFace || 'Arial'}\"/>\n            </a:defRPr>\n          </a:pPr>\n          <a:r>\n            <a:rPr ${sizeAttr} b=\"${titleBold}\" i=\"0\" u=\"none\" strike=\"noStrike\">\n              <a:solidFill>${createColorElement(opts.color || DEF_FONT_COLOR)}</a:solidFill>\n              <a:latin typeface=\"${opts.fontFace || 'Arial'}\"/>\n            </a:rPr>\n            <a:t>${encodeXmlEntities(opts.title) || ''}</a:t>\n          </a:r>\n        </a:p>\n        </c:rich>\n      </c:tx>\n      ${layout}\n      <c:overlay val=\"0\"/>\n    </c:title>`;\n}\n/**\n * Calc and return excel column name for a given column length\n * @param colIndex column index\n * @return column name\n * @example 1 returns 'A'\n * @example 27 returns 'AA'\n */\nfunction getExcelColName(colIndex) {\n    let colStr = '';\n    const colIdx = colIndex - 1; // Subtract 1 so `LETTERS[columnIndex]` returns \"A\" etc\n    if (colIdx <= 25) {\n        // A-Z\n        colStr = LETTERS[colIdx];\n    }\n    else {\n        // AA-ZZ (ZZ = index 702)\n        colStr = `${LETTERS[Math.floor(colIdx / LETTERS.length - 1)]}${LETTERS[colIdx % LETTERS.length]}`;\n    }\n    return colStr;\n}\n/**\n * Creates `a:innerShdw` or `a:outerShdw` depending on pass options `opts`.\n * @param {Object} opts optional shadow properties\n * @param {Object} defaults defaults for unspecified properties in `opts`\n * @see http://officeopenxml.com/drwSp-effects.php\n * @example { type: 'outer', blur: 3, offset: (23000 / 12700), angle: 90, color: '000000', opacity: 0.35, rotateWithShape: true };\n * @return {string} XML\n */\nfunction createShadowElement(options, defaults) {\n    if (!options) {\n        return '<a:effectLst/>';\n    }\n    else if (typeof options !== 'object') {\n        console.warn('`shadow` options must be an object. Ex: `{shadow: {type:\\'none\\'}}`');\n        return '<a:effectLst/>';\n    }\n    let strXml = '<a:effectLst>';\n    const opts = Object.assign(Object.assign({}, defaults), options);\n    const type = opts.type || 'outer';\n    const blur = valToPts(opts.blur);\n    const offset = valToPts(opts.offset);\n    const angle = Math.round(opts.angle * 60000);\n    const color = opts.color;\n    const opacity = Math.round(opts.opacity * 100000);\n    const rotShape = opts.rotateWithShape ? 1 : 0;\n    strXml += `<a:${type}Shdw sx=\"100000\" sy=\"100000\" kx=\"0\" ky=\"0\"  algn=\"bl\" blurRad=\"${blur}\" rotWithShape=\"${rotShape}\" dist=\"${offset}\" dir=\"${angle}\">`;\n    strXml += `<a:srgbClr val=\"${color}\">`;\n    strXml += `<a:alpha val=\"${opacity}\"/></a:srgbClr>`;\n    strXml += `</a:${type}Shdw>`;\n    strXml += '</a:effectLst>';\n    return strXml;\n}\n/**\n * Create Grid Line Element\n * @param {OptsChartGridLine} glOpts {size, color, style}\n * @return {string} XML\n */\nfunction createGridLineElement(glOpts) {\n    let strXml = '<c:majorGridlines>';\n    strXml += ' <c:spPr>';\n    strXml += `  <a:ln w=\"${valToPts(glOpts.size || DEF_CHART_GRIDLINE.size)}\" cap=\"${createLineCap(glOpts.cap || DEF_CHART_GRIDLINE.cap)}\">`;\n    strXml += '  <a:solidFill><a:srgbClr val=\"' + (glOpts.color || DEF_CHART_GRIDLINE.color) + '\"/></a:solidFill>'; // should accept scheme colors as implemented in [Pull #135]\n    strXml += '   <a:prstDash val=\"' + (glOpts.style || DEF_CHART_GRIDLINE.style) + '\"/><a:round/>';\n    strXml += '  </a:ln>';\n    strXml += ' </c:spPr>';\n    strXml += '</c:majorGridlines>';\n    return strXml;\n}\nfunction createLineCap(lineCap) {\n    if (!lineCap || lineCap === 'flat') {\n        return 'flat';\n    }\n    else if (lineCap === 'square') {\n        return 'sq';\n    }\n    else if (lineCap === 'round') {\n        return 'rnd';\n    }\n    else {\n        const neverLineCap = lineCap;\n        throw new Error(`Invalid chart line cap: ${neverLineCap}`);\n    }\n}\n\n/**\n * PptxGenJS: Media Methods\n */\n/**\n * Encode Image/Audio/Video into base64\n * @param {PresSlide | SlideLayout} layout - slide layout\n * @return {Promise} promise\n */\nfunction encodeSlideMediaRels(layout) {\n    var _a, _b;\n    // STEP 1: Detect real Node runtime once\n    const isNode = typeof process !== 'undefined' && !!((_a = process.versions) === null || _a === void 0 ? void 0 : _a.node) && ((_b = process.release) === null || _b === void 0 ? void 0 : _b.name) === 'node';\n    // These will be filled only when were in Node\n    let fs;\n    let https;\n    // STEP 2: Lazy-load Node built-ins if needed\n    const loadNodeDeps = isNode\n        ? () => __awaiter(this, void 0, void 0, function* () {\n            ({ default: fs } = yield import('node:fs'));\n            ({ default: https } = yield import('node:https'));\n        })\n        : () => __awaiter(this, void 0, void 0, function* () { });\n    // Immediately start it when we know were in Node\n    if (isNode)\n        loadNodeDeps();\n    // STEP 3: Prepare promises list\n    const imageProms = [];\n    // A: Capture all audio/image/video candidates for encoding (filtering online/pre-encoded)\n    const candidateRels = layout._relsMedia.filter(rel => rel.type !== 'online' && !rel.data && (!rel.path || (rel.path && !rel.path.includes('preencoded'))));\n    // B: PERF: Mark dupes (same `path`) to avoid loading the same media over-and-over!\n    const unqPaths = [];\n    candidateRels.forEach(rel => {\n        if (!unqPaths.includes(rel.path)) {\n            rel.isDuplicate = false;\n            unqPaths.push(rel.path);\n        }\n        else {\n            rel.isDuplicate = true;\n        }\n    });\n    // STEP 4: Read/Encode each unique media item\n    candidateRels\n        .filter(rel => !rel.isDuplicate)\n        .forEach(rel => {\n        imageProms.push((() => __awaiter(this, void 0, void 0, function* () {\n            if (!https)\n                yield loadNodeDeps();\n            //   NODE LOCAL FILE  \n            if (isNode && fs && rel.path.indexOf('http') !== 0) {\n                try {\n                    const bitmap = fs.readFileSync(rel.path);\n                    rel.data = Buffer.from(bitmap).toString('base64');\n                    candidateRels\n                        .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                        .forEach(dupe => (dupe.data = rel.data));\n                    return 'done';\n                }\n                catch (ex) {\n                    rel.data = IMG_BROKEN;\n                    candidateRels\n                        .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                        .forEach(dupe => (dupe.data = rel.data));\n                    throw new Error(`ERROR: Unable to read media: \"${rel.path}\"\\n${String(ex)}`);\n                }\n            }\n            //   NODE HTTP(S)  \n            if (isNode && https && rel.path.startsWith('http')) {\n                return yield new Promise((resolve, reject) => {\n                    https.get(rel.path, res => {\n                        let raw = '';\n                        res.setEncoding('binary'); // IMPORTANT: Only binary encoding works\n                        res.on('data', chunk => (raw += chunk));\n                        res.on('end', () => {\n                            rel.data = Buffer.from(raw, 'binary').toString('base64');\n                            candidateRels\n                                .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                                .forEach(dupe => (dupe.data = rel.data));\n                            resolve('done');\n                        });\n                        res.on('error', () => {\n                            rel.data = IMG_BROKEN;\n                            candidateRels\n                                .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                                .forEach(dupe => (dupe.data = rel.data));\n                            reject(new Error(`ERROR! Unable to load image (https.get): ${rel.path}`));\n                        });\n                    });\n                });\n            }\n            //   BROWSER  \n            return yield new Promise((resolve, reject) => {\n                // A: build request\n                const xhr = new XMLHttpRequest();\n                xhr.onload = () => {\n                    const reader = new FileReader();\n                    reader.onloadend = () => {\n                        rel.data = reader.result;\n                        candidateRels\n                            .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                            .forEach(dupe => (dupe.data = rel.data));\n                        if (!rel.isSvgPng) {\n                            resolve('done');\n                        }\n                        else {\n                            createSvgPngPreview(rel)\n                                .then(() => resolve('done'))\n                                .catch(reject);\n                        }\n                    };\n                    reader.readAsDataURL(xhr.response);\n                };\n                xhr.onerror = () => {\n                    rel.data = IMG_BROKEN;\n                    candidateRels\n                        .filter(dupe => dupe.isDuplicate && dupe.path === rel.path)\n                        .forEach(dupe => (dupe.data = rel.data));\n                    reject(new Error(`ERROR! Unable to load image (xhr.onerror): ${rel.path}`));\n                };\n                // B: execute request\n                xhr.open('GET', rel.path);\n                xhr.responseType = 'blob';\n                xhr.send();\n            });\n        }))());\n    });\n    // STEP 5: SVG-PNG previews\n    // ......: \"SVG:\" base64 data still requires a png to be generated\n    // ......: (`isSvgPng` flag this as the preview image, not the SVG itself)\n    layout._relsMedia\n        .filter(rel => rel.isSvgPng && rel.data)\n        .forEach(rel => {\n        (() => __awaiter(this, void 0, void 0, function* () {\n            if (isNode && !fs)\n                yield loadNodeDeps();\n            if (isNode && fs) {\n                // console.log('Sorry, SVG is not supported in Node (more info: https://github.com/gitbrent/PptxGenJS/issues/401)')\n                rel.data = IMG_BROKEN;\n                imageProms.push(Promise.resolve('done'));\n            }\n            else {\n                imageProms.push(createSvgPngPreview(rel));\n            }\n        }))();\n    });\n    return imageProms;\n}\n/**\n * Create SVG preview image\n * @param {ISlideRelMedia} rel - slide rel\n * @return {Promise} promise\n */\nfunction createSvgPngPreview(rel) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield new Promise((resolve, reject) => {\n            // A: Create\n            const image = new Image();\n            // B: Set onload event\n            image.onload = () => {\n                // First: Check for any errors: This is the best method (try/catch wont work, etc.)\n                if (image.width + image.height === 0) {\n                    image.onerror('h/w=0');\n                }\n                let canvas = document.createElement('CANVAS');\n                const ctx = canvas.getContext('2d');\n                canvas.width = image.width;\n                canvas.height = image.height;\n                ctx.drawImage(image, 0, 0);\n                // Users running on local machine will get the following error:\n                // \"SecurityError: Failed to execute 'toDataURL' on 'HTMLCanvasElement': Tainted canvases may not be exported.\"\n                // when the canvas.toDataURL call executes below.\n                try {\n                    rel.data = canvas.toDataURL(rel.type);\n                    resolve('done');\n                }\n                catch (ex) {\n                    image.onerror(ex.toString());\n                }\n                canvas = null;\n            };\n            image.onerror = () => {\n                rel.data = IMG_BROKEN;\n                reject(new Error(`ERROR! Unable to load image (image.onerror): ${rel.path}`));\n            };\n            // C: Load image\n            image.src = typeof rel.data === 'string' ? rel.data : IMG_BROKEN;\n        });\n    });\n}\n/**\n * FIXME: TODO: currently unused\n * TODO: Should return a Promise\n */\n/*\nfunction getSizeFromImage (inImgUrl: string): { width: number, height: number } {\n    const sizeOf = typeof require !== 'undefined' ? require('sizeof') : null // NodeJS\n\n    if (sizeOf) {\n        try {\n            const dimensions = sizeOf(inImgUrl)\n            return { width: dimensions.width, height: dimensions.height }\n        } catch (ex) {\n            console.error('ERROR: sizeOf: Unable to load image: ' + inImgUrl)\n            return { width: 0, height: 0 }\n        }\n    } else if (Image && typeof Image === 'function') {\n        // A: Create\n        const image = new Image()\n\n        // B: Set onload event\n        image.onload = () => {\n            // FIRST: Check for any errors: This is the best method (try/catch wont work, etc.)\n            if (image.width + image.height === 0) {\n                return { width: 0, height: 0 }\n            }\n            const obj = { width: image.width, height: image.height }\n            return obj\n        }\n        image.onerror = () => {\n            console.error(`ERROR: image.onload: Unable to load image: ${inImgUrl}`)\n        }\n\n        // C: Load image\n        image.src = inImgUrl\n    }\n}\n*/\n\n/**\n * PptxGenJS: XML Generation\n */\nconst ImageSizingXml = {\n    cover: function (imgSize, boxDim) {\n        const imgRatio = imgSize.h / imgSize.w;\n        const boxRatio = boxDim.h / boxDim.w;\n        const isBoxBased = boxRatio > imgRatio;\n        const width = isBoxBased ? boxDim.h / imgRatio : boxDim.w;\n        const height = isBoxBased ? boxDim.h : boxDim.w * imgRatio;\n        const hzPerc = Math.round(1e5 * 0.5 * (1 - boxDim.w / width));\n        const vzPerc = Math.round(1e5 * 0.5 * (1 - boxDim.h / height));\n        return `<a:srcRect l=\"${hzPerc}\" r=\"${hzPerc}\" t=\"${vzPerc}\" b=\"${vzPerc}\"/><a:stretch/>`;\n    },\n    contain: function (imgSize, boxDim) {\n        const imgRatio = imgSize.h / imgSize.w;\n        const boxRatio = boxDim.h / boxDim.w;\n        const widthBased = boxRatio > imgRatio;\n        const width = widthBased ? boxDim.w : boxDim.h / imgRatio;\n        const height = widthBased ? boxDim.w * imgRatio : boxDim.h;\n        const hzPerc = Math.round(1e5 * 0.5 * (1 - boxDim.w / width));\n        const vzPerc = Math.round(1e5 * 0.5 * (1 - boxDim.h / height));\n        return `<a:srcRect l=\"${hzPerc}\" r=\"${hzPerc}\" t=\"${vzPerc}\" b=\"${vzPerc}\"/><a:stretch/>`;\n    },\n    crop: function (imgSize, boxDim) {\n        const l = boxDim.x;\n        const r = imgSize.w - (boxDim.x + boxDim.w);\n        const t = boxDim.y;\n        const b = imgSize.h - (boxDim.y + boxDim.h);\n        const lPerc = Math.round(1e5 * (l / imgSize.w));\n        const rPerc = Math.round(1e5 * (r / imgSize.w));\n        const tPerc = Math.round(1e5 * (t / imgSize.h));\n        const bPerc = Math.round(1e5 * (b / imgSize.h));\n        return `<a:srcRect l=\"${lPerc}\" r=\"${rPerc}\" t=\"${tPerc}\" b=\"${bPerc}\"/><a:stretch/>`;\n    },\n};\n/**\n * Transforms a slide or slideLayout to resulting XML string - Creates `ppt/slide*.xml`\n * @param {PresSlide|SlideLayout} slideObject - slide object created within createSlideObject\n * @return {string} XML string with <p:cSld> as the root\n */\nfunction slideObjectToXml(slide) {\n    var _a;\n    let strSlideXml = slide._name ? '<p:cSld name=\"' + slide._name + '\">' : '<p:cSld>';\n    let intTableNum = 1;\n    // STEP 1: Add background color/image (ensure only a single `<p:bg>` tag is created, ex: when master-baskground has both `color` and `path`)\n    if (slide._bkgdImgRid) {\n        strSlideXml += `<p:bg><p:bgPr><a:blipFill dpi=\"0\" rotWithShape=\"1\"><a:blip r:embed=\"rId${slide._bkgdImgRid}\"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`;\n    }\n    else if ((_a = slide.background) === null || _a === void 0 ? void 0 : _a.color) {\n        strSlideXml += `<p:bg><p:bgPr>${genXmlColorSelection(slide.background)}</p:bgPr></p:bg>`;\n    }\n    else if (!slide.bkgd && slide._name && slide._name === DEF_PRES_LAYOUT_NAME) {\n        // NOTE: Default [white] background is needed on slideMaster1.xml to avoid gray background in Keynote (and Finder previews)\n        strSlideXml += '<p:bg><p:bgRef idx=\"1001\"><a:schemeClr val=\"bg1\"/></p:bgRef></p:bg>';\n    }\n    // STEP 2: Continue slide by starting spTree node\n    strSlideXml += '<p:spTree>';\n    strSlideXml += '<p:nvGrpSpPr><p:cNvPr id=\"1\" name=\"\"/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>';\n    strSlideXml += '<p:grpSpPr><a:xfrm><a:off x=\"0\" y=\"0\"/><a:ext cx=\"0\" cy=\"0\"/>';\n    strSlideXml += '<a:chOff x=\"0\" y=\"0\"/><a:chExt cx=\"0\" cy=\"0\"/></a:xfrm></p:grpSpPr>';\n    // STEP 3: Loop over all Slide.data objects and add them to this slide\n    slide._slideObjects.forEach((slideItemObj, idx) => {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        let x = 0;\n        let y = 0;\n        let cx = getSmartParseNumber('75%', 'X', slide._presLayout);\n        let cy = 0;\n        let placeholderObj;\n        let locationAttr = '';\n        let arrTabRows = null;\n        let objTabOpts = null;\n        let intColCnt = 0;\n        let intColW = 0;\n        let cellOpts = null;\n        let strXml = null;\n        const sizing = (_a = slideItemObj.options) === null || _a === void 0 ? void 0 : _a.sizing;\n        const rounding = (_b = slideItemObj.options) === null || _b === void 0 ? void 0 : _b.rounding;\n        if (slide._slideLayout !== undefined &&\n            slide._slideLayout._slideObjects !== undefined &&\n            slideItemObj.options &&\n            slideItemObj.options.placeholder) {\n            placeholderObj = slide._slideLayout._slideObjects.filter((object) => object.options.placeholder === slideItemObj.options.placeholder)[0];\n        }\n        // A: Set option vars\n        slideItemObj.options = slideItemObj.options || {};\n        if (typeof slideItemObj.options.x !== 'undefined')\n            x = getSmartParseNumber(slideItemObj.options.x, 'X', slide._presLayout);\n        if (typeof slideItemObj.options.y !== 'undefined')\n            y = getSmartParseNumber(slideItemObj.options.y, 'Y', slide._presLayout);\n        if (typeof slideItemObj.options.w !== 'undefined')\n            cx = getSmartParseNumber(slideItemObj.options.w, 'X', slide._presLayout);\n        if (typeof slideItemObj.options.h !== 'undefined')\n            cy = getSmartParseNumber(slideItemObj.options.h, 'Y', slide._presLayout);\n        // Set w/h now that smart parse is done\n        let imgWidth = cx;\n        let imgHeight = cy;\n        // If using a placeholder then inherit it's position\n        if (placeholderObj) {\n            if (placeholderObj.options.x || placeholderObj.options.x === 0)\n                x = getSmartParseNumber(placeholderObj.options.x, 'X', slide._presLayout);\n            if (placeholderObj.options.y || placeholderObj.options.y === 0)\n                y = getSmartParseNumber(placeholderObj.options.y, 'Y', slide._presLayout);\n            if (placeholderObj.options.w || placeholderObj.options.w === 0)\n                cx = getSmartParseNumber(placeholderObj.options.w, 'X', slide._presLayout);\n            if (placeholderObj.options.h || placeholderObj.options.h === 0)\n                cy = getSmartParseNumber(placeholderObj.options.h, 'Y', slide._presLayout);\n        }\n        //\n        if (slideItemObj.options.flipH)\n            locationAttr += ' flipH=\"1\"';\n        if (slideItemObj.options.flipV)\n            locationAttr += ' flipV=\"1\"';\n        if (slideItemObj.options.rotate)\n            locationAttr += ` rot=\"${convertRotationDegrees(slideItemObj.options.rotate)}\"`;\n        // B: Add OBJECT to the current Slide\n        switch (slideItemObj._type) {\n            case SLIDE_OBJECT_TYPES.table:\n                arrTabRows = slideItemObj.arrTabRows;\n                objTabOpts = slideItemObj.options;\n                intColCnt = 0;\n                intColW = 0;\n                // Calc number of columns\n                // NOTE: Cells may have a colspan, so merely taking the length of the [0] (or any other) row is not\n                // ....: sufficient to determine column count. Therefore, check each cell for a colspan and total cols as reqd\n                arrTabRows[0].forEach(cell => {\n                    cellOpts = cell.options || null;\n                    intColCnt += (cellOpts === null || cellOpts === void 0 ? void 0 : cellOpts.colspan) ? Number(cellOpts.colspan) : 1;\n                });\n                // STEP 1: Start Table XML\n                // NOTE: Non-numeric cNvPr id values will trigger \"presentation needs repair\" type warning in MS-PPT-2013\n                strXml = `<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id=\"${intTableNum * slide._slideNum + 1}\" name=\"${slideItemObj.options.objectName}\"/>`;\n                strXml +=\n                    '<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp=\"1\"/></p:cNvGraphicFramePr>' +\n                        '  <p:nvPr><p:extLst><p:ext uri=\"{D42A27DB-BD31-4B8C-83A1-F6EECF244321}\"><p14:modId xmlns:p14=\"http://schemas.microsoft.com/office/powerpoint/2010/main\" val=\"1579011935\"/></p:ext></p:extLst></p:nvPr>' +\n                        '</p:nvGraphicFramePr>';\n                strXml += `<p:xfrm><a:off x=\"${x || (x === 0 ? 0 : EMU)}\" y=\"${y || (y === 0 ? 0 : EMU)}\"/><a:ext cx=\"${cx || (cx === 0 ? 0 : EMU)}\" cy=\"${cy || EMU}\"/></p:xfrm>`;\n                strXml += '<a:graphic><a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/table\"><a:tbl><a:tblPr/>';\n                // + '        <a:tblPr bandRow=\"1\"/>';\n                // TODO: Support banded rows, first/last row, etc.\n                // NOTE: Banding, etc. only shows when using a table style! (or set alt row color if banding)\n                // <a:tblPr firstCol=\"0\" firstRow=\"0\" lastCol=\"0\" lastRow=\"0\" bandCol=\"0\" bandRow=\"1\">\n                // STEP 2: Set column widths\n                // Evenly distribute cols/rows across size provided when applicable (calc them if only overall dimensions were provided)\n                // A: Col widths provided?\n                // B: Table Width provided without colW? Then distribute cols\n                if (Array.isArray(objTabOpts.colW)) {\n                    strXml += '<a:tblGrid>';\n                    for (let col = 0; col < intColCnt; col++) {\n                        let w = inch2Emu(objTabOpts.colW[col]);\n                        if (w == null || isNaN(w)) {\n                            w = (typeof slideItemObj.options.w === 'number' ? slideItemObj.options.w : 1) / intColCnt;\n                        }\n                        strXml += `<a:gridCol w=\"${Math.round(w)}\"/>`;\n                    }\n                    strXml += '</a:tblGrid>';\n                }\n                else {\n                    intColW = objTabOpts.colW ? objTabOpts.colW : EMU;\n                    if (slideItemObj.options.w && !objTabOpts.colW)\n                        intColW = Math.round((typeof slideItemObj.options.w === 'number' ? slideItemObj.options.w : 1) / intColCnt);\n                    strXml += '<a:tblGrid>';\n                    for (let colw = 0; colw < intColCnt; colw++) {\n                        strXml += `<a:gridCol w=\"${intColW}\"/>`;\n                    }\n                    strXml += '</a:tblGrid>';\n                }\n                // STEP 3: Build our row arrays into an actual grid to match the XML we will be building next (ISSUE #36)\n                // Note row arrays can arrive \"lopsided\" as in row1:[1,2,3] row2:[3] when first two cols rowspan!,\n                // so a simple loop below in XML building wont suffice to build table correctly.\n                // We have to build an actual grid now\n                /*\n                    EX: (A0:rowspan=3, B1:rowspan=2, C1:colspan=2)\n\n                    /------|------|------|------\\\n                    |  A0  |  B0  |  C0  |  D0  |\n                    |      |  B1  |  C1  |      |\n                    |      |      |  C2  |  D2  |\n                    \\------|------|------|------/\n                */\n                // A: add _hmerge cell for colspan. should reserve rowspan\n                arrTabRows.forEach(cells => {\n                    var _a, _b;\n                    for (let cIdx = 0; cIdx < cells.length;) {\n                        const cell = cells[cIdx];\n                        const colspan = (_a = cell.options) === null || _a === void 0 ? void 0 : _a.colspan;\n                        const rowspan = (_b = cell.options) === null || _b === void 0 ? void 0 : _b.rowspan;\n                        if (colspan && colspan > 1) {\n                            const vMergeCells = new Array(colspan - 1).fill(undefined).map(() => {\n                                return { _type: SLIDE_OBJECT_TYPES.tablecell, options: { rowspan }, _hmerge: true };\n                            });\n                            cells.splice(cIdx + 1, 0, ...vMergeCells);\n                            cIdx += colspan;\n                        }\n                        else {\n                            cIdx += 1;\n                        }\n                    }\n                });\n                // B: add _vmerge cell for rowspan. should reserve colspan/_hmerge\n                arrTabRows.forEach((cells, rIdx) => {\n                    const nextRow = arrTabRows[rIdx + 1];\n                    if (!nextRow)\n                        return;\n                    cells.forEach((cell, cIdx) => {\n                        var _a, _b;\n                        const rowspan = cell._rowContinue || ((_a = cell.options) === null || _a === void 0 ? void 0 : _a.rowspan);\n                        const colspan = (_b = cell.options) === null || _b === void 0 ? void 0 : _b.colspan;\n                        const _hmerge = cell._hmerge;\n                        if (rowspan && rowspan > 1) {\n                            const hMergeCell = { _type: SLIDE_OBJECT_TYPES.tablecell, options: { colspan }, _rowContinue: rowspan - 1, _vmerge: true, _hmerge };\n                            nextRow.splice(cIdx, 0, hMergeCell);\n                        }\n                    });\n                });\n                // STEP 4: Build table rows/cells\n                arrTabRows.forEach((cells, rIdx) => {\n                    // A: Table Height provided without rowH? Then distribute rows\n                    let intRowH = 0; // IMPORTANT: Default must be zero for auto-sizing to work\n                    if (Array.isArray(objTabOpts.rowH) && objTabOpts.rowH[rIdx])\n                        intRowH = inch2Emu(Number(objTabOpts.rowH[rIdx]));\n                    else if (objTabOpts.rowH && !isNaN(Number(objTabOpts.rowH)))\n                        intRowH = inch2Emu(Number(objTabOpts.rowH));\n                    else if (slideItemObj.options.cy || slideItemObj.options.h) {\n                        intRowH = Math.round((slideItemObj.options.h ? inch2Emu(slideItemObj.options.h) : typeof slideItemObj.options.cy === 'number' ? slideItemObj.options.cy : 1) /\n                            arrTabRows.length);\n                    }\n                    // B: Start row\n                    strXml += `<a:tr h=\"${intRowH}\">`;\n                    // C: Loop over each CELL\n                    cells.forEach(cellObj => {\n                        var _a, _b, _c, _d, _e;\n                        const cell = cellObj;\n                        const cellSpanAttrs = {\n                            rowSpan: ((_a = cell.options) === null || _a === void 0 ? void 0 : _a.rowspan) > 1 ? cell.options.rowspan : undefined,\n                            gridSpan: ((_b = cell.options) === null || _b === void 0 ? void 0 : _b.colspan) > 1 ? cell.options.colspan : undefined,\n                            vMerge: cell._vmerge ? 1 : undefined,\n                            hMerge: cell._hmerge ? 1 : undefined,\n                        };\n                        let cellSpanAttrStr = Object.keys(cellSpanAttrs)\n                            .map(k => [k, cellSpanAttrs[k]])\n                            .filter(([, v]) => !!v)\n                            .map(([k, v]) => `${String(k)}=\"${String(v)}\"`)\n                            .join(' ');\n                        if (cellSpanAttrStr)\n                            cellSpanAttrStr = ' ' + cellSpanAttrStr;\n                        // 1: COLSPAN/ROWSPAN: Add dummy cells for any active colspan/rowspan\n                        if (cell._hmerge || cell._vmerge) {\n                            strXml += `<a:tc${cellSpanAttrStr}><a:tcPr/></a:tc>`;\n                            return;\n                        }\n                        // 2: OPTIONS: Build/set cell options\n                        const cellOpts = cell.options || {};\n                        cell.options = cellOpts;\n                        ['align', 'bold', 'border', 'color', 'fill', 'fontFace', 'fontSize', 'margin', 'textDirection', 'underline', 'valign'].forEach(name => {\n                            if (objTabOpts[name] && !cellOpts[name] && cellOpts[name] !== 0)\n                                cellOpts[name] = objTabOpts[name];\n                        });\n                        const cellValign = cellOpts.valign\n                            ? ` anchor=\"${cellOpts.valign.replace(/^c$/i, 'ctr').replace(/^m$/i, 'ctr').replace('center', 'ctr').replace('middle', 'ctr').replace('top', 't').replace('btm', 'b').replace('bottom', 'b')}\"`\n                            : '';\n                        const cellTextDir = (cellOpts.textDirection && cellOpts.textDirection !== 'horz') ? ` vert=\"${cellOpts.textDirection}\"` : '';\n                        let fillColor = ((_d = (_c = cell._optImp) === null || _c === void 0 ? void 0 : _c.fill) === null || _d === void 0 ? void 0 : _d.color)\n                            ? cell._optImp.fill.color\n                            : ((_e = cell._optImp) === null || _e === void 0 ? void 0 : _e.fill) && typeof cell._optImp.fill === 'string'\n                                ? cell._optImp.fill\n                                : '';\n                        fillColor = fillColor || cellOpts.fill ? cellOpts.fill : '';\n                        const cellFill = fillColor ? genXmlColorSelection(fillColor) : '';\n                        let cellMargin = cellOpts.margin === 0 || cellOpts.margin ? cellOpts.margin : DEF_CELL_MARGIN_IN;\n                        if (!Array.isArray(cellMargin) && typeof cellMargin === 'number')\n                            cellMargin = [cellMargin, cellMargin, cellMargin, cellMargin];\n                        /** FUTURE: DEPRECATED:\n                         * - Backwards-Compat: Oops! Discovered we were still using points for cell margin before v3.8.0 (UGH!)\n                         * - We cant introduce a breaking change before v4.0, so...\n                         */\n                        let cellMarginXml = '';\n                        if (cellMargin[0] >= 1) {\n                            cellMarginXml = ` marL=\"${valToPts(cellMargin[3])}\" marR=\"${valToPts(cellMargin[1])}\" marT=\"${valToPts(cellMargin[0])}\" marB=\"${valToPts(cellMargin[2])}\"`;\n                        }\n                        else {\n                            cellMarginXml = ` marL=\"${inch2Emu(cellMargin[3])}\" marR=\"${inch2Emu(cellMargin[1])}\" marT=\"${inch2Emu(cellMargin[0])}\" marB=\"${inch2Emu(cellMargin[2])}\"`;\n                        }\n                        // FUTURE: Cell NOWRAP property (textwrap: add to a:tcPr (horzOverflow=\"overflow\" or whatever options exist)\n                        // 4: Set CELL content and properties ==================================\n                        strXml += `<a:tc${cellSpanAttrStr}>${genXmlTextBody(cell)}<a:tcPr${cellMarginXml}${cellValign}${cellTextDir}>`;\n                        // strXml += `<a:tc${cellColspan}${cellRowspan}>${genXmlTextBody(cell)}<a:tcPr${cellMarginXml}${cellValign}${cellTextDir}>`\n                        // FIXME: 20200525: ^^^\n                        // <a:tcPr marL=\"38100\" marR=\"38100\" marT=\"38100\" marB=\"38100\" vert=\"vert270\">\n                        // 5: Borders: Add any borders\n                        if (cellOpts.border && Array.isArray(cellOpts.border)) {\n                            // NOTE: *** IMPORTANT! *** LRTB order matters! (Reorder a line below to watch the borders go wonky in MS-PPT-2013!!)\n                            [\n                                { idx: 3, name: 'lnL' },\n                                { idx: 1, name: 'lnR' },\n                                { idx: 0, name: 'lnT' },\n                                { idx: 2, name: 'lnB' },\n                            ].forEach(obj => {\n                                if (cellOpts.border[obj.idx].type !== 'none') {\n                                    strXml += `<a:${obj.name} w=\"${valToPts(cellOpts.border[obj.idx].pt)}\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\">`;\n                                    strXml += `<a:solidFill>${createColorElement(cellOpts.border[obj.idx].color)}</a:solidFill>`;\n                                    strXml += `<a:prstDash val=\"${cellOpts.border[obj.idx].type === 'dash' ? 'sysDash' : 'solid'}\"/><a:round/><a:headEnd type=\"none\" w=\"med\" len=\"med\"/><a:tailEnd type=\"none\" w=\"med\" len=\"med\"/>`;\n                                    strXml += `</a:${obj.name}>`;\n                                }\n                                else {\n                                    strXml += `<a:${obj.name} w=\"0\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:noFill/></a:${obj.name}>`;\n                                }\n                            });\n                        }\n                        // 6: Close cell Properties & Cell\n                        strXml += cellFill;\n                        strXml += '  </a:tcPr>';\n                        strXml += ' </a:tc>';\n                    });\n                    // D: Complete row\n                    strXml += '</a:tr>';\n                });\n                // STEP 5: Complete table\n                strXml += '      </a:tbl>';\n                strXml += '    </a:graphicData>';\n                strXml += '  </a:graphic>';\n                strXml += '</p:graphicFrame>';\n                // STEP 6: Set table XML\n                strSlideXml += strXml;\n                // LAST: Increment counter\n                intTableNum++;\n                break;\n            case SLIDE_OBJECT_TYPES.text:\n            case SLIDE_OBJECT_TYPES.placeholder:\n                // Lines can have zero cy, but text should not\n                if (!slideItemObj.options.line && cy === 0)\n                    cy = EMU * 0.3;\n                // Margin/Padding/Inset for textboxes\n                if (!slideItemObj.options._bodyProp)\n                    slideItemObj.options._bodyProp = {};\n                if (slideItemObj.options.margin && Array.isArray(slideItemObj.options.margin)) {\n                    slideItemObj.options._bodyProp.lIns = valToPts(slideItemObj.options.margin[0] || 0);\n                    slideItemObj.options._bodyProp.rIns = valToPts(slideItemObj.options.margin[1] || 0);\n                    slideItemObj.options._bodyProp.bIns = valToPts(slideItemObj.options.margin[2] || 0);\n                    slideItemObj.options._bodyProp.tIns = valToPts(slideItemObj.options.margin[3] || 0);\n                }\n                else if (typeof slideItemObj.options.margin === 'number') {\n                    slideItemObj.options._bodyProp.lIns = valToPts(slideItemObj.options.margin);\n                    slideItemObj.options._bodyProp.rIns = valToPts(slideItemObj.options.margin);\n                    slideItemObj.options._bodyProp.bIns = valToPts(slideItemObj.options.margin);\n                    slideItemObj.options._bodyProp.tIns = valToPts(slideItemObj.options.margin);\n                }\n                // A: Start SHAPE =======================================================\n                strSlideXml += '<p:sp>';\n                // B: The addition of the \"txBox\" attribute is the sole determiner of if an object is a shape or textbox\n                strSlideXml += `<p:nvSpPr><p:cNvPr id=\"${idx + 2}\" name=\"${slideItemObj.options.objectName}\">`;\n                // <Hyperlink>\n                if ((_c = slideItemObj.options.hyperlink) === null || _c === void 0 ? void 0 : _c.url) {\n                    strSlideXml += `<a:hlinkClick r:id=\"rId${slideItemObj.options.hyperlink._rId}\" tooltip=\"${slideItemObj.options.hyperlink.tooltip ? encodeXmlEntities(slideItemObj.options.hyperlink.tooltip) : ''}\"/>`;\n                }\n                if ((_d = slideItemObj.options.hyperlink) === null || _d === void 0 ? void 0 : _d.slide) {\n                    strSlideXml += `<a:hlinkClick r:id=\"rId${slideItemObj.options.hyperlink._rId}\" tooltip=\"${slideItemObj.options.hyperlink.tooltip ? encodeXmlEntities(slideItemObj.options.hyperlink.tooltip) : ''}\" action=\"ppaction://hlinksldjump\"/>`;\n                }\n                // </Hyperlink>\n                strSlideXml += '</p:cNvPr>';\n                strSlideXml += '<p:cNvSpPr' + (((_e = slideItemObj.options) === null || _e === void 0 ? void 0 : _e.isTextBox) ? ' txBox=\"1\"/>' : '/>');\n                strSlideXml += `<p:nvPr>${slideItemObj._type === 'placeholder' ? genXmlPlaceholder(slideItemObj) : genXmlPlaceholder(placeholderObj)}</p:nvPr>`;\n                strSlideXml += '</p:nvSpPr><p:spPr>';\n                strSlideXml += `<a:xfrm${locationAttr}>`;\n                strSlideXml += `<a:off x=\"${x}\" y=\"${y}\"/>`;\n                strSlideXml += `<a:ext cx=\"${cx}\" cy=\"${cy}\"/></a:xfrm>`;\n                if (slideItemObj.shape === 'custGeom') {\n                    strSlideXml += '<a:custGeom><a:avLst />';\n                    strSlideXml += '<a:gdLst>';\n                    strSlideXml += '</a:gdLst>';\n                    strSlideXml += '<a:ahLst />';\n                    strSlideXml += '<a:cxnLst>';\n                    strSlideXml += '</a:cxnLst>';\n                    strSlideXml += '<a:rect l=\"l\" t=\"t\" r=\"r\" b=\"b\" />';\n                    strSlideXml += '<a:pathLst>';\n                    strSlideXml += `<a:path w=\"${cx}\" h=\"${cy}\">`;\n                    (_f = slideItemObj.options.points) === null || _f === void 0 ? void 0 : _f.forEach((point, i) => {\n                        if ('curve' in point) {\n                            switch (point.curve.type) {\n                                case 'arc':\n                                    strSlideXml += `<a:arcTo hR=\"${getSmartParseNumber(point.curve.hR, 'Y', slide._presLayout)}\" wR=\"${getSmartParseNumber(point.curve.wR, 'X', slide._presLayout)}\" stAng=\"${convertRotationDegrees(point.curve.stAng)}\" swAng=\"${convertRotationDegrees(point.curve.swAng)}\" />`;\n                                    break;\n                                case 'cubic':\n                                    strSlideXml += `<a:cubicBezTo>\n\t\t\t\t\t\t\t\t\t<a:pt x=\"${getSmartParseNumber(point.curve.x1, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.curve.y1, 'Y', slide._presLayout)}\" />\n\t\t\t\t\t\t\t\t\t<a:pt x=\"${getSmartParseNumber(point.curve.x2, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.curve.y2, 'Y', slide._presLayout)}\" />\n\t\t\t\t\t\t\t\t\t<a:pt x=\"${getSmartParseNumber(point.x, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.y, 'Y', slide._presLayout)}\" />\n\t\t\t\t\t\t\t\t\t</a:cubicBezTo>`;\n                                    break;\n                                case 'quadratic':\n                                    strSlideXml += `<a:quadBezTo>\n\t\t\t\t\t\t\t\t\t<a:pt x=\"${getSmartParseNumber(point.curve.x1, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.curve.y1, 'Y', slide._presLayout)}\" />\n\t\t\t\t\t\t\t\t\t<a:pt x=\"${getSmartParseNumber(point.x, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.y, 'Y', slide._presLayout)}\" />\n\t\t\t\t\t\t\t\t\t</a:quadBezTo>`;\n                                    break;\n                            }\n                        }\n                        else if ('close' in point) {\n                            strSlideXml += '<a:close />';\n                        }\n                        else if (point.moveTo || i === 0) {\n                            strSlideXml += `<a:moveTo><a:pt x=\"${getSmartParseNumber(point.x, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.y, 'Y', slide._presLayout)}\" /></a:moveTo>`;\n                        }\n                        else {\n                            strSlideXml += `<a:lnTo><a:pt x=\"${getSmartParseNumber(point.x, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(point.y, 'Y', slide._presLayout)}\" /></a:lnTo>`;\n                        }\n                    });\n                    strSlideXml += '</a:path>';\n                    strSlideXml += '</a:pathLst>';\n                    strSlideXml += '</a:custGeom>';\n                }\n                else {\n                    strSlideXml += '<a:prstGeom prst=\"' + slideItemObj.shape + '\"><a:avLst>';\n                    if (slideItemObj.options.rectRadius) {\n                        strSlideXml += `<a:gd name=\"adj\" fmla=\"val ${Math.round((slideItemObj.options.rectRadius * EMU * 100000) / Math.min(cx, cy))}\"/>`;\n                    }\n                    else if (slideItemObj.options.angleRange) {\n                        for (let i = 0; i < 2; i++) {\n                            const angle = slideItemObj.options.angleRange[i];\n                            strSlideXml += `<a:gd name=\"adj${i + 1}\" fmla=\"val ${convertRotationDegrees(angle)}\" />`;\n                        }\n                        if (slideItemObj.options.arcThicknessRatio) {\n                            strSlideXml += `<a:gd name=\"adj3\" fmla=\"val ${Math.round(slideItemObj.options.arcThicknessRatio * 50000)}\" />`;\n                        }\n                    }\n                    strSlideXml += '</a:avLst></a:prstGeom>';\n                }\n                // Option: FILL\n                strSlideXml += slideItemObj.options.fill ? genXmlColorSelection(slideItemObj.options.fill) : '<a:noFill/>';\n                // shape Type: LINE: line color\n                if (slideItemObj.options.line) {\n                    strSlideXml += slideItemObj.options.line.width ? `<a:ln w=\"${valToPts(slideItemObj.options.line.width)}\">` : '<a:ln>';\n                    if (slideItemObj.options.line.color)\n                        strSlideXml += genXmlColorSelection(slideItemObj.options.line);\n                    if (slideItemObj.options.line.dashType)\n                        strSlideXml += `<a:prstDash val=\"${slideItemObj.options.line.dashType}\"/>`;\n                    if (slideItemObj.options.line.beginArrowType)\n                        strSlideXml += `<a:headEnd type=\"${slideItemObj.options.line.beginArrowType}\"/>`;\n                    if (slideItemObj.options.line.endArrowType)\n                        strSlideXml += `<a:tailEnd type=\"${slideItemObj.options.line.endArrowType}\"/>`;\n                    // FUTURE: `endArrowSize` < a: headEnd type = \"arrow\" w = \"lg\" len = \"lg\" /> 'sm' | 'med' | 'lg'(values are 1 - 9, making a 3x3 grid of w / len possibilities)\n                    strSlideXml += '</a:ln>';\n                }\n                // EFFECTS > SHADOW: REF: @see http://officeopenxml.com/drwSp-effects.php\n                if (slideItemObj.options.shadow && slideItemObj.options.shadow.type !== 'none') {\n                    slideItemObj.options.shadow.type = slideItemObj.options.shadow.type || 'outer';\n                    slideItemObj.options.shadow.blur = valToPts(slideItemObj.options.shadow.blur || 8);\n                    slideItemObj.options.shadow.offset = valToPts(slideItemObj.options.shadow.offset || 4);\n                    slideItemObj.options.shadow.angle = Math.round((slideItemObj.options.shadow.angle || 270) * 60000);\n                    slideItemObj.options.shadow.opacity = Math.round((slideItemObj.options.shadow.opacity || 0.75) * 100000);\n                    slideItemObj.options.shadow.color = slideItemObj.options.shadow.color || DEF_TEXT_SHADOW.color;\n                    strSlideXml += '<a:effectLst>';\n                    strSlideXml += ` <a:${slideItemObj.options.shadow.type}Shdw ${slideItemObj.options.shadow.type === 'outer' ? 'sx=\"100000\" sy=\"100000\" kx=\"0\" ky=\"0\" algn=\"bl\" rotWithShape=\"0\"' : ''} blurRad=\"${slideItemObj.options.shadow.blur}\" dist=\"${slideItemObj.options.shadow.offset}\" dir=\"${slideItemObj.options.shadow.angle}\">`;\n                    strSlideXml += ` <a:srgbClr val=\"${slideItemObj.options.shadow.color}\">`;\n                    strSlideXml += ` <a:alpha val=\"${slideItemObj.options.shadow.opacity}\"/></a:srgbClr>`;\n                    strSlideXml += ' </a:outerShdw>';\n                    strSlideXml += '</a:effectLst>';\n                }\n                /* TODO: FUTURE: Text wrapping (copied from MS-PPTX export)\n                    // Commented out b/c i'm not even sure this works - current code produces text that wraps in shapes and textboxes, so...\n                    if ( slideItemObj.options.textWrap ) {\n                        strSlideXml += '<a:extLst>'\n                                    + '<a:ext uri=\"{C572A759-6A51-4108-AA02-DFA0A04FC94B}\">'\n                                    + '<ma14:wrappingTextBoxFlag xmlns:ma14=\"http://schemas.microsoft.com/office/mac/drawingml/2011/main\" val=\"1\"/>'\n                                    + '</a:ext>'\n                                    + '</a:extLst>';\n                    }\n                */\n                // B: Close shape Properties\n                strSlideXml += '</p:spPr>';\n                // C: Add formatted text (text body \"bodyPr\")\n                strSlideXml += genXmlTextBody(slideItemObj);\n                // LAST: Close SHAPE =======================================================\n                strSlideXml += '</p:sp>';\n                break;\n            case SLIDE_OBJECT_TYPES.image:\n                strSlideXml += '<p:pic>';\n                strSlideXml += '  <p:nvPicPr>';\n                strSlideXml += `<p:cNvPr id=\"${idx + 2}\" name=\"${slideItemObj.options.objectName}\" descr=\"${encodeXmlEntities(slideItemObj.options.altText || slideItemObj.image)}\">`;\n                if ((_g = slideItemObj.hyperlink) === null || _g === void 0 ? void 0 : _g.url) {\n                    strSlideXml += `<a:hlinkClick r:id=\"rId${slideItemObj.hyperlink._rId}\" tooltip=\"${slideItemObj.hyperlink.tooltip ? encodeXmlEntities(slideItemObj.hyperlink.tooltip) : ''}\"/>`;\n                }\n                if ((_h = slideItemObj.hyperlink) === null || _h === void 0 ? void 0 : _h.slide) {\n                    strSlideXml += `<a:hlinkClick r:id=\"rId${slideItemObj.hyperlink._rId}\" tooltip=\"${slideItemObj.hyperlink.tooltip ? encodeXmlEntities(slideItemObj.hyperlink.tooltip) : ''}\" action=\"ppaction://hlinksldjump\"/>`;\n                }\n                strSlideXml += '    </p:cNvPr>';\n                strSlideXml += '    <p:cNvPicPr><a:picLocks noChangeAspect=\"1\"/></p:cNvPicPr>';\n                strSlideXml += '    <p:nvPr>' + genXmlPlaceholder(placeholderObj) + '</p:nvPr>';\n                strSlideXml += '  </p:nvPicPr>';\n                strSlideXml += '<p:blipFill>';\n                // NOTE: This works for both cases: either `path` or `data` contains the SVG\n                if ((slide._relsMedia || []).filter(rel => rel.rId === slideItemObj.imageRid)[0] &&\n                    (slide._relsMedia || []).filter(rel => rel.rId === slideItemObj.imageRid)[0].extn === 'svg') {\n                    strSlideXml += `<a:blip r:embed=\"rId${slideItemObj.imageRid - 1}\">`;\n                    strSlideXml += slideItemObj.options.transparency ? ` <a:alphaModFix amt=\"${Math.round((100 - slideItemObj.options.transparency) * 1000)}\"/>` : '';\n                    strSlideXml += ' <a:extLst>';\n                    strSlideXml += '  <a:ext uri=\"{96DAC541-7B7A-43D3-8B79-37D633B846F1}\">';\n                    strSlideXml += `   <asvg:svgBlip xmlns:asvg=\"http://schemas.microsoft.com/office/drawing/2016/SVG/main\" r:embed=\"rId${slideItemObj.imageRid}\"/>`;\n                    strSlideXml += '  </a:ext>';\n                    strSlideXml += ' </a:extLst>';\n                    strSlideXml += '</a:blip>';\n                }\n                else {\n                    strSlideXml += `<a:blip r:embed=\"rId${slideItemObj.imageRid}\">`;\n                    strSlideXml += slideItemObj.options.transparency ? `<a:alphaModFix amt=\"${Math.round((100 - slideItemObj.options.transparency) * 1000)}\"/>` : '';\n                    strSlideXml += '</a:blip>';\n                }\n                if (sizing === null || sizing === void 0 ? void 0 : sizing.type) {\n                    const boxW = sizing.w ? getSmartParseNumber(sizing.w, 'X', slide._presLayout) : cx;\n                    const boxH = sizing.h ? getSmartParseNumber(sizing.h, 'Y', slide._presLayout) : cy;\n                    const boxX = getSmartParseNumber(sizing.x || 0, 'X', slide._presLayout);\n                    const boxY = getSmartParseNumber(sizing.y || 0, 'Y', slide._presLayout);\n                    strSlideXml += ImageSizingXml[sizing.type]({ w: imgWidth, h: imgHeight }, { w: boxW, h: boxH, x: boxX, y: boxY });\n                    imgWidth = boxW;\n                    imgHeight = boxH;\n                }\n                else {\n                    strSlideXml += '  <a:stretch><a:fillRect/></a:stretch>';\n                }\n                strSlideXml += '</p:blipFill>';\n                strSlideXml += '<p:spPr>';\n                strSlideXml += ' <a:xfrm' + locationAttr + '>';\n                strSlideXml += `  <a:off x=\"${x}\" y=\"${y}\"/>`;\n                strSlideXml += `  <a:ext cx=\"${imgWidth}\" cy=\"${imgHeight}\"/>`;\n                strSlideXml += ' </a:xfrm>';\n                strSlideXml += ` <a:prstGeom prst=\"${rounding ? 'ellipse' : 'rect'}\"><a:avLst/></a:prstGeom>`;\n                // EFFECTS > SHADOW: REF: @see http://officeopenxml.com/drwSp-effects.php\n                if (slideItemObj.options.shadow && slideItemObj.options.shadow.type !== 'none') {\n                    slideItemObj.options.shadow.type = slideItemObj.options.shadow.type || 'outer';\n                    slideItemObj.options.shadow.blur = valToPts(slideItemObj.options.shadow.blur || 8);\n                    slideItemObj.options.shadow.offset = valToPts(slideItemObj.options.shadow.offset || 4);\n                    slideItemObj.options.shadow.angle = Math.round((slideItemObj.options.shadow.angle || 270) * 60000);\n                    slideItemObj.options.shadow.opacity = Math.round((slideItemObj.options.shadow.opacity || 0.75) * 100000);\n                    slideItemObj.options.shadow.color = slideItemObj.options.shadow.color || DEF_TEXT_SHADOW.color;\n                    strSlideXml += '<a:effectLst>';\n                    strSlideXml += `<a:${slideItemObj.options.shadow.type}Shdw ${slideItemObj.options.shadow.type === 'outer' ? 'sx=\"100000\" sy=\"100000\" kx=\"0\" ky=\"0\" algn=\"bl\" rotWithShape=\"0\"' : ''} blurRad=\"${slideItemObj.options.shadow.blur}\" dist=\"${slideItemObj.options.shadow.offset}\" dir=\"${slideItemObj.options.shadow.angle}\">`;\n                    strSlideXml += `<a:srgbClr val=\"${slideItemObj.options.shadow.color}\">`;\n                    strSlideXml += `<a:alpha val=\"${slideItemObj.options.shadow.opacity}\"/></a:srgbClr>`;\n                    strSlideXml += `</a:${slideItemObj.options.shadow.type}Shdw>`;\n                    strSlideXml += '</a:effectLst>';\n                }\n                strSlideXml += '</p:spPr>';\n                strSlideXml += '</p:pic>';\n                break;\n            case SLIDE_OBJECT_TYPES.media:\n                if (slideItemObj.mtype === 'online') {\n                    strSlideXml += '<p:pic>';\n                    strSlideXml += ' <p:nvPicPr>';\n                    // IMPORTANT: <p:cNvPr id=\"\" value is critical - if its not the same number as preview image `rId`, PowerPoint throws error!\n                    strSlideXml += `<p:cNvPr id=\"${slideItemObj.mediaRid + 2}\" name=\"${slideItemObj.options.objectName}\"/>`;\n                    strSlideXml += ' <p:cNvPicPr/>';\n                    strSlideXml += ' <p:nvPr>';\n                    strSlideXml += `  <a:videoFile r:link=\"rId${slideItemObj.mediaRid}\"/>`;\n                    strSlideXml += ' </p:nvPr>';\n                    strSlideXml += ' </p:nvPicPr>';\n                    // NOTE: `blip` is diferent than videos; also there's no preview \"p:extLst\" above but exists in videos\n                    strSlideXml += ` <p:blipFill><a:blip r:embed=\"rId${slideItemObj.mediaRid + 1}\"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`; // NOTE: Preview image is required!\n                    strSlideXml += ' <p:spPr>';\n                    strSlideXml += `  <a:xfrm${locationAttr}><a:off x=\"${x}\" y=\"${y}\"/><a:ext cx=\"${cx}\" cy=\"${cy}\"/></a:xfrm>`;\n                    strSlideXml += '  <a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom>';\n                    strSlideXml += ' </p:spPr>';\n                    strSlideXml += '</p:pic>';\n                }\n                else {\n                    strSlideXml += '<p:pic>';\n                    strSlideXml += ' <p:nvPicPr>';\n                    // IMPORTANT: <p:cNvPr id=\"\" value is critical - if not the same number as preiew image rId, PowerPoint throws error!\n                    strSlideXml += `<p:cNvPr id=\"${slideItemObj.mediaRid + 2}\" name=\"${slideItemObj.options.objectName}\"><a:hlinkClick r:id=\"\" action=\"ppaction://media\"/></p:cNvPr>`;\n                    strSlideXml += ' <p:cNvPicPr><a:picLocks noChangeAspect=\"1\"/></p:cNvPicPr>';\n                    strSlideXml += ' <p:nvPr>';\n                    strSlideXml += `  <a:videoFile r:link=\"rId${slideItemObj.mediaRid}\"/>`;\n                    strSlideXml += '  <p:extLst>';\n                    strSlideXml += '   <p:ext uri=\"{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}\">';\n                    strSlideXml += `    <p14:media xmlns:p14=\"http://schemas.microsoft.com/office/powerpoint/2010/main\" r:embed=\"rId${slideItemObj.mediaRid + 1}\"/>`;\n                    strSlideXml += '   </p:ext>';\n                    strSlideXml += '  </p:extLst>';\n                    strSlideXml += ' </p:nvPr>';\n                    strSlideXml += ' </p:nvPicPr>';\n                    strSlideXml += ` <p:blipFill><a:blip r:embed=\"rId${slideItemObj.mediaRid + 2}\"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`; // NOTE: Preview image is required!\n                    strSlideXml += ' <p:spPr>';\n                    strSlideXml += `  <a:xfrm${locationAttr}><a:off x=\"${x}\" y=\"${y}\"/><a:ext cx=\"${cx}\" cy=\"${cy}\"/></a:xfrm>`;\n                    strSlideXml += '  <a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom>';\n                    strSlideXml += ' </p:spPr>';\n                    strSlideXml += '</p:pic>';\n                }\n                break;\n            case SLIDE_OBJECT_TYPES.chart:\n                strSlideXml += '<p:graphicFrame>';\n                strSlideXml += ' <p:nvGraphicFramePr>';\n                strSlideXml += `   <p:cNvPr id=\"${idx + 2}\" name=\"${slideItemObj.options.objectName}\" descr=\"${encodeXmlEntities(slideItemObj.options.altText || '')}\"/>`;\n                strSlideXml += '   <p:cNvGraphicFramePr/>';\n                strSlideXml += `   <p:nvPr>${genXmlPlaceholder(placeholderObj)}</p:nvPr>`;\n                strSlideXml += ' </p:nvGraphicFramePr>';\n                strSlideXml += ` <p:xfrm><a:off x=\"${x}\" y=\"${y}\"/><a:ext cx=\"${cx}\" cy=\"${cy}\"/></p:xfrm>`;\n                strSlideXml += ' <a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">';\n                strSlideXml += '  <a:graphicData uri=\"http://schemas.openxmlformats.org/drawingml/2006/chart\">';\n                strSlideXml += `   <c:chart r:id=\"rId${slideItemObj.chartRid}\" xmlns:c=\"http://schemas.openxmlformats.org/drawingml/2006/chart\"/>`;\n                strSlideXml += '  </a:graphicData>';\n                strSlideXml += ' </a:graphic>';\n                strSlideXml += '</p:graphicFrame>';\n                break;\n            default:\n                strSlideXml += '';\n                break;\n        }\n    });\n    // STEP 4: Add slide numbers (if any) last\n    if (slide._slideNumberProps) {\n        // Set some defaults (done here b/c SlideNumber canbe added to masters or slides and has numerous entry points)\n        if (!slide._slideNumberProps.align)\n            slide._slideNumberProps.align = 'left';\n        strSlideXml += '<p:sp>';\n        strSlideXml += ' <p:nvSpPr>';\n        strSlideXml += '  <p:cNvPr id=\"25\" name=\"Slide Number Placeholder 0\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr>';\n        strSlideXml += '  <p:nvPr><p:ph type=\"sldNum\" sz=\"quarter\" idx=\"4294967295\"/></p:nvPr>';\n        strSlideXml += ' </p:nvSpPr>';\n        strSlideXml += ' <p:spPr>';\n        strSlideXml += '<a:xfrm>' +\n            `<a:off x=\"${getSmartParseNumber(slide._slideNumberProps.x, 'X', slide._presLayout)}\" y=\"${getSmartParseNumber(slide._slideNumberProps.y, 'Y', slide._presLayout)}\"/>` +\n            `<a:ext cx=\"${slide._slideNumberProps.w ? getSmartParseNumber(slide._slideNumberProps.w, 'X', slide._presLayout) : '800000'}\" cy=\"${slide._slideNumberProps.h ? getSmartParseNumber(slide._slideNumberProps.h, 'Y', slide._presLayout) : '300000'}\"/>` +\n            '</a:xfrm>' +\n            ' <a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom>' +\n            ' <a:extLst><a:ext uri=\"{C572A759-6A51-4108-AA02-DFA0A04FC94B}\"><ma14:wrappingTextBoxFlag val=\"0\" xmlns:ma14=\"http://schemas.microsoft.com/office/mac/drawingml/2011/main\"/></a:ext></a:extLst>' +\n            '</p:spPr>';\n        strSlideXml += '<p:txBody>';\n        strSlideXml += '<a:bodyPr';\n        if (slide._slideNumberProps.margin && Array.isArray(slide._slideNumberProps.margin)) {\n            strSlideXml += ` lIns=\"${valToPts(slide._slideNumberProps.margin[3] || 0)}\"`;\n            strSlideXml += ` tIns=\"${valToPts(slide._slideNumberProps.margin[0] || 0)}\"`;\n            strSlideXml += ` rIns=\"${valToPts(slide._slideNumberProps.margin[1] || 0)}\"`;\n            strSlideXml += ` bIns=\"${valToPts(slide._slideNumberProps.margin[2] || 0)}\"`;\n        }\n        else if (typeof slide._slideNumberProps.margin === 'number') {\n            strSlideXml += ` lIns=\"${valToPts(slide._slideNumberProps.margin || 0)}\"`;\n            strSlideXml += ` tIns=\"${valToPts(slide._slideNumberProps.margin || 0)}\"`;\n            strSlideXml += ` rIns=\"${valToPts(slide._slideNumberProps.margin || 0)}\"`;\n            strSlideXml += ` bIns=\"${valToPts(slide._slideNumberProps.margin || 0)}\"`;\n        }\n        if (slide._slideNumberProps.valign) {\n            strSlideXml += ` anchor=\"${slide._slideNumberProps.valign.replace('top', 't').replace('middle', 'ctr').replace('bottom', 'b')}\"`;\n        }\n        strSlideXml += '/>';\n        strSlideXml += '  <a:lstStyle><a:lvl1pPr>';\n        if (slide._slideNumberProps.fontFace || slide._slideNumberProps.fontSize || slide._slideNumberProps.color) {\n            strSlideXml += `<a:defRPr sz=\"${Math.round((slide._slideNumberProps.fontSize || 12) * 100)}\">`;\n            if (slide._slideNumberProps.color)\n                strSlideXml += genXmlColorSelection(slide._slideNumberProps.color);\n            if (slide._slideNumberProps.fontFace) {\n                strSlideXml += `<a:latin typeface=\"${slide._slideNumberProps.fontFace}\"/><a:ea typeface=\"${slide._slideNumberProps.fontFace}\"/><a:cs typeface=\"${slide._slideNumberProps.fontFace}\"/>`;\n            }\n            strSlideXml += '</a:defRPr>';\n        }\n        strSlideXml += '</a:lvl1pPr></a:lstStyle>';\n        strSlideXml += '<a:p>';\n        if (slide._slideNumberProps.align.startsWith('l'))\n            strSlideXml += '<a:pPr algn=\"l\"/>';\n        else if (slide._slideNumberProps.align.startsWith('c'))\n            strSlideXml += '<a:pPr algn=\"ctr\"/>';\n        else if (slide._slideNumberProps.align.startsWith('r'))\n            strSlideXml += '<a:pPr algn=\"r\"/>';\n        else\n            strSlideXml += '<a:pPr algn=\"l\"/>';\n        strSlideXml += `<a:fld id=\"${SLDNUMFLDID}\" type=\"slidenum\"><a:rPr b=\"${slide._slideNumberProps.bold ? 1 : 0}\" lang=\"en-US\"/>`;\n        strSlideXml += `<a:t>${slide._slideNum}</a:t></a:fld><a:endParaRPr lang=\"en-US\"/></a:p>`;\n        strSlideXml += '</p:txBody></p:sp>';\n    }\n    // STEP 5: Close spTree and finalize slide XML\n    strSlideXml += '</p:spTree>';\n    strSlideXml += '</p:cSld>';\n    // LAST: Return\n    return strSlideXml;\n}\n/**\n * Transforms slide relations to XML string.\n * Extra relations that are not dynamic can be passed using the 2nd arg (e.g. theme relation in master file).\n * These relations use rId series that starts with 1-increased maximum of rIds used for dynamic relations.\n * @param {PresSlide | SlideLayout} slide - slide object whose relations are being transformed\n * @param {{ target: string; type: string }[]} defaultRels - array of default relations\n * @return {string} XML\n */\nfunction slideObjectRelationsToXml(slide, defaultRels) {\n    let lastRid = 0; // stores maximum rId used for dynamic relations\n    let strXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' + CRLF + '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n    // STEP 1: Add all rels for this Slide\n    slide._rels.forEach((rel) => {\n        lastRid = Math.max(lastRid, rel.rId);\n        if (rel.type.toLowerCase().includes('hyperlink')) {\n            if (rel.data === 'slide') {\n                strXml += `<Relationship Id=\"rId${rel.rId}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide\" Target=\"slide${rel.Target}.xml\"/>`;\n            }\n            else {\n                strXml += `<Relationship Id=\"rId${rel.rId}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"${rel.Target}\" TargetMode=\"External\"/>`;\n            }\n        }\n        else if (rel.type.toLowerCase().includes('notesSlide')) {\n            strXml += `<Relationship Id=\"rId${rel.rId}\" Target=\"${rel.Target}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide\"/>`;\n        }\n    });\n    (slide._relsChart || []).forEach((rel) => {\n        lastRid = Math.max(lastRid, rel.rId);\n        strXml += `<Relationship Id=\"rId${rel.rId}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart\" Target=\"${rel.Target}\"/>`;\n    });\n    (slide._relsMedia || []).forEach((rel) => {\n        const relRid = rel.rId.toString();\n        lastRid = Math.max(lastRid, rel.rId);\n        if (rel.type.toLowerCase().includes('image')) {\n            strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"' + rel.Target + '\"/>';\n        }\n        else if (rel.type.toLowerCase().includes('audio')) {\n            // As media has *TWO* rel entries per item, check for first one, if found add second rel with alt style\n            if (strXml.includes(' Target=\"' + rel.Target + '\"')) {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.microsoft.com/office/2007/relationships/media\" Target=\"' + rel.Target + '\"/>';\n            }\n            else {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio\" Target=\"' + rel.Target + '\"/>';\n            }\n        }\n        else if (rel.type.toLowerCase().includes('video')) {\n            // As media has *TWO* rel entries per item, check for first one, if found add second rel with alt style\n            if (strXml.includes(' Target=\"' + rel.Target + '\"')) {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.microsoft.com/office/2007/relationships/media\" Target=\"' + rel.Target + '\"/>';\n            }\n            else {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/video\" Target=\"' + rel.Target + '\"/>';\n            }\n        }\n        else if (rel.type.toLowerCase().includes('online')) {\n            // As media has *TWO* rel entries per item, check for first one, if found add second rel with alt style\n            if (strXml.includes(' Target=\"' + rel.Target + '\"')) {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Type=\"http://schemas.microsoft.com/office/2007/relationships/image\" Target=\"' + rel.Target + '\"/>';\n            }\n            else {\n                strXml += '<Relationship Id=\"rId' + relRid + '\" Target=\"' + rel.Target + '\" TargetMode=\"External\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/video\"/>';\n            }\n        }\n    });\n    // STEP 2: Add default rels\n    defaultRels.forEach((rel, idx) => {\n        strXml += `<Relationship Id=\"rId${lastRid + idx + 1}\" Type=\"${rel.type}\" Target=\"${rel.target}\"/>`;\n    });\n    strXml += '</Relationships>';\n    return strXml;\n}\n/**\n * Generate XML Paragraph Properties\n * @param {ISlideObject|TextProps} textObj - text object\n * @param {boolean} isDefault - array of default relations\n * @return {string} XML\n */\nfunction genXmlParagraphProperties(textObj, isDefault) {\n    var _a, _b;\n    let strXmlBullet = '';\n    let strXmlLnSpc = '';\n    let strXmlParaSpc = '';\n    let strXmlTabStops = '';\n    const tag = isDefault ? 'a:lvl1pPr' : 'a:pPr';\n    let bulletMarL = valToPts(DEF_BULLET_MARGIN);\n    let paragraphPropXml = `<${tag}${textObj.options.rtlMode ? ' rtl=\"1\" ' : ''}`;\n    // A: Build paragraphProperties\n    {\n        // OPTION: align\n        if (textObj.options.align) {\n            switch (textObj.options.align) {\n                case 'left':\n                    paragraphPropXml += ' algn=\"l\"';\n                    break;\n                case 'right':\n                    paragraphPropXml += ' algn=\"r\"';\n                    break;\n                case 'center':\n                    paragraphPropXml += ' algn=\"ctr\"';\n                    break;\n                case 'justify':\n                    paragraphPropXml += ' algn=\"just\"';\n                    break;\n                default:\n                    paragraphPropXml += '';\n                    break;\n            }\n        }\n        if (textObj.options.lineSpacing) {\n            strXmlLnSpc = `<a:lnSpc><a:spcPts val=\"${Math.round(textObj.options.lineSpacing * 100)}\"/></a:lnSpc>`;\n        }\n        else if (textObj.options.lineSpacingMultiple) {\n            strXmlLnSpc = `<a:lnSpc><a:spcPct val=\"${Math.round(textObj.options.lineSpacingMultiple * 100000)}\"/></a:lnSpc>`;\n        }\n        // OPTION: indent\n        if (textObj.options.indentLevel && !isNaN(Number(textObj.options.indentLevel)) && textObj.options.indentLevel > 0) {\n            paragraphPropXml += ` lvl=\"${textObj.options.indentLevel}\"`;\n        }\n        // OPTION: Paragraph Spacing: Before/After\n        if (textObj.options.paraSpaceBefore && !isNaN(Number(textObj.options.paraSpaceBefore)) && textObj.options.paraSpaceBefore > 0) {\n            strXmlParaSpc += `<a:spcBef><a:spcPts val=\"${Math.round(textObj.options.paraSpaceBefore * 100)}\"/></a:spcBef>`;\n        }\n        if (textObj.options.paraSpaceAfter && !isNaN(Number(textObj.options.paraSpaceAfter)) && textObj.options.paraSpaceAfter > 0) {\n            strXmlParaSpc += `<a:spcAft><a:spcPts val=\"${Math.round(textObj.options.paraSpaceAfter * 100)}\"/></a:spcAft>`;\n        }\n        // OPTION: bullet\n        // NOTE: OOXML uses the unicode character set for Bullets\n        // EX: Unicode Character 'BULLET' (U+2022) ==> '<a:buChar char=\"&#x2022;\"/>'\n        if (typeof textObj.options.bullet === 'object') {\n            if ((_b = (_a = textObj === null || textObj === void 0 ? void 0 : textObj.options) === null || _a === void 0 ? void 0 : _a.bullet) === null || _b === void 0 ? void 0 : _b.indent)\n                bulletMarL = valToPts(textObj.options.bullet.indent);\n            if (textObj.options.bullet.type) {\n                if (textObj.options.bullet.type.toString().toLowerCase() === 'number') {\n                    paragraphPropXml += ` marL=\"${textObj.options.indentLevel && textObj.options.indentLevel > 0 ? bulletMarL + bulletMarL * textObj.options.indentLevel : bulletMarL}\" indent=\"-${bulletMarL}\"`;\n                    strXmlBullet = `<a:buSzPct val=\"100000\"/><a:buFont typeface=\"+mj-lt\"/><a:buAutoNum type=\"${textObj.options.bullet.style || 'arabicPeriod'}\" startAt=\"${textObj.options.bullet.numberStartAt || textObj.options.bullet.startAt || '1'}\"/>`;\n                }\n            }\n            else if (textObj.options.bullet.characterCode) {\n                let bulletCode = `&#x${textObj.options.bullet.characterCode};`;\n                // Check value for hex-ness (s/b 4 char hex)\n                if (!/^[0-9A-Fa-f]{4}$/.test(textObj.options.bullet.characterCode)) {\n                    console.warn('Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!');\n                    bulletCode = BULLET_TYPES.DEFAULT;\n                }\n                paragraphPropXml += ` marL=\"${textObj.options.indentLevel && textObj.options.indentLevel > 0 ? bulletMarL + bulletMarL * textObj.options.indentLevel : bulletMarL}\" indent=\"-${bulletMarL}\"`;\n                strXmlBullet = '<a:buSzPct val=\"100000\"/><a:buChar char=\"' + bulletCode + '\"/>';\n            }\n            else if (textObj.options.bullet.code) {\n                // @deprecated `bullet.code` v3.3.0\n                let bulletCode = `&#x${textObj.options.bullet.code};`;\n                // Check value for hex-ness (s/b 4 char hex)\n                if (!/^[0-9A-Fa-f]{4}$/.test(textObj.options.bullet.code)) {\n                    console.warn('Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!');\n                    bulletCode = BULLET_TYPES.DEFAULT;\n                }\n                paragraphPropXml += ` marL=\"${textObj.options.indentLevel && textObj.options.indentLevel > 0 ? bulletMarL + bulletMarL * textObj.options.indentLevel : bulletMarL}\" indent=\"-${bulletMarL}\"`;\n                strXmlBullet = '<a:buSzPct val=\"100000\"/><a:buChar char=\"' + bulletCode + '\"/>';\n            }\n            else {\n                paragraphPropXml += ` marL=\"${textObj.options.indentLevel && textObj.options.indentLevel > 0 ? bulletMarL + bulletMarL * textObj.options.indentLevel : bulletMarL}\" indent=\"-${bulletMarL}\"`;\n                strXmlBullet = `<a:buSzPct val=\"100000\"/><a:buChar char=\"${BULLET_TYPES.DEFAULT}\"/>`;\n            }\n        }\n        else if (textObj.options.bullet) {\n            paragraphPropXml += ` marL=\"${textObj.options.indentLevel && textObj.options.indentLevel > 0 ? bulletMarL + bulletMarL * textObj.options.indentLevel : bulletMarL}\" indent=\"-${bulletMarL}\"`;\n            strXmlBullet = `<a:buSzPct val=\"100000\"/><a:buChar char=\"${BULLET_TYPES.DEFAULT}\"/>`;\n        }\n        else if (!textObj.options.bullet) {\n            // We only add this when the user explicitely asks for no bullet, otherwise, it can override the master defaults!\n            paragraphPropXml += ' indent=\"0\" marL=\"0\"'; // FIX: ISSUE#589 - specify zero indent and marL or default will be hanging paragraph\n            strXmlBullet = '<a:buNone/>';\n        }\n        // OPTION: tabStops\n        if (textObj.options.tabStops && Array.isArray(textObj.options.tabStops)) {\n            const tabStopsXml = textObj.options.tabStops.map(stop => `<a:tab pos=\"${inch2Emu(stop.position || 1)}\" algn=\"${stop.alignment || 'l'}\"/>`).join('');\n            strXmlTabStops = `<a:tabLst>${tabStopsXml}</a:tabLst>`;\n        }\n        // B: Close Paragraph-Properties\n        // IMPORTANT: strXmlLnSpc, strXmlParaSpc, and strXmlBullet require strict ordering - anything out of order is ignored. (PPT-Online, PPT for Mac)\n        paragraphPropXml += '>' + strXmlLnSpc + strXmlParaSpc + strXmlBullet + strXmlTabStops;\n        if (isDefault)\n            paragraphPropXml += genXmlTextRunProperties(textObj.options, true);\n        paragraphPropXml += '</' + tag + '>';\n    }\n    return paragraphPropXml;\n}\n/**\n * Generate XML Text Run Properties (`a:rPr`)\n * @param {ObjectOptions|TextPropsOptions} opts - text options\n * @param {boolean} isDefault - whether these are the default text run properties\n * @return {string} XML\n */\nfunction genXmlTextRunProperties(opts, isDefault) {\n    var _a;\n    let runProps = '';\n    const runPropsTag = isDefault ? 'a:defRPr' : 'a:rPr';\n    // BEGIN runProperties (ex: `<a:rPr lang=\"en-US\" sz=\"1600\" b=\"1\" dirty=\"0\">`)\n    runProps += '<' + runPropsTag + ' lang=\"' + (opts.lang ? opts.lang : 'en-US') + '\"' + (opts.lang ? ' altLang=\"en-US\"' : '');\n    runProps += opts.fontSize ? ` sz=\"${Math.round(opts.fontSize * 100)}\"` : ''; // NOTE: Use round so sizes like '7.5' wont cause corrupt presentations\n    runProps += (opts === null || opts === void 0 ? void 0 : opts.bold) ? ` b=\"${opts.bold ? '1' : '0'}\"` : '';\n    runProps += (opts === null || opts === void 0 ? void 0 : opts.italic) ? ` i=\"${opts.italic ? '1' : '0'}\"` : '';\n    runProps += (opts === null || opts === void 0 ? void 0 : opts.strike) ? ` strike=\"${typeof opts.strike === 'string' ? opts.strike : 'sngStrike'}\"` : '';\n    if (typeof opts.underline === 'object' && ((_a = opts.underline) === null || _a === void 0 ? void 0 : _a.style)) {\n        runProps += ` u=\"${opts.underline.style}\"`;\n    }\n    else if (typeof opts.underline === 'string') {\n        // DEPRECATED: opts.underline is an object as of v3.5.0\n        runProps += ` u=\"${String(opts.underline)}\"`;\n    }\n    else if (opts.hyperlink) {\n        runProps += ' u=\"sng\"';\n    }\n    if (opts.baseline) {\n        runProps += ` baseline=\"${Math.round(opts.baseline * 50)}\"`;\n    }\n    else if (opts.subscript) {\n        runProps += ' baseline=\"-40000\"';\n    }\n    else if (opts.superscript) {\n        runProps += ' baseline=\"30000\"';\n    }\n    runProps += opts.charSpacing ? ` spc=\"${Math.round(opts.charSpacing * 100)}\" kern=\"0\"` : ''; // IMPORTANT: Also disable kerning; otherwise text won't actually expand\n    runProps += ' dirty=\"0\">';\n    // Color / Font / Highlight / Outline are children of <a:rPr>, so add them now before closing the runProperties tag\n    if (opts.color || opts.fontFace || opts.outline || (typeof opts.underline === 'object' && opts.underline.color)) {\n        if (opts.outline && typeof opts.outline === 'object') {\n            runProps += `<a:ln w=\"${valToPts(opts.outline.size || 0.75)}\">${genXmlColorSelection(opts.outline.color || 'FFFFFF')}</a:ln>`;\n        }\n        if (opts.color)\n            runProps += genXmlColorSelection({ color: opts.color, transparency: opts.transparency });\n        if (opts.highlight)\n            runProps += `<a:highlight>${createColorElement(opts.highlight)}</a:highlight>`;\n        if (typeof opts.underline === 'object' && opts.underline.color)\n            runProps += `<a:uFill>${genXmlColorSelection(opts.underline.color)}</a:uFill>`;\n        if (opts.glow)\n            runProps += `<a:effectLst>${createGlowElement(opts.glow, DEF_TEXT_GLOW)}</a:effectLst>`;\n        if (opts.fontFace) {\n            // NOTE: 'cs' = Complex Script, 'ea' = East Asian (use \"-120\" instead of \"0\" - per Issue #174); ea must come first (Issue #174)\n            runProps += `<a:latin typeface=\"${opts.fontFace}\" pitchFamily=\"34\" charset=\"0\"/><a:ea typeface=\"${opts.fontFace}\" pitchFamily=\"34\" charset=\"-122\"/><a:cs typeface=\"${opts.fontFace}\" pitchFamily=\"34\" charset=\"-120\"/>`;\n        }\n    }\n    // Hyperlink support\n    if (opts.hyperlink) {\n        if (typeof opts.hyperlink !== 'object')\n            throw new Error('ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:\\'https://github.com\\'}` ');\n        else if (!opts.hyperlink.url && !opts.hyperlink.slide)\n            throw new Error('ERROR: \\'hyperlink requires either `url` or `slide`\\'');\n        else if (opts.hyperlink.url) {\n            // runProps += '<a:uFill>'+ genXmlColorSelection('0000FF') +'</a:uFill>'; // Breaks PPT2010! (Issue#74)\n            runProps += `<a:hlinkClick r:id=\"rId${opts.hyperlink._rId}\" invalidUrl=\"\" action=\"\" tgtFrame=\"\" tooltip=\"${opts.hyperlink.tooltip ? encodeXmlEntities(opts.hyperlink.tooltip) : ''}\" history=\"1\" highlightClick=\"0\" endSnd=\"0\"${opts.color ? '>' : '/>'}`;\n        }\n        else if (opts.hyperlink.slide) {\n            runProps += `<a:hlinkClick r:id=\"rId${opts.hyperlink._rId}\" action=\"ppaction://hlinksldjump\" tooltip=\"${opts.hyperlink.tooltip ? encodeXmlEntities(opts.hyperlink.tooltip) : ''}\"${opts.color ? '>' : '/>'}`;\n        }\n        if (opts.color) {\n            runProps += ' <a:extLst>';\n            runProps += '  <a:ext uri=\"{A12FA001-AC4F-418D-AE19-62706E023703}\">';\n            runProps += '   <ahyp:hlinkClr xmlns:ahyp=\"http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor\" val=\"tx\"/>';\n            runProps += '  </a:ext>';\n            runProps += ' </a:extLst>';\n            runProps += '</a:hlinkClick>';\n        }\n    }\n    // END runProperties\n    runProps += `</${runPropsTag}>`;\n    return runProps;\n}\n/**\n * Build textBody text runs [`<a:r></a:r>`] for paragraphs [`<a:p>`]\n * @param {TextProps} textObj - Text object\n * @return {string} XML string\n */\nfunction genXmlTextRun(textObj) {\n    // NOTE: Dont create full rPr runProps for empty [lineBreak] runs\n    // Why? The size of the lineBreak wont match (eg: below it will be 18px instead of the correct 36px)\n    // Do this:\n    /*\n        <a:p>\n            <a:pPr algn=\"r\"/>\n            <a:endParaRPr lang=\"en-US\" sz=\"3600\" dirty=\"0\"/>\n        </a:p>\n    */\n    // NOT this:\n    /*\n        <a:p>\n            <a:pPr algn=\"r\"/>\n            <a:r>\n                <a:rPr lang=\"en-US\" sz=\"3600\" dirty=\"0\">\n                    <a:solidFill>\n                        <a:schemeClr val=\"accent5\"/>\n                    </a:solidFill>\n                    <a:latin typeface=\"Times\" pitchFamily=\"34\" charset=\"0\"/>\n                    <a:ea typeface=\"Times\" pitchFamily=\"34\" charset=\"-122\"/>\n                    <a:cs typeface=\"Times\" pitchFamily=\"34\" charset=\"-120\"/>\n                </a:rPr>\n                <a:t></a:t>\n            </a:r>\n            <a:endParaRPr lang=\"en-US\" dirty=\"0\"/>\n        </a:p>\n    */\n    // Return paragraph with text run\n    return textObj.text ? `<a:r>${genXmlTextRunProperties(textObj.options, false)}<a:t>${encodeXmlEntities(textObj.text)}</a:t></a:r>` : '';\n}\n/**\n * Builds `<a:bodyPr></a:bodyPr>` tag for \"genXmlTextBody()\"\n * @param {ISlideObject | TableCell} slideObject - various options\n * @return {string} XML string\n */\nfunction genXmlBodyProperties(slideObject) {\n    let bodyProperties = '<a:bodyPr';\n    if (slideObject && slideObject._type === SLIDE_OBJECT_TYPES.text && slideObject.options._bodyProp) {\n        // PPT-2019 EX: <a:bodyPr wrap=\"square\" lIns=\"1270\" tIns=\"1270\" rIns=\"1270\" bIns=\"1270\" rtlCol=\"0\" anchor=\"ctr\"/>\n        // A: Enable or disable textwrapping none or square\n        bodyProperties += slideObject.options._bodyProp.wrap ? ' wrap=\"square\"' : ' wrap=\"none\"';\n        // B: Textbox margins [padding]\n        if (slideObject.options._bodyProp.lIns || slideObject.options._bodyProp.lIns === 0)\n            bodyProperties += ` lIns=\"${slideObject.options._bodyProp.lIns}\"`;\n        if (slideObject.options._bodyProp.tIns || slideObject.options._bodyProp.tIns === 0)\n            bodyProperties += ` tIns=\"${slideObject.options._bodyProp.tIns}\"`;\n        if (slideObject.options._bodyProp.rIns || slideObject.options._bodyProp.rIns === 0)\n            bodyProperties += ` rIns=\"${slideObject.options._bodyProp.rIns}\"`;\n        if (slideObject.options._bodyProp.bIns || slideObject.options._bodyProp.bIns === 0)\n            bodyProperties += ` bIns=\"${slideObject.options._bodyProp.bIns}\"`;\n        // C: Add rtl after margins\n        bodyProperties += ' rtlCol=\"0\"';\n        // D: Add anchorPoints\n        if (slideObject.options._bodyProp.anchor)\n            bodyProperties += ' anchor=\"' + slideObject.options._bodyProp.anchor + '\"'; // VALS: [t,ctr,b]\n        if (slideObject.options._bodyProp.vert)\n            bodyProperties += ' vert=\"' + slideObject.options._bodyProp.vert + '\"'; // VALS: [eaVert,horz,mongolianVert,vert,vert270,wordArtVert,wordArtVertRtl]\n        // E: Close <a:bodyPr element\n        bodyProperties += '>';\n        /**\n         * F: Text Fit/AutoFit/Shrink option\n         * @see: http://officeopenxml.com/drwSp-text-bodyPr-fit.php\n         * @see: http://www.datypic.com/sc/ooxml/g-a_EG_TextAutofit.html\n         */\n        if (slideObject.options.fit) {\n            // NOTE: Use of '<a:noAutofit/>' instead of '' causes issues in PPT-2013!\n            if (slideObject.options.fit === 'none')\n                bodyProperties += '';\n            // NOTE: Shrink does not work automatically - PowerPoint calculates the `fontScale` value dynamically upon resize\n            // else if (slideObject.options.fit === 'shrink') bodyProperties += '<a:normAutofit fontScale=\"85000\" lnSpcReduction=\"20000\"/>' // MS-PPT > Format shape > Text Options: \"Shrink text on overflow\"\n            else if (slideObject.options.fit === 'shrink')\n                bodyProperties += '<a:normAutofit/>';\n            else if (slideObject.options.fit === 'resize')\n                bodyProperties += '<a:spAutoFit/>';\n        }\n        //\n        // DEPRECATED: below (@deprecated v3.3.0)\n        if (slideObject.options.shrinkText)\n            bodyProperties += '<a:normAutofit/>'; // MS-PPT > Format shape > Text Options: \"Shrink text on overflow\"\n        /* DEPRECATED: below (@deprecated v3.3.0)\n         * MS-PPT > Format shape > Text Options: \"Resize shape to fit text\" [spAutoFit]\n         * NOTE: Use of '<a:noAutofit/>' in lieu of '' below causes issues in PPT-2013\n         */\n        bodyProperties += slideObject.options._bodyProp.autoFit ? '<a:spAutoFit/>' : '';\n        // LAST: Close _bodyProp\n        bodyProperties += '</a:bodyPr>';\n    }\n    else {\n        // DEFAULT:\n        bodyProperties += ' wrap=\"square\" rtlCol=\"0\">';\n        bodyProperties += '</a:bodyPr>';\n    }\n    // LAST: Return Close _bodyProp\n    return slideObject._type === SLIDE_OBJECT_TYPES.tablecell ? '<a:bodyPr/>' : bodyProperties;\n}\n/**\n * Generate the XML for text and its options (bold, bullet, etc) including text runs (word-level formatting)\n * @param {ISlideObject|TableCell} slideObj - slideObj or tableCell\n * @note PPT text lines [lines followed by line-breaks] are created using <p>-aragraph's\n * @note Bullets are a paragragh-level formatting device\n * @template\n *    <p:txBody>\n *        <a:bodyPr wrap=\"square\" rtlCol=\"0\">\n *            <a:spAutoFit/>\n *        </a:bodyPr>\n *        <a:lstStyle/>\n *        <a:p>\n *            <a:pPr algn=\"ctr\"/>\n *            <a:r>\n *                <a:rPr lang=\"en-US\" dirty=\"0\" err=\"1\"/>\n *                <a:t>textbox text</a:t>\n *            </a:r>\n *            <a:endParaRPr lang=\"en-US\" dirty=\"0\"/>\n *        </a:p>\n *    </p:txBody>\n * @returns XML containing the param object's text and formatting\n */\nfunction genXmlTextBody(slideObj) {\n    const opts = slideObj.options || {};\n    let tmpTextObjects = [];\n    const arrTextObjects = [];\n    // FIRST: Shapes without text, etc. may be sent here during build, but have no text to render so return an empty string\n    if (opts && slideObj._type !== SLIDE_OBJECT_TYPES.tablecell && (typeof slideObj.text === 'undefined' || slideObj.text === null))\n        return '';\n    // STEP 1: Start textBody\n    let strSlideXml = slideObj._type === SLIDE_OBJECT_TYPES.tablecell ? '<a:txBody>' : '<p:txBody>';\n    // STEP 2: Add bodyProperties\n    {\n        // A: 'bodyPr'\n        strSlideXml += genXmlBodyProperties(slideObj);\n        // B: 'lstStyle'\n        // NOTE: shape type 'LINE' has different text align needs (a lstStyle.lvl1pPr between bodyPr and p)\n        // FIXME: LINE horiz-align doesnt work (text is always to the left inside line) (FYI: the PPT code diff is substantial!)\n        if (opts.h === 0 && opts.line && opts.align)\n            strSlideXml += '<a:lstStyle><a:lvl1pPr algn=\"l\"/></a:lstStyle>';\n        else if (slideObj._type === 'placeholder')\n            strSlideXml += `<a:lstStyle>${genXmlParagraphProperties(slideObj, true)}</a:lstStyle>`;\n        else\n            strSlideXml += '<a:lstStyle/>';\n    }\n    /* STEP 3: Modify slideObj.text to array\n        CASES:\n        addText( 'string' ) // string\n        addText( 'line1\\n line2' ) // string with lineBreak\n        addText( {text:'word1'} ) // TextProps object\n        addText( ['barry','allen'] ) // array of strings\n        addText( [{text:'word1'}, {text:'word2'}] ) // TextProps object array\n        addText( [{text:'line1\\n line2'}, {text:'end word'}] ) // TextProps object array with lineBreak\n    */\n    if (typeof slideObj.text === 'string' || typeof slideObj.text === 'number') {\n        // Handle cases 1,2\n        tmpTextObjects.push({ text: slideObj.text.toString(), options: opts || {} });\n    }\n    else if (slideObj.text && !Array.isArray(slideObj.text) && typeof slideObj.text === 'object' && Object.keys(slideObj.text).includes('text')) {\n        // } else if (!Array.isArray(slideObj.text) && slideObj.text!.hasOwnProperty('text')) { // 20210706: replaced with below as ts compiler rejected it\n        // Handle case 3\n        tmpTextObjects.push({ text: slideObj.text || '', options: slideObj.options || {} });\n    }\n    else if (Array.isArray(slideObj.text)) {\n        // Handle cases 4,5,6\n        // NOTE: use cast as text is TextProps[]|TableCell[] and their `options` dont overlap (they share the same TextBaseProps though)\n        tmpTextObjects = slideObj.text.map(item => ({ text: item.text, options: item.options }));\n    }\n    // STEP 4: Iterate over text objects, set text/options, break into pieces if '\\n'/breakLine found\n    tmpTextObjects.forEach((itext, idx) => {\n        if (!itext.text)\n            itext.text = '';\n        // A: Set options\n        itext.options = itext.options || opts || {};\n        if (idx === 0 && itext.options && !itext.options.bullet && opts.bullet)\n            itext.options.bullet = opts.bullet;\n        // B: Cast to text-object and fix line-breaks (if needed)\n        if (typeof itext.text === 'string' || typeof itext.text === 'number') {\n            // 1: Convert \"\\n\" or any variation into CRLF\n            itext.text = itext.text.toString().replace(/\\r*\\n/g, CRLF);\n        }\n        // C: If text string has line-breaks, then create a separate text-object for each (much easier than dealing with split inside a loop below)\n        // NOTE: Filter for trailing lineBreak prevents the creation of an empty textObj as the last item\n        if (itext.text.includes(CRLF) && itext.text.match(/\\n$/g) === null) {\n            itext.text.split(CRLF).forEach(line => {\n                itext.options.breakLine = true;\n                arrTextObjects.push({ text: line, options: itext.options });\n            });\n        }\n        else {\n            arrTextObjects.push(itext);\n        }\n    });\n    // STEP 5: Group textObj into lines by checking for lineBreak, bullets, alignment change, etc.\n    const arrLines = [];\n    let arrTexts = [];\n    arrTextObjects.forEach((textObj, idx) => {\n        // A: Align or Bullet trigger new line\n        if (arrTexts.length > 0 && (textObj.options.align || opts.align)) {\n            // Only start a new paragraph when align *changes*\n            if (textObj.options.align !== arrTextObjects[idx - 1].options.align) {\n                arrLines.push(arrTexts);\n                arrTexts = [];\n            }\n        }\n        else if (arrTexts.length > 0 && textObj.options.bullet && arrTexts.length > 0) {\n            arrLines.push(arrTexts);\n            arrTexts = [];\n            textObj.options.breakLine = false; // For cases with both `bullet` and `brekaLine` - prevent double lineBreak\n        }\n        // B: Add this text to current line\n        arrTexts.push(textObj);\n        // C: BreakLine begins new line **after** adding current text\n        if (arrTexts.length > 0 && textObj.options.breakLine) {\n            // Avoid starting a para right as loop is exhausted\n            if (idx + 1 < arrTextObjects.length) {\n                arrLines.push(arrTexts);\n                arrTexts = [];\n            }\n        }\n        // D: Flush buffer\n        if (idx + 1 === arrTextObjects.length)\n            arrLines.push(arrTexts);\n    });\n    // STEP 6: Loop over each line and create paragraph props, text run, etc.\n    arrLines.forEach(line => {\n        var _a;\n        let reqsClosingFontSize = false;\n        // A: Start paragraph, add paraProps\n        strSlideXml += '<a:p>';\n        // NOTE: `rtlMode` is like other opts, its propagated up to each text:options, so just check the 1st one\n        let paragraphPropXml = `<a:pPr ${((_a = line[0].options) === null || _a === void 0 ? void 0 : _a.rtlMode) ? ' rtl=\"1\" ' : ''}`;\n        // B: Start paragraph, loop over lines and add text runs\n        line.forEach((textObj, idx) => {\n            // A: Set line index\n            textObj.options._lineIdx = idx;\n            // A.1: Add soft break if not the first run of the line.\n            if (idx > 0 && textObj.options.softBreakBefore) {\n                strSlideXml += '<a:br/>';\n            }\n            // B: Inherit pPr-type options from parent shape's `options`\n            textObj.options.align = textObj.options.align || opts.align;\n            textObj.options.lineSpacing = textObj.options.lineSpacing || opts.lineSpacing;\n            textObj.options.lineSpacingMultiple = textObj.options.lineSpacingMultiple || opts.lineSpacingMultiple;\n            textObj.options.indentLevel = textObj.options.indentLevel || opts.indentLevel;\n            textObj.options.paraSpaceBefore = textObj.options.paraSpaceBefore || opts.paraSpaceBefore;\n            textObj.options.paraSpaceAfter = textObj.options.paraSpaceAfter || opts.paraSpaceAfter;\n            paragraphPropXml = genXmlParagraphProperties(textObj, false);\n            strSlideXml += paragraphPropXml.replace('<a:pPr></a:pPr>', ''); // IMPORTANT: Empty \"pPr\" blocks will generate needs-repair/corrupt msg\n            // C: Inherit any main options (color, fontSize, etc.)\n            // NOTE: We only pass the text.options to genXmlTextRun (not the Slide.options),\n            // so the run building function cant just fallback to Slide.color, therefore, we need to do that here before passing options below.\n            // FILTER RULE: Hyperlinks should not inherit `color` from main options (let PPT default to local color, eg: blue on MacOS)\n            Object.entries(opts).filter(([key]) => !(textObj.options.hyperlink && key === 'color')).forEach(([key, val]) => {\n                // if (textObj.options.hyperlink && key === 'color') null\n                // NOTE: This loop will pick up unecessary keys (`x`, etc.), but it doesnt hurt anything\n                if (key !== 'bullet' && !textObj.options[key])\n                    textObj.options[key] = val;\n            });\n            // D: Add formatted textrun\n            strSlideXml += genXmlTextRun(textObj);\n            // E: Flag close fontSize for empty [lineBreak] elements\n            if ((!textObj.text && opts.fontSize) || textObj.options.fontSize) {\n                reqsClosingFontSize = true;\n                opts.fontSize = opts.fontSize || textObj.options.fontSize;\n            }\n        });\n        /* C: Append 'endParaRPr' (when needed) and close current open paragraph\n         * NOTE: (ISSUE#20, ISSUE#193): Add 'endParaRPr' with font/size props or PPT default (Arial/18pt en-us) is used making row \"too tall\"/not honoring options\n         */\n        if (slideObj._type === SLIDE_OBJECT_TYPES.tablecell && (opts.fontSize || opts.fontFace)) {\n            if (opts.fontFace) {\n                strSlideXml += `<a:endParaRPr lang=\"${opts.lang || 'en-US'}\"` + (opts.fontSize ? ` sz=\"${Math.round(opts.fontSize * 100)}\"` : '') + ' dirty=\"0\">';\n                strSlideXml += `<a:latin typeface=\"${opts.fontFace}\" charset=\"0\"/>`;\n                strSlideXml += `<a:ea typeface=\"${opts.fontFace}\" charset=\"0\"/>`;\n                strSlideXml += `<a:cs typeface=\"${opts.fontFace}\" charset=\"0\"/>`;\n                strSlideXml += '</a:endParaRPr>';\n            }\n            else {\n                strSlideXml += `<a:endParaRPr lang=\"${opts.lang || 'en-US'}\"` + (opts.fontSize ? ` sz=\"${Math.round(opts.fontSize * 100)}\"` : '') + ' dirty=\"0\"/>';\n            }\n        }\n        else if (reqsClosingFontSize) {\n            // Empty [lineBreak] lines should not contain runProp, however, they need to specify fontSize in `endParaRPr`\n            strSlideXml += `<a:endParaRPr lang=\"${opts.lang || 'en-US'}\"` + (opts.fontSize ? ` sz=\"${Math.round(opts.fontSize * 100)}\"` : '') + ' dirty=\"0\"/>';\n        }\n        else {\n            strSlideXml += `<a:endParaRPr lang=\"${opts.lang || 'en-US'}\" dirty=\"0\"/>`; // Added 20180101 to address PPT-2007 issues\n        }\n        // D: End paragraph\n        strSlideXml += '</a:p>';\n    });\n    // IMPORTANT: An empty txBody will cause \"needs repair\" error! Add <p> content if missing.\n    // [FIXED in v3.13.0]: This fixes issue with table auto-paging where some cells w/b empty on subsequent pages.\n    /*\n        <a:txBody>\n            <a:bodyPr/>\n            <a:lstStyle/>\n        </a:txBody>\n    */\n    if (strSlideXml.indexOf('<a:p>') === -1) {\n        strSlideXml += '<a:p><a:endParaRPr/></a:p>';\n    }\n    // STEP 7: Close the textBody\n    strSlideXml += slideObj._type === SLIDE_OBJECT_TYPES.tablecell ? '</a:txBody>' : '</p:txBody>';\n    // LAST: Return XML\n    return strSlideXml;\n}\n/**\n * Generate an XML Placeholder\n * @param {ISlideObject} placeholderObj\n * @returns XML\n */\nfunction genXmlPlaceholder(placeholderObj) {\n    var _a, _b;\n    if (!placeholderObj)\n        return '';\n    const placeholderIdx = ((_a = placeholderObj.options) === null || _a === void 0 ? void 0 : _a._placeholderIdx) ? placeholderObj.options._placeholderIdx : '';\n    const placeholderTyp = ((_b = placeholderObj.options) === null || _b === void 0 ? void 0 : _b._placeholderType) ? placeholderObj.options._placeholderType : '';\n    const placeholderType = placeholderTyp && PLACEHOLDER_TYPES[placeholderTyp] ? (PLACEHOLDER_TYPES[placeholderTyp]).toString() : '';\n    return `<p:ph\n\t\t${placeholderIdx ? ' idx=\"' + placeholderIdx.toString() + '\"' : ''}\n\t\t${placeholderType && PLACEHOLDER_TYPES[placeholderType] ? ` type=\"${placeholderType}\"` : ''}\n\t\t${placeholderObj.text && placeholderObj.text.length > 0 ? ' hasCustomPrompt=\"1\"' : ''}\n\t\t/>`;\n}\n// XML-GEN: First 6 functions create the base /ppt files\n/**\n * Generate XML ContentType\n * @param {PresSlide[]} slides - slides\n * @param {SlideLayout[]} slideLayouts - slide layouts\n * @param {PresSlide} masterSlide - master slide\n * @returns XML\n */\nfunction makeXmlContTypes(slides, slideLayouts, masterSlide) {\n    let strXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' + CRLF;\n    strXml += '<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">';\n    strXml += '<Default Extension=\"xml\" ContentType=\"application/xml\"/>';\n    strXml += '<Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\"/>';\n    strXml += '<Default Extension=\"jpeg\" ContentType=\"image/jpeg\"/>';\n    strXml += '<Default Extension=\"jpg\" ContentType=\"image/jpg\"/>';\n    strXml += '<Default Extension=\"svg\" ContentType=\"image/svg+xml\"/>';\n    // STEP 1: Add standard/any media types used in Presentation\n    strXml += '<Default Extension=\"png\" ContentType=\"image/png\"/>';\n    strXml += '<Default Extension=\"gif\" ContentType=\"image/gif\"/>';\n    strXml += '<Default Extension=\"m4v\" ContentType=\"video/mp4\"/>'; // NOTE: Hard-Code this extension as it wont be created in loop below (as extn !== type)\n    strXml += '<Default Extension=\"mp4\" ContentType=\"video/mp4\"/>'; // NOTE: Hard-Code this extension as it wont be created in loop below (as extn !== type)\n    slides.forEach(slide => {\n        (slide._relsMedia || []).forEach(rel => {\n            if (rel.type !== 'image' && rel.type !== 'online' && rel.type !== 'chart' && rel.extn !== 'm4v' && !strXml.includes(rel.type)) {\n                strXml += '<Default Extension=\"' + rel.extn + '\" ContentType=\"' + rel.type + '\"/>';\n            }\n        });\n    });\n    strXml += '<Default Extension=\"vml\" ContentType=\"application/vnd.openxmlformats-officedocument.vmlDrawing\"/>';\n    strXml += '<Default Extension=\"xlsx\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"/>';\n    // STEP 2: Add presentation and slide master(s)/slide(s)\n    strXml += '<Override PartName=\"/ppt/presentation.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml\"/>';\n    strXml += '<Override PartName=\"/ppt/notesMasters/notesMaster1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml\"/>';\n    slides.forEach((slide, idx) => {\n        strXml += `<Override PartName=\"/ppt/slideMasters/slideMaster${idx + 1}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml\"/>`;\n        strXml += `<Override PartName=\"/ppt/slides/slide${idx + 1}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.slide+xml\"/>`;\n        // Add charts if any\n        slide._relsChart.forEach(rel => {\n            strXml += `<Override PartName=\"${rel.Target}\" ContentType=\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\"/>`;\n        });\n    });\n    // STEP 3: Core PPT\n    strXml += '<Override PartName=\"/ppt/presProps.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.presProps+xml\"/>';\n    strXml += '<Override PartName=\"/ppt/viewProps.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml\"/>';\n    strXml += '<Override PartName=\"/ppt/theme/theme1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.theme+xml\"/>';\n    strXml += '<Override PartName=\"/ppt/tableStyles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml\"/>';\n    // STEP 4: Add Slide Layouts\n    slideLayouts.forEach((layout, idx) => {\n        strXml += `<Override PartName=\"/ppt/slideLayouts/slideLayout${idx + 1}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml\"/>`;\n        (layout._relsChart || []).forEach(rel => {\n            strXml += ' <Override PartName=\"' + rel.Target + '\" ContentType=\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\"/>';\n        });\n    });\n    // STEP 5: Add notes slide(s)\n    slides.forEach((_slide, idx) => {\n        strXml += `<Override PartName=\"/ppt/notesSlides/notesSlide${idx + 1}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml\"/>`;\n    });\n    // STEP 6: Add rels\n    masterSlide._relsChart.forEach(rel => {\n        strXml += ' <Override PartName=\"' + rel.Target + '\" ContentType=\"application/vnd.openxmlformats-officedocument.drawingml.chart+xml\"/>';\n    });\n    masterSlide._relsMedia.forEach(rel => {\n        if (rel.type !== 'image' && rel.type !== 'online' && rel.type !== 'chart' && rel.extn !== 'm4v' && !strXml.includes(rel.type)) {\n            strXml += ' <Default Extension=\"' + rel.extn + '\" ContentType=\"' + rel.type + '\"/>';\n        }\n    });\n    // LAST: Finish XML (Resume core)\n    strXml += ' <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\"/>';\n    strXml += ' <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\"/>';\n    strXml += '</Types>';\n    return strXml;\n}\n/**\n * Creates `_rels/.rels`\n * @returns XML\n */\nfunction makeXmlRootRels() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n\t\t<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>\n\t\t<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>\n\t\t<Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"ppt/presentation.xml\"/>\n\t\t</Relationships>`;\n}\n/**\n * Creates `docProps/app.xml`\n * @param {PresSlide[]} slides - Presenation Slides\n * @param {string} company - \"Company\" metadata\n * @returns XML\n */\nfunction makeXmlApp(slides, company) {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">\n\t<TotalTime>0</TotalTime>\n\t<Words>0</Words>\n\t<Application>Microsoft Office PowerPoint</Application>\n\t<PresentationFormat>On-screen Show (16:9)</PresentationFormat>\n\t<Paragraphs>0</Paragraphs>\n\t<Slides>${slides.length}</Slides>\n\t<Notes>${slides.length}</Notes>\n\t<HiddenSlides>0</HiddenSlides>\n\t<MMClips>0</MMClips>\n\t<ScaleCrop>false</ScaleCrop>\n\t<HeadingPairs>\n\t\t<vt:vector size=\"6\" baseType=\"variant\">\n\t\t\t<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>\n\t\t\t<vt:variant><vt:i4>2</vt:i4></vt:variant>\n\t\t\t<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>\n\t\t\t<vt:variant><vt:i4>1</vt:i4></vt:variant>\n\t\t\t<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>\n\t\t\t<vt:variant><vt:i4>${slides.length}</vt:i4></vt:variant>\n\t\t</vt:vector>\n\t</HeadingPairs>\n\t<TitlesOfParts>\n\t\t<vt:vector size=\"${slides.length + 1 + 2}\" baseType=\"lpstr\">\n\t\t\t<vt:lpstr>Arial</vt:lpstr>\n\t\t\t<vt:lpstr>Calibri</vt:lpstr>\n\t\t\t<vt:lpstr>Office Theme</vt:lpstr>\n\t\t\t${slides.map((_slideObj, idx) => `<vt:lpstr>Slide ${idx + 1}</vt:lpstr>`).join('')}\n\t\t</vt:vector>\n\t</TitlesOfParts>\n\t<Company>${company}</Company>\n\t<LinksUpToDate>false</LinksUpToDate>\n\t<SharedDoc>false</SharedDoc>\n\t<HyperlinksChanged>false</HyperlinksChanged>\n\t<AppVersion>16.0000</AppVersion>\n\t</Properties>`;\n}\n/**\n * Creates `docProps/core.xml`\n * @param {string} title - metadata data\n * @param {string} subject - metadata data\n * @param {string} author - metadata value\n * @param {string} revision - metadata value\n * @returns XML\n */\nfunction makeXmlCore(title, subject, author, revision) {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n\t<cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n\t\t<dc:title>${encodeXmlEntities(title)}</dc:title>\n\t\t<dc:subject>${encodeXmlEntities(subject)}</dc:subject>\n\t\t<dc:creator>${encodeXmlEntities(author)}</dc:creator>\n\t\t<cp:lastModifiedBy>${encodeXmlEntities(author)}</cp:lastModifiedBy>\n\t\t<cp:revision>${revision}</cp:revision>\n\t\t<dcterms:created xsi:type=\"dcterms:W3CDTF\">${new Date().toISOString().replace(/\\.\\d\\d\\dZ/, 'Z')}</dcterms:created>\n\t\t<dcterms:modified xsi:type=\"dcterms:W3CDTF\">${new Date().toISOString().replace(/\\.\\d\\d\\dZ/, 'Z')}</dcterms:modified>\n\t</cp:coreProperties>`;\n}\n/**\n * Creates `ppt/_rels/presentation.xml.rels`\n * @param {PresSlide[]} slides - Presenation Slides\n * @returns XML\n */\nfunction makeXmlPresentationRels(slides) {\n    let intRelNum = 1;\n    let strXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' + CRLF;\n    strXml += '<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n    strXml += '<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster\" Target=\"slideMasters/slideMaster1.xml\"/>';\n    for (let idx = 1; idx <= slides.length; idx++) {\n        strXml += `<Relationship Id=\"rId${++intRelNum}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide\" Target=\"slides/slide${idx}.xml\"/>`;\n    }\n    intRelNum++;\n    strXml +=\n        `<Relationship Id=\"rId${intRelNum + 0}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster\" Target=\"notesMasters/notesMaster1.xml\"/>` +\n            `<Relationship Id=\"rId${intRelNum + 1}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps\" Target=\"presProps.xml\"/>` +\n            `<Relationship Id=\"rId${intRelNum + 2}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps\" Target=\"viewProps.xml\"/>` +\n            `<Relationship Id=\"rId${intRelNum + 3}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\" Target=\"theme/theme1.xml\"/>` +\n            `<Relationship Id=\"rId${intRelNum + 4}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles\" Target=\"tableStyles.xml\"/>` +\n            '</Relationships>';\n    return strXml;\n}\n// XML-GEN: Functions that run 1-N times (once for each Slide)\n/**\n * Generates XML for the slide file (`ppt/slides/slide1.xml`)\n * @param {PresSlide} slide - the slide object to transform into XML\n * @return {string} XML\n */\nfunction makeXmlSlide(slide) {\n    return (`<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}` +\n        '<p:sld xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" ' +\n        'xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\"' +\n        `${(slide === null || slide === void 0 ? void 0 : slide.hidden) ? ' show=\"0\"' : ''}>` +\n        `${slideObjectToXml(slide)}` +\n        '<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>');\n}\n/**\n * Get text content of Notes from Slide\n * @param {PresSlide} slide - the slide object to transform into XML\n * @return {string} notes text\n */\nfunction getNotesFromSlide(slide) {\n    let notesText = '';\n    slide._slideObjects.forEach(data => {\n        if (data._type === SLIDE_OBJECT_TYPES.notes)\n            notesText += (data === null || data === void 0 ? void 0 : data.text) && data.text[0] ? data.text[0].text : '';\n    });\n    return notesText.replace(/\\r*\\n/g, CRLF);\n}\n/**\n * Generate XML for Notes Master (notesMaster1.xml)\n * @returns {string} XML\n */\nfunction makeXmlNotesMaster() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<p:notesMaster xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\"><p:cSld><p:bg><p:bgRef idx=\"1001\"><a:schemeClr val=\"bg1\"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id=\"1\" name=\"\"/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x=\"0\" y=\"0\"/><a:ext cx=\"0\" cy=\"0\"/><a:chOff x=\"0\" y=\"0\"/><a:chExt cx=\"0\" cy=\"0\"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id=\"2\" name=\"Header Placeholder 1\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"hdr\" sz=\"quarter\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"0\" y=\"0\"/><a:ext cx=\"2971800\" cy=\"458788\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\"/><a:lstStyle><a:lvl1pPr algn=\"l\"><a:defRPr sz=\"1200\"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"3\" name=\"Date Placeholder 2\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"dt\" idx=\"1\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"3884613\" y=\"0\"/><a:ext cx=\"2971800\" cy=\"458788\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\"/><a:lstStyle><a:lvl1pPr algn=\"r\"><a:defRPr sz=\"1200\"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id=\"{5282F153-3F37-0F45-9E97-73ACFA13230C}\" type=\"datetimeFigureOut\"><a:rPr lang=\"en-US\"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"4\" name=\"Slide Image Placeholder 3\"/><p:cNvSpPr><a:spLocks noGrp=\"1\" noRot=\"1\" noChangeAspect=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"sldImg\" idx=\"2\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"685800\" y=\"1143000\"/><a:ext cx=\"5486400\" cy=\"3086100\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom><a:noFill/><a:ln w=\"12700\"><a:solidFill><a:prstClr val=\"black\"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\" anchor=\"ctr\"/><a:lstStyle/><a:p><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"5\" name=\"Notes Placeholder 4\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"body\" sz=\"quarter\" idx=\"3\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"685800\" y=\"4400550\"/><a:ext cx=\"5486400\" cy=\"3600450\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\"/><a:lstStyle/><a:p><a:pPr lvl=\"0\"/><a:r><a:rPr lang=\"en-US\"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl=\"1\"/><a:r><a:rPr lang=\"en-US\"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl=\"2\"/><a:r><a:rPr lang=\"en-US\"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl=\"3\"/><a:r><a:rPr lang=\"en-US\"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl=\"4\"/><a:r><a:rPr lang=\"en-US\"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"6\" name=\"Footer Placeholder 5\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"ftr\" sz=\"quarter\" idx=\"4\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"0\" y=\"8685213\"/><a:ext cx=\"2971800\" cy=\"458787\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\" anchor=\"b\"/><a:lstStyle><a:lvl1pPr algn=\"l\"><a:defRPr sz=\"1200\"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"7\" name=\"Slide Number Placeholder 6\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"sldNum\" sz=\"quarter\" idx=\"5\"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x=\"3884613\" y=\"8685213\"/><a:ext cx=\"2971800\" cy=\"458787\"/></a:xfrm><a:prstGeom prst=\"rect\"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert=\"horz\" lIns=\"91440\" tIns=\"45720\" rIns=\"91440\" bIns=\"45720\" rtlCol=\"0\" anchor=\"b\"/><a:lstStyle><a:lvl1pPr algn=\"r\"><a:defRPr sz=\"1200\"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id=\"{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}\" type=\"slidenum\"><a:rPr lang=\"en-US\"/><a:t>#</a:t></a:fld><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri=\"{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}\"><p14:creationId xmlns:p14=\"http://schemas.microsoft.com/office/powerpoint/2010/main\" val=\"1024086991\"/></p:ext></p:extLst></p:cSld><p:clrMap bg1=\"lt1\" tx1=\"dk1\" bg2=\"lt2\" tx2=\"dk2\" accent1=\"accent1\" accent2=\"accent2\" accent3=\"accent3\" accent4=\"accent4\" accent5=\"accent5\" accent6=\"accent6\" hlink=\"hlink\" folHlink=\"folHlink\"/><p:notesStyle><a:lvl1pPr marL=\"0\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL=\"457200\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL=\"914400\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL=\"1371600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL=\"1828800\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL=\"2286000\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL=\"2743200\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL=\"3200400\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL=\"3657600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`;\n}\n/**\n * Creates Notes Slide (`ppt/notesSlides/notesSlide1.xml`)\n * @param {PresSlide} slide - the slide object to transform into XML\n * @return {string} XML\n */\nfunction makeXmlNotesSlide(slide) {\n    return (`<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<p:notes xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id=\"1\" name=\"\"/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x=\"0\" y=\"0\"/><a:ext cx=\"0\" cy=\"0\"/><a:chOff x=\"0\" y=\"0\"/><a:chExt cx=\"0\" cy=\"0\"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id=\"2\" name=\"Slide Image Placeholder 1\"/><p:cNvSpPr><a:spLocks noGrp=\"1\" noRot=\"1\" noChangeAspect=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"sldImg\"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"3\" name=\"Notes Placeholder 2\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"body\" idx=\"1\"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang=\"en-US\" dirty=\"0\"/><a:t>${encodeXmlEntities(getNotesFromSlide(slide))}</a:t></a:r><a:endParaRPr lang=\"en-US\" dirty=\"0\"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id=\"4\" name=\"Slide Number Placeholder 3\"/><p:cNvSpPr><a:spLocks noGrp=\"1\"/></p:cNvSpPr><p:nvPr><p:ph type=\"sldNum\" sz=\"quarter\" idx=\"10\"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id=\"${SLDNUMFLDID}\" type=\"slidenum\"><a:rPr lang=\"en-US\"/><a:t>${slide._slideNum}</a:t></a:fld><a:endParaRPr lang=\"en-US\"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri=\"{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}\"><p14:creationId xmlns:p14=\"http://schemas.microsoft.com/office/powerpoint/2010/main\" val=\"1024086991\"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`);\n}\n/**\n * Generates the XML layout resource from a layout object\n * @param {SlideLayout} layout - slide layout (master)\n * @return {string} XML\n */\nfunction makeXmlLayout(layout) {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n\t\t<p:sldLayout xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\" preserve=\"1\">\n\t\t${slideObjectToXml(layout)}\n\t\t<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`;\n}\n/**\n * Creates Slide Master 1 (`ppt/slideMasters/slideMaster1.xml`)\n * @param {PresSlide} slide - slide object that represents master slide layout\n * @param {SlideLayout[]} layouts - slide layouts\n * @return {string} XML\n */\nfunction makeXmlMaster(slide, layouts) {\n    // NOTE: Pass layouts as static rels because they are not referenced any time\n    const layoutDefs = layouts.map((_layoutDef, idx) => `<p:sldLayoutId id=\"${LAYOUT_IDX_SERIES_BASE + idx}\" r:id=\"rId${slide._rels.length + idx + 1}\"/>`);\n    let strXml = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' + CRLF;\n    strXml +=\n        '<p:sldMaster xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\">';\n    strXml += slideObjectToXml(slide);\n    strXml +=\n        '<p:clrMap bg1=\"lt1\" tx1=\"dk1\" bg2=\"lt2\" tx2=\"dk2\" accent1=\"accent1\" accent2=\"accent2\" accent3=\"accent3\" accent4=\"accent4\" accent5=\"accent5\" accent6=\"accent6\" hlink=\"hlink\" folHlink=\"folHlink\"/>';\n    strXml += '<p:sldLayoutIdLst>' + layoutDefs.join('') + '</p:sldLayoutIdLst>';\n    strXml += '<p:hf sldNum=\"0\" hdr=\"0\" ftr=\"0\" dt=\"0\"/>';\n    strXml +=\n        '<p:txStyles>' +\n            ' <p:titleStyle>' +\n            '  <a:lvl1pPr algn=\"ctr\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"0\"/></a:spcBef><a:buNone/><a:defRPr sz=\"4400\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mj-lt\"/><a:ea typeface=\"+mj-ea\"/><a:cs typeface=\"+mj-cs\"/></a:defRPr></a:lvl1pPr>' +\n            ' </p:titleStyle>' +\n            ' <p:bodyStyle>' +\n            '  <a:lvl1pPr marL=\"342900\" indent=\"-342900\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"3200\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl1pPr>' +\n            '  <a:lvl2pPr marL=\"742950\" indent=\"-285750\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl2pPr>' +\n            '  <a:lvl3pPr marL=\"1143000\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2400\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl3pPr>' +\n            '  <a:lvl4pPr marL=\"1600200\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl4pPr>' +\n            '  <a:lvl5pPr marL=\"2057400\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl5pPr>' +\n            '  <a:lvl6pPr marL=\"2514600\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl6pPr>' +\n            '  <a:lvl7pPr marL=\"2971800\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl7pPr>' +\n            '  <a:lvl8pPr marL=\"3429000\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl8pPr>' +\n            '  <a:lvl9pPr marL=\"3886200\" indent=\"-228600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:spcBef><a:spcPct val=\"20000\"/></a:spcBef><a:buFont typeface=\"Arial\" pitchFamily=\"34\" charset=\"0\"/><a:buChar char=\"\"/><a:defRPr sz=\"2000\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl9pPr>' +\n            ' </p:bodyStyle>' +\n            ' <p:otherStyle>' +\n            '  <a:defPPr><a:defRPr lang=\"en-US\"/></a:defPPr>' +\n            '  <a:lvl1pPr marL=\"0\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl1pPr>' +\n            '  <a:lvl2pPr marL=\"457200\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl2pPr>' +\n            '  <a:lvl3pPr marL=\"914400\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl3pPr>' +\n            '  <a:lvl4pPr marL=\"1371600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl4pPr>' +\n            '  <a:lvl5pPr marL=\"1828800\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl5pPr>' +\n            '  <a:lvl6pPr marL=\"2286000\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl6pPr>' +\n            '  <a:lvl7pPr marL=\"2743200\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl7pPr>' +\n            '  <a:lvl8pPr marL=\"3200400\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl8pPr>' +\n            '  <a:lvl9pPr marL=\"3657600\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\"><a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/></a:defRPr></a:lvl9pPr>' +\n            ' </p:otherStyle>' +\n            '</p:txStyles>';\n    strXml += '</p:sldMaster>';\n    return strXml;\n}\n/**\n * Generates XML string for a slide layout relation file\n * @param {number} layoutNumber - 1-indexed number of a layout that relations are generated for\n * @param {SlideLayout[]} slideLayouts - Slide Layouts\n * @return {string} XML\n */\nfunction makeXmlSlideLayoutRel(layoutNumber, slideLayouts) {\n    return slideObjectRelationsToXml(slideLayouts[layoutNumber - 1], [\n        {\n            target: '../slideMasters/slideMaster1.xml',\n            type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster',\n        },\n    ]);\n}\n/**\n * Creates `ppt/_rels/slide*.xml.rels`\n * @param {PresSlide[]} slides\n * @param {SlideLayout[]} slideLayouts - Slide Layout(s)\n * @param {number} `slideNumber` 1-indexed number of a layout that relations are generated for\n * @return {string} XML\n */\nfunction makeXmlSlideRel(slides, slideLayouts, slideNumber) {\n    return slideObjectRelationsToXml(slides[slideNumber - 1], [\n        {\n            target: `../slideLayouts/slideLayout${getLayoutIdxForSlide(slides, slideLayouts, slideNumber)}.xml`,\n            type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout',\n        },\n        {\n            target: `../notesSlides/notesSlide${slideNumber}.xml`,\n            type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide',\n        },\n    ]);\n}\n/**\n * Generates XML string for a slide relation file.\n * @param {number} slideNumber - 1-indexed number of a layout that relations are generated for\n * @return {string} XML\n */\nfunction makeXmlNotesSlideRel(slideNumber) {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n\t\t<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n\t\t\t<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster\" Target=\"../notesMasters/notesMaster1.xml\"/>\n\t\t\t<Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide\" Target=\"../slides/slide${slideNumber}.xml\"/>\n\t\t</Relationships>`;\n}\n/**\n * Creates `ppt/slideMasters/_rels/slideMaster1.xml.rels`\n * @param {PresSlide} masterSlide - Slide object\n * @param {SlideLayout[]} slideLayouts - Slide Layouts\n * @return {string} XML\n */\nfunction makeXmlMasterRel(masterSlide, slideLayouts) {\n    const defaultRels = slideLayouts.map((_layoutDef, idx) => ({\n        target: `../slideLayouts/slideLayout${idx + 1}.xml`,\n        type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout',\n    }));\n    defaultRels.push({ target: '../theme/theme1.xml', type: 'http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme' });\n    return slideObjectRelationsToXml(masterSlide, defaultRels);\n}\n/**\n * Creates `ppt/notesMasters/_rels/notesMaster1.xml.rels`\n * @return {string} XML\n */\nfunction makeXmlNotesMasterRel() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n\t\t<Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\" Target=\"../theme/theme1.xml\"/>\n\t\t</Relationships>`;\n}\n/**\n * For the passed slide number, resolves name of a layout that is used for.\n * @param {PresSlide[]} slides - srray of slides\n * @param {SlideLayout[]} slideLayouts - array of slideLayouts\n * @param {number} slideNumber\n * @return {number} slide number\n */\nfunction getLayoutIdxForSlide(slides, slideLayouts, slideNumber) {\n    for (let i = 0; i < slideLayouts.length; i++) {\n        if (slideLayouts[i]._name === slides[slideNumber - 1]._slideLayout._name) {\n            return i + 1;\n        }\n    }\n    // IMPORTANT: Return 1 (for `slideLayout1.xml`) when no def is found\n    // So all objects are in Layout1 and every slide that references it uses this layout.\n    return 1;\n}\n// XML-GEN: Last 5 functions create root /ppt files\n/**\n * Creates `ppt/theme/theme1.xml`\n * @return {string} XML\n */\nfunction makeXmlTheme(pres) {\n    var _a, _b, _c, _d;\n    const majorFont = ((_a = pres.theme) === null || _a === void 0 ? void 0 : _a.headFontFace) ? `<a:latin typeface=\"${(_b = pres.theme) === null || _b === void 0 ? void 0 : _b.headFontFace}\"/>` : '<a:latin typeface=\"Calibri Light\" panose=\"020F0302020204030204\"/>';\n    const minorFont = ((_c = pres.theme) === null || _c === void 0 ? void 0 : _c.bodyFontFace) ? `<a:latin typeface=\"${(_d = pres.theme) === null || _d === void 0 ? void 0 : _d.bodyFontFace}\"/>` : '<a:latin typeface=\"Calibri\" panose=\"020F0502020204030204\"/>';\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><a:theme xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" name=\"Office Theme\"><a:themeElements><a:clrScheme name=\"Office\"><a:dk1><a:sysClr val=\"windowText\" lastClr=\"000000\"/></a:dk1><a:lt1><a:sysClr val=\"window\" lastClr=\"FFFFFF\"/></a:lt1><a:dk2><a:srgbClr val=\"44546A\"/></a:dk2><a:lt2><a:srgbClr val=\"E7E6E6\"/></a:lt2><a:accent1><a:srgbClr val=\"4472C4\"/></a:accent1><a:accent2><a:srgbClr val=\"ED7D31\"/></a:accent2><a:accent3><a:srgbClr val=\"A5A5A5\"/></a:accent3><a:accent4><a:srgbClr val=\"FFC000\"/></a:accent4><a:accent5><a:srgbClr val=\"5B9BD5\"/></a:accent5><a:accent6><a:srgbClr val=\"70AD47\"/></a:accent6><a:hlink><a:srgbClr val=\"0563C1\"/></a:hlink><a:folHlink><a:srgbClr val=\"954F72\"/></a:folHlink></a:clrScheme><a:fontScheme name=\"Office\"><a:majorFont>${majorFont}<a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\" Light\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\" Light\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Times New Roman\"/><a:font script=\"Hebr\" typeface=\"Times New Roman\"/><a:font script=\"Thai\" typeface=\"Angsana New\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"MoolBoran\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Times New Roman\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/><a:font script=\"Armn\" typeface=\"Arial\"/><a:font script=\"Bugi\" typeface=\"Leelawadee UI\"/><a:font script=\"Bopo\" typeface=\"Microsoft JhengHei\"/><a:font script=\"Java\" typeface=\"Javanese Text\"/><a:font script=\"Lisu\" typeface=\"Segoe UI\"/><a:font script=\"Mymr\" typeface=\"Myanmar Text\"/><a:font script=\"Nkoo\" typeface=\"Ebrima\"/><a:font script=\"Olck\" typeface=\"Nirmala UI\"/><a:font script=\"Osma\" typeface=\"Ebrima\"/><a:font script=\"Phag\" typeface=\"Phagspa\"/><a:font script=\"Syrn\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Syrj\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Syre\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Sora\" typeface=\"Nirmala UI\"/><a:font script=\"Tale\" typeface=\"Microsoft Tai Le\"/><a:font script=\"Talu\" typeface=\"Microsoft New Tai Lue\"/><a:font script=\"Tfng\" typeface=\"Ebrima\"/></a:majorFont><a:minorFont>${minorFont}<a:ea typeface=\"\"/><a:cs typeface=\"\"/><a:font script=\"Jpan\" typeface=\"\"/><a:font script=\"Hang\" typeface=\" \"/><a:font script=\"Hans\" typeface=\"\"/><a:font script=\"Hant\" typeface=\"\"/><a:font script=\"Arab\" typeface=\"Arial\"/><a:font script=\"Hebr\" typeface=\"Arial\"/><a:font script=\"Thai\" typeface=\"Cordia New\"/><a:font script=\"Ethi\" typeface=\"Nyala\"/><a:font script=\"Beng\" typeface=\"Vrinda\"/><a:font script=\"Gujr\" typeface=\"Shruti\"/><a:font script=\"Khmr\" typeface=\"DaunPenh\"/><a:font script=\"Knda\" typeface=\"Tunga\"/><a:font script=\"Guru\" typeface=\"Raavi\"/><a:font script=\"Cans\" typeface=\"Euphemia\"/><a:font script=\"Cher\" typeface=\"Plantagenet Cherokee\"/><a:font script=\"Yiii\" typeface=\"Microsoft Yi Baiti\"/><a:font script=\"Tibt\" typeface=\"Microsoft Himalaya\"/><a:font script=\"Thaa\" typeface=\"MV Boli\"/><a:font script=\"Deva\" typeface=\"Mangal\"/><a:font script=\"Telu\" typeface=\"Gautami\"/><a:font script=\"Taml\" typeface=\"Latha\"/><a:font script=\"Syrc\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Orya\" typeface=\"Kalinga\"/><a:font script=\"Mlym\" typeface=\"Kartika\"/><a:font script=\"Laoo\" typeface=\"DokChampa\"/><a:font script=\"Sinh\" typeface=\"Iskoola Pota\"/><a:font script=\"Mong\" typeface=\"Mongolian Baiti\"/><a:font script=\"Viet\" typeface=\"Arial\"/><a:font script=\"Uigh\" typeface=\"Microsoft Uighur\"/><a:font script=\"Geor\" typeface=\"Sylfaen\"/><a:font script=\"Armn\" typeface=\"Arial\"/><a:font script=\"Bugi\" typeface=\"Leelawadee UI\"/><a:font script=\"Bopo\" typeface=\"Microsoft JhengHei\"/><a:font script=\"Java\" typeface=\"Javanese Text\"/><a:font script=\"Lisu\" typeface=\"Segoe UI\"/><a:font script=\"Mymr\" typeface=\"Myanmar Text\"/><a:font script=\"Nkoo\" typeface=\"Ebrima\"/><a:font script=\"Olck\" typeface=\"Nirmala UI\"/><a:font script=\"Osma\" typeface=\"Ebrima\"/><a:font script=\"Phag\" typeface=\"Phagspa\"/><a:font script=\"Syrn\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Syrj\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Syre\" typeface=\"Estrangelo Edessa\"/><a:font script=\"Sora\" typeface=\"Nirmala UI\"/><a:font script=\"Tale\" typeface=\"Microsoft Tai Le\"/><a:font script=\"Talu\" typeface=\"Microsoft New Tai Lue\"/><a:font script=\"Tfng\" typeface=\"Ebrima\"/></a:minorFont></a:fontScheme><a:fmtScheme name=\"Office\"><a:fillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"110000\"/><a:satMod val=\"105000\"/><a:tint val=\"67000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"103000\"/><a:tint val=\"73000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"105000\"/><a:satMod val=\"109000\"/><a:tint val=\"81000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:satMod val=\"103000\"/><a:lumMod val=\"102000\"/><a:tint val=\"94000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:satMod val=\"110000\"/><a:lumMod val=\"100000\"/><a:shade val=\"100000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:lumMod val=\"99000\"/><a:satMod val=\"120000\"/><a:shade val=\"78000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w=\"6350\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"12700\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln><a:ln w=\"19050\" cap=\"flat\" cmpd=\"sng\" algn=\"ctr\"><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:prstDash val=\"solid\"/><a:miter lim=\"800000\"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad=\"57150\" dist=\"19050\" dir=\"5400000\" algn=\"ctr\" rotWithShape=\"0\"><a:srgbClr val=\"000000\"><a:alpha val=\"63000\"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val=\"phClr\"/></a:solidFill><a:solidFill><a:schemeClr val=\"phClr\"><a:tint val=\"95000\"/><a:satMod val=\"170000\"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape=\"1\"><a:gsLst><a:gs pos=\"0\"><a:schemeClr val=\"phClr\"><a:tint val=\"93000\"/><a:satMod val=\"150000\"/><a:shade val=\"98000\"/><a:lumMod val=\"102000\"/></a:schemeClr></a:gs><a:gs pos=\"50000\"><a:schemeClr val=\"phClr\"><a:tint val=\"98000\"/><a:satMod val=\"130000\"/><a:shade val=\"90000\"/><a:lumMod val=\"103000\"/></a:schemeClr></a:gs><a:gs pos=\"100000\"><a:schemeClr val=\"phClr\"><a:shade val=\"63000\"/><a:satMod val=\"120000\"/></a:schemeClr></a:gs></a:gsLst><a:lin ang=\"5400000\" scaled=\"0\"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri=\"{05A4C25C-085E-4340-85A3-A5531E510DB2}\"><thm15:themeFamily xmlns:thm15=\"http://schemas.microsoft.com/office/thememl/2012/main\" name=\"Office Theme\" id=\"{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}\" vid=\"{4A3C46E8-61CC-4603-A589-7422A47A8E4A}\"/></a:ext></a:extLst></a:theme>`;\n}\n/**\n * Create presentation file (`ppt/presentation.xml`)\n * @see https://docs.microsoft.com/en-us/office/open-xml/structure-of-a-presentationml-document\n * @see http://www.datypic.com/sc/ooxml/t-p_CT_Presentation.html\n * @param {IPresentationProps} pres - presentation\n * @return {string} XML\n */\nfunction makeXmlPresentation(pres) {\n    let strXml = `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}` +\n        '<p:presentation xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" ' +\n        `xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\" ${pres.rtlMode ? 'rtl=\"1\"' : ''} saveSubsetFonts=\"1\" autoCompressPictures=\"0\">`;\n    // STEP 1: Add slide master (SPEC: tag 1 under <presentation>)\n    strXml += '<p:sldMasterIdLst><p:sldMasterId id=\"2147483648\" r:id=\"rId1\"/></p:sldMasterIdLst>';\n    // STEP 2: Add all Slides (SPEC: tag 3 under <presentation>)\n    strXml += '<p:sldIdLst>';\n    pres.slides.forEach(slide => (strXml += `<p:sldId id=\"${slide._slideId}\" r:id=\"rId${slide._rId}\"/>`));\n    strXml += '</p:sldIdLst>';\n    // STEP 3: Add Notes Master (SPEC: tag 2 under <presentation>)\n    // (NOTE: length+2 is from `presentation.xml.rels` func (since we have to match this rId, we just use same logic))\n    // IMPORTANT: In this order (matches PPT2019) PPT will give corruption message on open!\n    // IMPORTANT: Placing this before `<p:sldIdLst>` causes warning in modern powerpoint!\n    // IMPORTANT: Presentations open without warning Without this line, however, the pres isnt preview in Finder anymore or viewable in iOS!\n    strXml += `<p:notesMasterIdLst><p:notesMasterId r:id=\"rId${pres.slides.length + 2}\"/></p:notesMasterIdLst>`;\n    // STEP 4: Add sizes\n    strXml += `<p:sldSz cx=\"${pres.presLayout.width}\" cy=\"${pres.presLayout.height}\"/>`;\n    strXml += `<p:notesSz cx=\"${pres.presLayout.height}\" cy=\"${pres.presLayout.width}\"/>`;\n    // STEP 5: Add text styles\n    strXml += '<p:defaultTextStyle>';\n    for (let idy = 1; idy < 10; idy++) {\n        strXml +=\n            `<a:lvl${idy}pPr marL=\"${(idy - 1) * 457200}\" algn=\"l\" defTabSz=\"914400\" rtl=\"0\" eaLnBrk=\"1\" latinLnBrk=\"0\" hangingPunct=\"1\">` +\n                '<a:defRPr sz=\"1800\" kern=\"1200\"><a:solidFill><a:schemeClr val=\"tx1\"/></a:solidFill><a:latin typeface=\"+mn-lt\"/><a:ea typeface=\"+mn-ea\"/><a:cs typeface=\"+mn-cs\"/>' +\n                `</a:defRPr></a:lvl${idy}pPr>`;\n    }\n    strXml += '</p:defaultTextStyle>';\n    // STEP 6: Add Sections (if any)\n    if (pres.sections && pres.sections.length > 0) {\n        strXml += '<p:extLst><p:ext uri=\"{521415D9-36F7-43E2-AB2F-B90AF26B5E84}\">';\n        strXml += '<p14:sectionLst xmlns:p14=\"http://schemas.microsoft.com/office/powerpoint/2010/main\">';\n        pres.sections.forEach(sect => {\n            strXml += `<p14:section name=\"${encodeXmlEntities(sect.title)}\" id=\"{${getUuid('xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx')}}\"><p14:sldIdLst>`;\n            sect._slides.forEach(slide => (strXml += `<p14:sldId id=\"${slide._slideId}\"/>`));\n            strXml += '</p14:sldIdLst></p14:section>';\n        });\n        strXml += '</p14:sectionLst></p:ext>';\n        strXml += '<p:ext uri=\"{EFAFB233-063F-42B5-8137-9DF3F51BA10A}\"><p15:sldGuideLst xmlns:p15=\"http://schemas.microsoft.com/office/powerpoint/2012/main\"/></p:ext>';\n        strXml += '</p:extLst>';\n    }\n    // Done\n    strXml += '</p:presentation>';\n    return strXml;\n}\n/**\n * Create `ppt/presProps.xml`\n * @return {string} XML\n */\nfunction makeXmlPresProps() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<p:presentationPr xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\"/>`;\n}\n/**\n * Create `ppt/tableStyles.xml`\n * @see: http://openxmldeveloper.org/discussions/formats/f/13/p/2398/8107.aspx\n * @return {string} XML\n */\nfunction makeXmlTableStyles() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<a:tblStyleLst xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" def=\"{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}\"/>`;\n}\n/**\n * Creates `ppt/viewProps.xml`\n * @return {string} XML\n */\nfunction makeXmlViewProps() {\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>${CRLF}<p:viewPr xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:p=\"http://schemas.openxmlformats.org/presentationml/2006/main\"><p:normalViewPr horzBarState=\"maximized\"><p:restoredLeft sz=\"15611\"/><p:restoredTop sz=\"94610\"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid=\"0\" snapToObjects=\"1\"><p:cViewPr varScale=\"1\"><p:scale><a:sx n=\"136\" d=\"100\"/><a:sy n=\"136\" d=\"100\"/></p:scale><p:origin x=\"216\" y=\"312\"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n=\"1\" d=\"1\"/><a:sy n=\"1\" d=\"1\"/></p:scale><p:origin x=\"0\" y=\"0\"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx=\"76200\" cy=\"76200\"/></p:viewPr>`;\n}\n\n/**\n *  :: pptxgen.ts ::\n *\n *  JavaScript framework that creates PowerPoint (pptx) presentations\n *  https://github.com/gitbrent/PptxGenJS\n *\n *  This framework is released under the MIT Public License (MIT)\n *\n *  PptxGenJS (C) 2015-present Brent Ely -- https://github.com/gitbrent\n *\n *  Some code derived from the OfficeGen project:\n *  github.com/Ziv-Barber/officegen/ (Copyright 2013 Ziv Barber)\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"Software\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in all\n *  copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *  SOFTWARE.\n */\nconst VERSION = '4.0.1';\nclass PptxGenJS {\n    set layout(value) {\n        const newLayout = this.LAYOUTS[value];\n        if (newLayout) {\n            this._layout = value;\n            this._presLayout = newLayout;\n        }\n        else {\n            throw new Error('UNKNOWN-LAYOUT');\n        }\n    }\n    get layout() {\n        return this._layout;\n    }\n    get version() {\n        return this._version;\n    }\n    set author(value) {\n        this._author = value;\n    }\n    get author() {\n        return this._author;\n    }\n    set company(value) {\n        this._company = value;\n    }\n    get company() {\n        return this._company;\n    }\n    set revision(value) {\n        this._revision = value;\n    }\n    get revision() {\n        return this._revision;\n    }\n    set subject(value) {\n        this._subject = value;\n    }\n    get subject() {\n        return this._subject;\n    }\n    set theme(value) {\n        this._theme = value;\n    }\n    get theme() {\n        return this._theme;\n    }\n    set title(value) {\n        this._title = value;\n    }\n    get title() {\n        return this._title;\n    }\n    set rtlMode(value) {\n        this._rtlMode = value;\n    }\n    get rtlMode() {\n        return this._rtlMode;\n    }\n    get masterSlide() {\n        return this._masterSlide;\n    }\n    get slides() {\n        return this._slides;\n    }\n    get sections() {\n        return this._sections;\n    }\n    get slideLayouts() {\n        return this._slideLayouts;\n    }\n    get AlignH() {\n        return this._alignH;\n    }\n    get AlignV() {\n        return this._alignV;\n    }\n    get ChartType() {\n        return this._chartType;\n    }\n    get OutputType() {\n        return this._outputType;\n    }\n    get presLayout() {\n        return this._presLayout;\n    }\n    get SchemeColor() {\n        return this._schemeColor;\n    }\n    get ShapeType() {\n        return this._shapeType;\n    }\n    get charts() {\n        return this._charts;\n    }\n    get colors() {\n        return this._colors;\n    }\n    get shapes() {\n        return this._shapes;\n    }\n    constructor() {\n        /**\n         * PptxGenJS Library Version\n         */\n        this._version = VERSION;\n        // Exposed class props\n        this._alignH = AlignH;\n        this._alignV = AlignV;\n        this._chartType = ChartType;\n        this._outputType = OutputType;\n        this._schemeColor = SchemeColor;\n        this._shapeType = ShapeType;\n        /**\n         * @depricated use `ChartType`\n         */\n        this._charts = CHART_TYPE;\n        /**\n         * @depricated use `SchemeColor`\n         */\n        this._colors = SCHEME_COLOR_NAMES;\n        /**\n         * @depricated use `ShapeType`\n         */\n        this._shapes = SHAPE_TYPE;\n        /**\n         * Provides an API for `addTableDefinition` to create slides as needed for auto-paging\n         * @param {AddSlideProps} options - slide masterName and/or sectionTitle\n         * @return {PresSlide} new Slide\n         */\n        this.addNewSlide = (options) => {\n            // Continue using sections if the first slide using auto-paging has a Section\n            const sectAlreadyInUse = this.sections.length > 0 &&\n                this.sections[this.sections.length - 1]._slides.filter(slide => slide._slideNum === this.slides[this.slides.length - 1]._slideNum).length > 0;\n            options.sectionTitle = sectAlreadyInUse ? this.sections[this.sections.length - 1].title : null;\n            return this.addSlide(options);\n        };\n        /**\n         * Provides an API for `addTableDefinition` to get slide reference by number\n         * @param {number} slideNum - slide number\n         * @return {PresSlide} Slide\n         * @since 3.0.0\n         */\n        this.getSlide = (slideNum) => this.slides.filter(slide => slide._slideNum === slideNum)[0];\n        /**\n         * Enables the `Slide` class to set PptxGenJS [Presentation] master/layout slidenumbers\n         * @param {SlideNumberProps} slideNum - slide number config\n         */\n        this.setSlideNumber = (slideNum) => {\n            // 1: Add slideNumber to slideMaster1.xml\n            this.masterSlide._slideNumberProps = slideNum;\n            // 2: Add slideNumber to DEF_PRES_LAYOUT_NAME layout\n            this.slideLayouts.filter(layout => layout._name === DEF_PRES_LAYOUT_NAME)[0]._slideNumberProps = slideNum;\n        };\n        /**\n         * Create all chart and media rels for this Presentation\n         * @param {PresSlide | SlideLayout} slide - slide with rels\n         * @param {JSZip} zip - JSZip instance\n         * @param {Promise<string>[]} chartPromises - promise array\n         */\n        this.createChartMediaRels = (slide, zip, chartPromises) => {\n            slide._relsChart.forEach(rel => chartPromises.push(createExcelWorksheet(rel, zip)));\n            slide._relsMedia.forEach(rel => {\n                if (rel.type !== 'online' && rel.type !== 'hyperlink') {\n                    // A: Loop vars\n                    let data = rel.data && typeof rel.data === 'string' ? rel.data : '';\n                    // B: Users will undoubtedly pass various string formats, so correct prefixes as needed\n                    if (!data.includes(',') && !data.includes(';'))\n                        data = 'image/png;base64,' + data;\n                    else if (!data.includes(','))\n                        data = 'image/png;base64,' + data;\n                    else if (!data.includes(';'))\n                        data = 'image/png;' + data;\n                    // C: Add media\n                    zip.file(rel.Target.replace('..', 'ppt'), data.split(',').pop(), { base64: true });\n                }\n            });\n        };\n        /**\n         * Create and export the .pptx file\n         * @param {string} exportName - output file type\n         * @param {Blob} blobContent - Blob content\n         * @return {Promise<string>} Promise with file name\n         */\n        this.writeFileToBrowser = (exportName, blobContent) => __awaiter(this, void 0, void 0, function* () {\n            // STEP 1: Create element\n            const eleLink = document.createElement('a');\n            eleLink.setAttribute('style', 'display:none;');\n            eleLink.dataset.interception = 'off'; // @see https://docs.microsoft.com/en-us/sharepoint/dev/spfx/hyperlinking\n            document.body.appendChild(eleLink);\n            // STEP 2: Download file to browser\n            // DESIGN: Use `createObjectURL()` to D/L files in client browsers (FYI: synchronously executed)\n            if (window.URL.createObjectURL) {\n                const url = window.URL.createObjectURL(new Blob([blobContent], { type: 'application/vnd.openxmlformats-officedocument.presentationml.presentation' }));\n                eleLink.href = url;\n                eleLink.download = exportName;\n                eleLink.click();\n                // Clean-up (NOTE: Add a slight delay before removing to avoid 'blob:null' error in Firefox Issue#81)\n                setTimeout(() => {\n                    window.URL.revokeObjectURL(url);\n                    document.body.removeChild(eleLink);\n                }, 100);\n                // Done\n                return yield Promise.resolve(exportName);\n            }\n        });\n        /**\n         * Create and export the .pptx file\n         * @param {WRITE_OUTPUT_TYPE} outputType - output file type\n         * @return {Promise<string | ArrayBuffer | Blob | Buffer | Uint8Array>} Promise with data or stream (node) or filename (browser)\n         */\n        this.exportPresentation = (props) => __awaiter(this, void 0, void 0, function* () {\n            const arrChartPromises = [];\n            let arrMediaPromises = [];\n            const zip = new JSZip();\n            // STEP 1: Read/Encode all Media before zip as base64 content, etc. is required\n            this.slides.forEach(slide => {\n                arrMediaPromises = arrMediaPromises.concat(encodeSlideMediaRels(slide));\n            });\n            this.slideLayouts.forEach(layout => {\n                arrMediaPromises = arrMediaPromises.concat(encodeSlideMediaRels(layout));\n            });\n            arrMediaPromises = arrMediaPromises.concat(encodeSlideMediaRels(this.masterSlide));\n            // STEP 2: Wait for Promises (if any) then generate the PPTX file\n            return yield Promise.all(arrMediaPromises).then(() => __awaiter(this, void 0, void 0, function* () {\n                // A: Add empty placeholder objects to slides that don't already have them\n                this.slides.forEach(slide => {\n                    if (slide._slideLayout)\n                        addPlaceholdersToSlideLayouts(slide);\n                });\n                // B: Add all required folders and files\n                zip.folder('_rels');\n                zip.folder('docProps');\n                zip.folder('ppt').folder('_rels');\n                zip.folder('ppt/charts').folder('_rels');\n                zip.folder('ppt/embeddings');\n                zip.folder('ppt/media');\n                zip.folder('ppt/slideLayouts').folder('_rels');\n                zip.folder('ppt/slideMasters').folder('_rels');\n                zip.folder('ppt/slides').folder('_rels');\n                zip.folder('ppt/theme');\n                zip.folder('ppt/notesMasters').folder('_rels');\n                zip.folder('ppt/notesSlides').folder('_rels');\n                zip.file('[Content_Types].xml', makeXmlContTypes(this.slides, this.slideLayouts, this.masterSlide)); // TODO: pass only `this` like below! 20200206\n                zip.file('_rels/.rels', makeXmlRootRels());\n                zip.file('docProps/app.xml', makeXmlApp(this.slides, this.company)); // TODO: pass only `this` like below! 20200206\n                zip.file('docProps/core.xml', makeXmlCore(this.title, this.subject, this.author, this.revision)); // TODO: pass only `this` like below! 20200206\n                zip.file('ppt/_rels/presentation.xml.rels', makeXmlPresentationRels(this.slides));\n                zip.file('ppt/theme/theme1.xml', makeXmlTheme(this));\n                zip.file('ppt/presentation.xml', makeXmlPresentation(this));\n                zip.file('ppt/presProps.xml', makeXmlPresProps());\n                zip.file('ppt/tableStyles.xml', makeXmlTableStyles());\n                zip.file('ppt/viewProps.xml', makeXmlViewProps());\n                // C: Create a Layout/Master/Rel/Slide file for each SlideLayout and Slide\n                this.slideLayouts.forEach((layout, idx) => {\n                    zip.file(`ppt/slideLayouts/slideLayout${idx + 1}.xml`, makeXmlLayout(layout));\n                    zip.file(`ppt/slideLayouts/_rels/slideLayout${idx + 1}.xml.rels`, makeXmlSlideLayoutRel(idx + 1, this.slideLayouts));\n                });\n                this.slides.forEach((slide, idx) => {\n                    zip.file(`ppt/slides/slide${idx + 1}.xml`, makeXmlSlide(slide));\n                    zip.file(`ppt/slides/_rels/slide${idx + 1}.xml.rels`, makeXmlSlideRel(this.slides, this.slideLayouts, idx + 1));\n                    // Create all slide notes related items. Notes of empty strings are created for slides which do not have notes specified, to keep track of _rels.\n                    zip.file(`ppt/notesSlides/notesSlide${idx + 1}.xml`, makeXmlNotesSlide(slide));\n                    zip.file(`ppt/notesSlides/_rels/notesSlide${idx + 1}.xml.rels`, makeXmlNotesSlideRel(idx + 1));\n                });\n                zip.file('ppt/slideMasters/slideMaster1.xml', makeXmlMaster(this.masterSlide, this.slideLayouts));\n                zip.file('ppt/slideMasters/_rels/slideMaster1.xml.rels', makeXmlMasterRel(this.masterSlide, this.slideLayouts));\n                zip.file('ppt/notesMasters/notesMaster1.xml', makeXmlNotesMaster());\n                zip.file('ppt/notesMasters/_rels/notesMaster1.xml.rels', makeXmlNotesMasterRel());\n                // D: Create all Rels (images, media, chart data)\n                this.slideLayouts.forEach(layout => {\n                    this.createChartMediaRels(layout, zip, arrChartPromises);\n                });\n                this.slides.forEach(slide => {\n                    this.createChartMediaRels(slide, zip, arrChartPromises);\n                });\n                this.createChartMediaRels(this.masterSlide, zip, arrChartPromises);\n                // E: Wait for Promises (if any) then generate the PPTX file\n                return yield Promise.all(arrChartPromises).then(() => __awaiter(this, void 0, void 0, function* () {\n                    if (props.outputType === 'STREAM') {\n                        // A: stream file\n                        return yield zip.generateAsync({ type: 'nodebuffer', compression: props.compression ? 'DEFLATE' : 'STORE' });\n                    }\n                    else if (props.outputType) {\n                        // B: Node [fs]: Output type user option or default\n                        return yield zip.generateAsync({ type: props.outputType });\n                    }\n                    else {\n                        // C: Browser: Output blob as app/ms-pptx\n                        return yield zip.generateAsync({ type: 'blob', compression: props.compression ? 'DEFLATE' : 'STORE' });\n                    }\n                }));\n            }));\n        });\n        const layout4x3 = { name: 'screen4x3', width: 9144000, height: 6858000 };\n        const layout16x9 = { name: 'screen16x9', width: 9144000, height: 5143500 };\n        const layout16x10 = { name: 'screen16x10', width: 9144000, height: 5715000 };\n        const layoutWide = { name: 'custom', width: 12192000, height: 6858000 };\n        // Set available layouts\n        this.LAYOUTS = {\n            LAYOUT_4x3: layout4x3,\n            LAYOUT_16x9: layout16x9,\n            LAYOUT_16x10: layout16x10,\n            LAYOUT_WIDE: layoutWide,\n        };\n        // Core\n        this._author = 'PptxGenJS';\n        this._company = 'PptxGenJS';\n        this._revision = '1'; // Note: Must be a whole number\n        this._subject = 'PptxGenJS Presentation';\n        this._title = 'PptxGenJS Presentation';\n        // PptxGenJS props\n        this._presLayout = {\n            name: this.LAYOUTS[DEF_PRES_LAYOUT].name,\n            _sizeW: this.LAYOUTS[DEF_PRES_LAYOUT].width,\n            _sizeH: this.LAYOUTS[DEF_PRES_LAYOUT].height,\n            width: this.LAYOUTS[DEF_PRES_LAYOUT].width,\n            height: this.LAYOUTS[DEF_PRES_LAYOUT].height,\n        };\n        this._rtlMode = false;\n        //\n        this._slideLayouts = [\n            {\n                _margin: DEF_SLIDE_MARGIN_IN,\n                _name: DEF_PRES_LAYOUT_NAME,\n                _presLayout: this._presLayout,\n                _rels: [],\n                _relsChart: [],\n                _relsMedia: [],\n                _slide: null,\n                _slideNum: 1000,\n                _slideNumberProps: null,\n                _slideObjects: [],\n            },\n        ];\n        this._slides = [];\n        this._sections = [];\n        this._masterSlide = {\n            addChart: null,\n            addImage: null,\n            addMedia: null,\n            addNotes: null,\n            addShape: null,\n            addTable: null,\n            addText: null,\n            //\n            _name: null,\n            _presLayout: this._presLayout,\n            _rId: null,\n            _rels: [],\n            _relsChart: [],\n            _relsMedia: [],\n            _slideId: null,\n            _slideLayout: null,\n            _slideNum: null,\n            _slideNumberProps: null,\n            _slideObjects: [],\n        };\n    }\n    // EXPORT METHODS\n    /**\n     * Export the current Presentation to stream\n     * @param {WriteBaseProps} props - output properties\n     * @returns {Promise<string | ArrayBuffer | Blob | Buffer | Uint8Array>} file stream\n     */\n    stream(props) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.exportPresentation({\n                compression: props === null || props === void 0 ? void 0 : props.compression,\n                outputType: 'STREAM',\n            });\n        });\n    }\n    /**\n     * Export the current Presentation as JSZip content with the selected type\n     * @param {WriteProps} props output properties\n     * @returns {Promise<string | ArrayBuffer | Blob | Buffer | Uint8Array>} file content in selected type\n     */\n    write(props) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // DEPRECATED: @deprecated v3.5.0 - outputType - [[remove in v4.0.0]]\n            const propsOutpType = typeof props === 'object' && (props === null || props === void 0 ? void 0 : props.outputType) ? props.outputType : props ? props : null;\n            const propsCompress = typeof props === 'object' && (props === null || props === void 0 ? void 0 : props.compression) ? props.compression : false;\n            return yield this.exportPresentation({\n                compression: propsCompress,\n                outputType: propsOutpType,\n            });\n        });\n    }\n    /**\n     * Export the current Presentation.\n     * Write the generated presentation to disk (Node) or trigger a download (browser).\n     * @param {WriteFileProps} props - output file properties\n     * @returns {Promise<string>} the presentation name\n     */\n    writeFile(props) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            // STEP 1: Figure out where we are running\n            const isNode = typeof process !== 'undefined' && !!((_a = process.versions) === null || _a === void 0 ? void 0 : _a.node) && ((_b = process.release) === null || _b === void 0 ? void 0 : _b.name) === 'node';\n            // STEP 2: Normalise the user arguments\n            if (typeof props === 'string') {\n                // DEPRECATED: @deprecated v3.5.0 - fileName - [[remove in v4.0.0]]\n                console.warn('[WARNING] writeFile(string) is deprecated - pass { fileName } instead.');\n                props = { fileName: props };\n            }\n            const { fileName: rawName = 'Presentation.pptx', compression = false } = props;\n            const fileName = rawName.toLowerCase().endsWith('.pptx') ? rawName : `${rawName}.pptx`;\n            // STEP 3: Get the binary/Blob from exportPresentation()\n            const outputType = isNode ? 'nodebuffer' : null;\n            const data = yield this.exportPresentation({ compression, outputType });\n            // STEP 4: Write the file out\n            if (isNode) {\n                // Dynamically import to avoid bundling fs in the browser build\n                const { promises: fs } = yield import('node:fs');\n                const { writeFile } = fs;\n                yield writeFile(fileName, data);\n                return fileName;\n            }\n            // Browser branch - push a download\n            yield this.writeFileToBrowser(fileName, data);\n            return fileName;\n        });\n    }\n    // PRESENTATION METHODS\n    /**\n     * Add a new Section to Presentation\n     * @param {ISectionProps} section - section properties\n     * @example pptx.addSection({ title:'Charts' });\n     */\n    addSection(section) {\n        if (!section)\n            console.warn('addSection requires an argument');\n        else if (!section.title)\n            console.warn('addSection requires a title');\n        const newSection = {\n            _type: 'user',\n            _slides: [],\n            title: section.title,\n        };\n        if (section.order)\n            this.sections.splice(section.order, 0, newSection);\n        else\n            this._sections.push(newSection);\n    }\n    /**\n     * Add a new Slide to Presentation\n     * @param {AddSlideProps} options - slide options\n     * @returns {PresSlide} the new Slide\n     */\n    addSlide(options) {\n        // TODO: DEPRECATED: arg0 string \"masterSlideName\" dep as of 3.2.0\n        const masterSlideName = typeof options === 'string' ? options : (options === null || options === void 0 ? void 0 : options.masterName) ? options.masterName : '';\n        let slideLayout = {\n            _name: this.LAYOUTS[DEF_PRES_LAYOUT].name,\n            _presLayout: this.presLayout,\n            _rels: [],\n            _relsChart: [],\n            _relsMedia: [],\n            _slideNum: this.slides.length + 1,\n        };\n        if (masterSlideName) {\n            const tmpLayout = this.slideLayouts.filter(layout => layout._name === masterSlideName)[0];\n            if (tmpLayout)\n                slideLayout = tmpLayout;\n        }\n        const newSlide = new Slide({\n            addSlide: this.addNewSlide,\n            getSlide: this.getSlide,\n            presLayout: this.presLayout,\n            setSlideNum: this.setSlideNumber,\n            slideId: this.slides.length + 256,\n            slideRId: this.slides.length + 2,\n            slideNumber: this.slides.length + 1,\n            slideLayout,\n        });\n        // A: Add slide to pres\n        this._slides.push(newSlide);\n        // B: Sections\n        // B-1: Add slide to section (if any provided)\n        // B-2: Handle slides without a section when sections are already is use (\"loose\" slides arent allowed, they all need a section)\n        if (options === null || options === void 0 ? void 0 : options.sectionTitle) {\n            const sect = this.sections.filter(section => section.title === options.sectionTitle)[0];\n            if (!sect)\n                console.warn(`addSlide: unable to find section with title: \"${options.sectionTitle}\"`);\n            else\n                sect._slides.push(newSlide);\n        }\n        else if (this.sections && this.sections.length > 0 && (!(options === null || options === void 0 ? void 0 : options.sectionTitle))) {\n            const lastSect = this._sections[this.sections.length - 1];\n            // CASE 1: The latest section is a default type - just add this one\n            if (lastSect._type === 'default')\n                lastSect._slides.push(newSlide);\n            // CASE 2: There latest section is NOT a default type - create the defualt, add this slide\n            else {\n                this._sections.push({\n                    title: `Default-${this.sections.filter(sect => sect._type === 'default').length + 1}`,\n                    _type: 'default',\n                    _slides: [newSlide],\n                });\n            }\n        }\n        return newSlide;\n    }\n    /**\n     * Create a custom Slide Layout in any size\n     * @param {PresLayout} layout - layout properties\n     * @example pptx.defineLayout({ name:'A3', width:16.5, height:11.7 });\n     */\n    defineLayout(layout) {\n        // @see https://support.office.com/en-us/article/Change-the-size-of-your-slides-040a811c-be43-40b9-8d04-0de5ed79987e\n        if (!layout)\n            console.warn('defineLayout requires `{name, width, height}`');\n        else if (!layout.name)\n            console.warn('defineLayout requires `name`');\n        else if (!layout.width)\n            console.warn('defineLayout requires `width`');\n        else if (!layout.height)\n            console.warn('defineLayout requires `height`');\n        else if (typeof layout.height !== 'number')\n            console.warn('defineLayout `height` should be a number (inches)');\n        else if (typeof layout.width !== 'number')\n            console.warn('defineLayout `width` should be a number (inches)');\n        this.LAYOUTS[layout.name] = {\n            name: layout.name,\n            _sizeW: Math.round(Number(layout.width) * EMU),\n            _sizeH: Math.round(Number(layout.height) * EMU),\n            width: Math.round(Number(layout.width) * EMU),\n            height: Math.round(Number(layout.height) * EMU),\n        };\n    }\n    /**\n     * Create a new slide master [layout] for the Presentation\n     * @param {SlideMasterProps} props - layout properties\n     */\n    defineSlideMaster(props) {\n        // (ISSUE#406;PULL#1176) deep clone the props object to avoid mutating the original object\n        const propsClone = JSON.parse(JSON.stringify(props));\n        if (!propsClone.title)\n            throw new Error('defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)');\n        const newLayout = {\n            _margin: propsClone.margin || DEF_SLIDE_MARGIN_IN,\n            _name: propsClone.title,\n            _presLayout: this.presLayout,\n            _rels: [],\n            _relsChart: [],\n            _relsMedia: [],\n            _slide: null,\n            _slideNum: 1000 + this.slideLayouts.length + 1,\n            _slideNumberProps: propsClone.slideNumber || null,\n            _slideObjects: [],\n            background: propsClone.background || null,\n            bkgd: propsClone.bkgd || null,\n        };\n        // STEP 1: Create the Slide Master/Layout\n        createSlideMaster(propsClone, newLayout);\n        // STEP 2: Add it to layout defs\n        this.slideLayouts.push(newLayout);\n        // STEP 3: Add background (image data/path must be captured before `exportPresentation()` is called)\n        if (propsClone.background || propsClone.bkgd)\n            addBackgroundDefinition(propsClone.background, newLayout);\n        // STEP 4: Add slideNumber to master slide (if any)\n        if (newLayout._slideNumberProps && !this.masterSlide._slideNumberProps)\n            this.masterSlide._slideNumberProps = newLayout._slideNumberProps;\n    }\n    // HTML-TO-SLIDES METHODS\n    /**\n     * Reproduces an HTML table as a PowerPoint table - including column widths, style, etc. - creates 1 or more slides as needed\n     * @param {string} eleId - table HTML element ID\n     * @param {TableToSlidesProps} options - generation options\n     */\n    tableToSlides(eleId, options = {}) {\n        // @note `verbose` option is undocumented; used for verbose output of layout process\n        genTableToSlides(this, eleId, options, (options === null || options === void 0 ? void 0 : options.masterSlideName) ? this.slideLayouts.filter(layout => layout._name === options.masterSlideName)[0] : null);\n    }\n}\n\nexport { PptxGenJS as default };\n","/**\n * PPTX Exporter\n * Export presentations to PowerPoint format using pptxgenjs\n */\n\nimport PptxGenJS from 'pptxgenjs'\nimport {\n  Presentation,\n  Slide,\n  SlideElement,\n  TextElement,\n  ShapeElement,\n  ImageElement,\n  ShapeType,\n} from '@/types'\n\nexport interface ExportResult {\n  success: boolean\n  blob?: Blob\n  error?: string\n}\n\nexport interface ExportProgress {\n  stage: 'preparing' | 'slides' | 'finalizing' | 'complete'\n  current: number\n  total: number\n  message: string\n}\n\n/**\n * Export a presentation to PPTX format\n */\nexport async function exportPptx(\n  presentation: Presentation,\n  onProgress?: (progress: ExportProgress) => void\n): Promise<ExportResult> {\n  try {\n    onProgress?.({\n      stage: 'preparing',\n      current: 0,\n      total: 100,\n      message: 'Preparing export...',\n    })\n\n    // Create new presentation\n    const pptx = new PptxGenJS()\n\n    // Set presentation properties\n    pptx.author = presentation.metadata.author || ''\n    pptx.title = presentation.metadata.title || presentation.name\n    pptx.subject = presentation.metadata.subject || ''\n    pptx.company = presentation.metadata.company || ''\n\n    // Set slide size (16:9 ratio)\n    pptx.defineLayout({ name: 'CUSTOM', width: 10, height: 5.625 })\n    pptx.layout = 'CUSTOM'\n\n    // Set theme colors if available\n    if (presentation.theme?.colorScheme) {\n      // pptxgenjs doesn't have direct theme color support\n      // Colors are applied per-element\n    }\n\n    // Process each slide\n    const totalSlides = presentation.slides.length\n    for (let i = 0; i < totalSlides; i++) {\n      const slide = presentation.slides[i]\n\n      onProgress?.({\n        stage: 'slides',\n        current: Math.round((i / totalSlides) * 80) + 10,\n        total: 100,\n        message: `Processing slide ${i + 1} of ${totalSlides}...`,\n      })\n\n      await processSlide(pptx, slide)\n    }\n\n    onProgress?.({\n      stage: 'finalizing',\n      current: 90,\n      total: 100,\n      message: 'Generating file...',\n    })\n\n    // Generate the file\n    const blob = await pptx.write({ outputType: 'blob' }) as Blob\n\n    onProgress?.({\n      stage: 'complete',\n      current: 100,\n      total: 100,\n      message: 'Export complete!',\n    })\n\n    return {\n      success: true,\n      blob,\n    }\n  } catch (error) {\n    console.error('PPTX export error:', error)\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Failed to export presentation',\n    }\n  }\n}\n\n/**\n * Process a single slide\n */\nasync function processSlide(pptx: PptxGenJS, slide: Slide): Promise<void> {\n  const pptxSlide = pptx.addSlide()\n\n  // Set slide background\n  if (slide.background) {\n    if (slide.background.type === 'solid' && slide.background.color) {\n      pptxSlide.background = { color: slide.background.color.replace('#', '') }\n    } else if (slide.background.type === 'gradient' && slide.background.gradient) {\n      // pptxgenjs supports gradient backgrounds\n      const stops = slide.background.gradient.stops\n      if (stops.length >= 2) {\n        pptxSlide.background = {\n          color: stops[0].color.replace('#', ''),\n          // Note: pptxgenjs has limited gradient support\n        }\n      }\n    }\n  }\n\n  // Sort elements by zIndex\n  const sortedElements = [...slide.elements].sort((a, b) => a.zIndex - b.zIndex)\n\n  // Process each element\n  for (const element of sortedElements) {\n    await processElement(pptxSlide, element)\n  }\n}\n\n/**\n * Process a single element\n */\nasync function processElement(\n  pptxSlide: PptxGenJS.Slide,\n  element: SlideElement\n): Promise<void> {\n  switch (element.type) {\n    case 'text':\n      processTextElement(pptxSlide, element)\n      break\n    case 'shape':\n      processShapeElement(pptxSlide, element)\n      break\n    case 'image':\n      await processImageElement(pptxSlide, element)\n      break\n    // Tables and groups can be added later\n  }\n}\n\n/**\n * Process a text element\n */\nfunction processTextElement(pptxSlide: PptxGenJS.Slide, element: TextElement): void {\n  const { position, size, content, rotation } = element\n\n  // Convert position from pixels to inches (assuming 96 DPI)\n  // pptxgenjs uses inches, our canvas is 960x540 pixels = 10x5.625 inches\n  const x = (position.x / 960) * 10\n  const y = (position.y / 540) * 5.625\n  const w = (size.width / 960) * 10\n  const h = (size.height / 540) * 5.625\n\n  // Build text runs\n  const textRuns: PptxGenJS.TextProps[] = []\n\n  for (const paragraph of content.paragraphs) {\n    for (const run of paragraph.runs) {\n      const textProps: PptxGenJS.TextProps = {\n        text: run.text,\n        options: {\n          fontFace: run.style.fontFamily || 'Calibri',\n          fontSize: run.style.fontSize || 18,\n          color: run.style.color?.replace('#', '') || '000000',\n          bold: run.style.fontWeight === 'bold',\n          italic: run.style.fontStyle === 'italic',\n          underline: run.style.textDecoration === 'underline'\n            ? { style: 'sng' as const }\n            : undefined,\n          strike: run.style.textDecoration === 'line-through',\n          align: paragraph.alignment || 'left',\n        },\n      }\n      textRuns.push(textProps)\n    }\n    // Add line break between paragraphs\n    if (paragraph !== content.paragraphs[content.paragraphs.length - 1]) {\n      textRuns.push({ text: '\\n', options: {} })\n    }\n  }\n\n  // Add text box\n  if (textRuns.length > 0) {\n    pptxSlide.addText(textRuns, {\n      x,\n      y,\n      w,\n      h,\n      rotate: rotation || 0,\n      valign: element.style?.verticalAlign || 'top',\n      margin: element.style?.padding\n        ? [\n          element.style.padding.top / 10,\n          element.style.padding.right / 10,\n          element.style.padding.bottom / 10,\n          element.style.padding.left / 10,\n        ]\n        : undefined,\n    })\n  }\n}\n\n/**\n * Process a shape element\n */\nfunction processShapeElement(pptxSlide: PptxGenJS.Slide, element: ShapeElement): void {\n  const { position, size, shapeType, fill, stroke, rotation } = element\n\n  // Convert position from pixels to inches\n  const x = (position.x / 960) * 10\n  const y = (position.y / 540) * 5.625\n  const w = (size.width / 960) * 10\n  const h = (size.height / 540) * 5.625\n\n  // Map our shape types to pptxgenjs shape types\n  const pptxShapeType = mapShapeType(shapeType)\n\n  // Build shape options\n  const shapeOptions: PptxGenJS.ShapeProps = {\n    x,\n    y,\n    w,\n    h,\n    rotate: rotation || 0,\n  }\n\n  // Fill\n  if (fill) {\n    if (fill.type === 'none') {\n      shapeOptions.fill = { type: 'none' }\n    } else if (fill.type === 'solid' && fill.color) {\n      shapeOptions.fill = { color: fill.color.replace('#', '') }\n    }\n    // Gradient fills require more complex handling\n  }\n\n  // Stroke/Line\n  if (stroke) {\n    shapeOptions.line = {\n      color: stroke.color?.replace('#', '') || '000000',\n      width: stroke.width || 1,\n      dashType: stroke.style === 'dashed' ? 'dash' : stroke.style === 'dotted' ? 'sysDot' : 'solid',\n    }\n  }\n\n  // Add shape\n  if (shapeType === 'line') {\n    pptxSlide.addShape('line' as PptxGenJS.ShapeType, {\n      ...shapeOptions,\n      line: {\n        color: stroke?.color?.replace('#', '') || '000000',\n        width: stroke?.width || 1,\n      },\n    })\n  } else {\n    pptxSlide.addShape(pptxShapeType as PptxGenJS.ShapeType, shapeOptions)\n  }\n\n  // Add text to shape if present\n  if (element.text && element.text.paragraphs.length > 0) {\n    const textRuns: PptxGenJS.TextProps[] = []\n    for (const paragraph of element.text.paragraphs) {\n      for (const run of paragraph.runs) {\n        textRuns.push({\n          text: run.text,\n          options: {\n            fontFace: run.style.fontFamily || 'Calibri',\n            fontSize: run.style.fontSize || 18,\n            color: run.style.color?.replace('#', '') || '000000',\n            bold: run.style.fontWeight === 'bold',\n            italic: run.style.fontStyle === 'italic',\n          },\n        })\n      }\n    }\n\n    if (textRuns.length > 0) {\n      pptxSlide.addText(textRuns, {\n        x,\n        y,\n        w,\n        h,\n        rotate: rotation || 0,\n        valign: 'middle',\n        align: 'center',\n      })\n    }\n  }\n}\n\n/**\n * Process an image element\n */\nasync function processImageElement(\n  pptxSlide: PptxGenJS.Slide,\n  element: ImageElement\n): Promise<void> {\n  const { position, size, src, rotation } = element\n\n  // Convert position from pixels to inches\n  const x = (position.x / 960) * 10\n  const y = (position.y / 540) * 5.625\n  const w = (size.width / 960) * 10\n  const h = (size.height / 540) * 5.625\n\n  try {\n    // Handle different image source types\n    if (src.startsWith('data:')) {\n      // Base64 data URL\n      pptxSlide.addImage({\n        data: src,\n        x,\n        y,\n        w,\n        h,\n        rotate: rotation || 0,\n      })\n    } else if (src.startsWith('http://') || src.startsWith('https://')) {\n      // External URL - pptxgenjs can handle these\n      pptxSlide.addImage({\n        path: src,\n        x,\n        y,\n        w,\n        h,\n        rotate: rotation || 0,\n      })\n    }\n  } catch (error) {\n    console.warn('Failed to add image:', error)\n    // Add placeholder rectangle instead\n    pptxSlide.addShape('rect', {\n      x,\n      y,\n      w,\n      h,\n      fill: { color: 'CCCCCC' },\n    })\n  }\n}\n\n/**\n * Map our shape types to pptxgenjs shape types\n */\nfunction mapShapeType(shapeType: ShapeType): string {\n  const shapeMap: Record<ShapeType, string> = {\n    rectangle: 'rect',\n    roundedRectangle: 'roundRect',\n    ellipse: 'ellipse',\n    triangle: 'triangle',\n    rightTriangle: 'rtTriangle',\n    diamond: 'diamond',\n    pentagon: 'pentagon',\n    hexagon: 'hexagon',\n    octagon: 'octagon',\n    star5: 'star5',\n    star6: 'star6',\n    arrow: 'rightArrow',\n    arrowRight: 'rightArrow',\n    arrowLeft: 'leftArrow',\n    arrowUp: 'upArrow',\n    arrowDown: 'downArrow',\n    line: 'line',\n    plus: 'mathPlus',\n    minus: 'mathMinus',\n    cloud: 'cloud',\n    heart: 'heart',\n    callout: 'wedgeRectCallout',\n    lightning: 'lightningBolt',\n    custom: 'rect',\n  }\n\n  return shapeMap[shapeType] || 'rect'\n}\n\n/**\n * Download the exported PPTX file\n */\nexport function downloadPptx(blob: Blob, filename: string): void {\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = filename.endsWith('.pptx') ? filename : `${filename}.pptx`\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\n/**\n * Quick export and download\n */\nexport async function exportAndDownload(\n  presentation: Presentation,\n  onProgress?: (progress: ExportProgress) => void\n): Promise<ExportResult> {\n  const result = await exportPptx(presentation, onProgress)\n\n  if (result.success && result.blob) {\n    downloadPptx(result.blob, presentation.name)\n  }\n\n  return result\n}\n","import { TextContent, Paragraph, TextRun, TextStyle, TableCell, TableElement, TextElement, Fill, Stroke } from '@/types/slide'\nimport { DEFAULT_TEXT_STYLE, DEFAULT_TEXTBOX_STYLE } from '@/types/slide'\nimport { SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types/editor'\nimport { generateId } from '@/utils/id'\nimport type { SlideElement } from '@/types/slide'\n\n//  Public API \n\n/**\n * Parse an HTML string into the PPT TextContent model (paragraphs + styled runs).\n * Tables in the HTML are ignored  use htmlToSlideElements for full support.\n */\nexport function htmlToTextContent(html: string): TextContent {\n  if (typeof DOMParser === 'undefined') {\n    return plainTextToContent(html)\n  }\n\n  const doc = new DOMParser().parseFromString(html, 'text/html')\n  const body = doc.body\n  if (!body || !body.childNodes.length) {\n    return plainTextToContent(html)\n  }\n\n  const paragraphs = parseBlockChildren(body)\n\n  if (paragraphs.length === 0) {\n    const text = body.textContent || html\n    return plainTextToContent(text)\n  }\n\n  return { paragraphs }\n}\n\n/**\n * Parse an HTML string and return one or more SlideElements.\n * - Regular text / headings / lists  TextElement\n * - <table>  TableElement\n * Mixed HTML with tables and text produces multiple elements, stacked vertically.\n */\nexport function htmlToSlideElements(html: string): SlideElement[] {\n  if (typeof DOMParser === 'undefined') {\n    return [makeTextElement(plainTextToContent(html))]\n  }\n\n  const doc = new DOMParser().parseFromString(html, 'text/html')\n  const body = doc.body\n  if (!body || !body.childNodes.length) {\n    return [makeTextElement(plainTextToContent(html))]\n  }\n\n  const elements: SlideElement[] = []\n  let pendingParagraphs: Paragraph[] = []\n\n  // Flush accumulated paragraphs into a TextElement\n  const flushText = () => {\n    if (pendingParagraphs.length > 0) {\n      elements.push(makeTextElement({ paragraphs: pendingParagraphs }))\n      pendingParagraphs = []\n    }\n  }\n\n  for (let i = 0; i < body.childNodes.length; i++) {\n    const node = body.childNodes[i]\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent?.trim()\n      if (text) {\n        pendingParagraphs.push(createParagraph(\n          [{ text, style: { ...DEFAULT_TEXT_STYLE } }],\n          'left'\n        ))\n      }\n      continue\n    }\n\n    if (node.nodeType !== Node.ELEMENT_NODE) continue\n\n    const el = node as HTMLElement\n    const tag = el.tagName.toLowerCase()\n\n    if (tag === 'table') {\n      // Flush any pending text before the table\n      flushText()\n      const tableEl = parseTable(el)\n      if (tableEl) elements.push(tableEl)\n    } else {\n      // Accumulate paragraphs from non-table block elements\n      const paras = parseBlockElement(el)\n      pendingParagraphs.push(...paras)\n    }\n  }\n\n  flushText()\n\n  if (elements.length === 0) {\n    const text = body.textContent || html\n    return [makeTextElement(plainTextToContent(text))]\n  }\n\n  // Position elements vertically, stacked from center\n  const totalHeight = elements.reduce((h, el) => h + el.size.height, 0)\n  const gap = 20\n  const totalWithGaps = totalHeight + gap * (elements.length - 1)\n  let yOffset = Math.max(20, Math.round((SLIDE_HEIGHT - totalWithGaps) / 2))\n\n  for (const el of elements) {\n    el.position.y = yOffset\n    yOffset += el.size.height + gap\n  }\n\n  return elements\n}\n\n//  Block-level parsing \n\nfunction parseBlockChildren(parent: Node): Paragraph[] {\n  const paragraphs: Paragraph[] = []\n\n  for (let i = 0; i < parent.childNodes.length; i++) {\n    const node = parent.childNodes[i]\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      const text = node.textContent?.trim()\n      if (text) {\n        paragraphs.push(createParagraph(\n          [{ text, style: { ...DEFAULT_TEXT_STYLE } }],\n          'left'\n        ))\n      }\n      continue\n    }\n\n    if (node.nodeType !== Node.ELEMENT_NODE) continue\n\n    const el = node as HTMLElement\n    const tag = el.tagName.toLowerCase()\n\n    // Skip tables in text-only mode\n    if (tag === 'table') continue\n\n    paragraphs.push(...parseBlockElement(el))\n  }\n\n  return paragraphs\n}\n\nfunction parseBlockElement(el: HTMLElement): Paragraph[] {\n  const tag = el.tagName.toLowerCase()\n  const paragraphs: Paragraph[] = []\n\n  if (tag === 'ul' || tag === 'ol') {\n    const isOrdered = tag === 'ol'\n    const items = el.querySelectorAll(':scope > li')\n    items.forEach((li) => {\n      const runs = extractRuns(li)\n      if (runs.length > 0) {\n        paragraphs.push(createParagraph(runs, 'left', {\n          bulletType: isOrdered ? 'number' : 'bullet',\n          indentLevel: 0,\n        }))\n      }\n    })\n  } else if (/^h[1-6]$/.test(tag)) {\n    const level = parseInt(tag[1])\n    const fontSize = getHeadingFontSize(level)\n    const align = getAlignment(el)\n    const runs = extractRuns(el, { fontSize, fontWeight: 'bold' as const })\n    if (runs.length > 0) {\n      paragraphs.push(createParagraph(runs, align))\n    }\n  } else if (tag === 'br') {\n    paragraphs.push(createParagraph(\n      [{ text: '', style: { ...DEFAULT_TEXT_STYLE } }],\n      'left'\n    ))\n  } else {\n    // p, div, blockquote, span, etc.\n    const align = getAlignment(el)\n    const runs = extractRuns(el)\n    if (runs.length > 0) {\n      paragraphs.push(createParagraph(runs, align))\n    }\n  }\n\n  return paragraphs\n}\n\n//  Alignment helper \n\ntype ParagraphAlignment = 'left' | 'center' | 'right' | 'justify'\n\n/** Extract text alignment from an HTML element's style or align attribute */\nfunction getAlignment(el: HTMLElement): ParagraphAlignment {\n  // Check inline style first: style=\"text-align: center\"\n  const styleAlign = el.style?.textAlign\n  if (styleAlign) {\n    const normalized = styleAlign.toLowerCase().trim()\n    if (normalized === 'center' || normalized === 'right' || normalized === 'justify') {\n      return normalized\n    }\n    if (normalized === 'left' || normalized === 'start') return 'left'\n    if (normalized === 'end') return 'right'\n  }\n\n  // Check align attribute: align=\"center\"\n  const attrAlign = el.getAttribute('align')\n  if (attrAlign) {\n    const normalized = attrAlign.toLowerCase().trim()\n    if (normalized === 'center' || normalized === 'right' || normalized === 'justify') {\n      return normalized\n    }\n  }\n\n  return 'left'\n}\n\n//  Table parsing \n\nconst DEFAULT_CELL_BORDER: Stroke = { color: '#d1d5db', width: 1, style: 'solid' }\nconst HEADER_FILL: Fill = { type: 'solid', color: '#f1f5f9' }\nconst TABLE_CELL_STYLE: TextStyle = {\n  fontFamily: 'Calibri',\n  fontSize: 14,\n  fontWeight: 'normal',\n  fontStyle: 'normal',\n  textDecoration: 'none',\n  color: '#000000',\n}\n\nfunction parseTable(tableEl: HTMLElement): TableElement | null {\n  // Collect all rows (from thead, tbody, tfoot, or direct tr children)\n  const allRows: HTMLTableRowElement[] = []\n  const trs = tableEl.querySelectorAll('tr')\n  trs.forEach(tr => allRows.push(tr as HTMLTableRowElement))\n\n  if (allRows.length === 0) return null\n\n  // Determine grid dimensions\n  const numRows = allRows.length\n  let numCols = 0\n  allRows.forEach(tr => {\n    let count = 0\n    for (let i = 0; i < tr.cells.length; i++) {\n      count += tr.cells[i].colSpan || 1\n    }\n    if (count > numCols) numCols = count\n  })\n\n  if (numCols === 0) return null\n\n  // Detect if first row is a header (uses <th> elements)\n  const firstRowHasTh = allRows[0]?.querySelector('th') !== null\n\n  // Build cells grid\n  const cells: TableCell[][] = []\n  for (let r = 0; r < numRows; r++) {\n    const row: TableCell[] = []\n    const tr = allRows[r]\n    const htmlCells = tr ? tr.querySelectorAll(':scope > td, :scope > th') : []\n\n    for (let c = 0; c < numCols; c++) {\n      const htmlCell = htmlCells[c] as HTMLElement | undefined\n\n      if (htmlCell) {\n        const isHeader = htmlCell.tagName.toLowerCase() === 'th' || (r === 0 && firstRowHasTh)\n        const cellRuns = extractRuns(htmlCell, isHeader ? { fontWeight: 'bold' as const } : undefined)\n        const cellAlign = getAlignment(htmlCell)\n\n        const content: TextContent = cellRuns.length > 0\n          ? { paragraphs: [createParagraph(cellRuns, cellAlign)] }\n          : { paragraphs: [createParagraph([{ text: '', style: TABLE_CELL_STYLE }], cellAlign)] }\n\n        row.push({\n          id: generateId(),\n          content,\n          padding: { top: 4, right: 8, bottom: 4, left: 8 },\n          verticalAlign: 'middle',\n          fill: isHeader ? HEADER_FILL : { type: 'solid', color: '#FFFFFF' },\n          borders: {\n            top: { ...DEFAULT_CELL_BORDER },\n            right: { ...DEFAULT_CELL_BORDER },\n            bottom: { ...DEFAULT_CELL_BORDER },\n            left: { ...DEFAULT_CELL_BORDER },\n          },\n        })\n      } else {\n        // Empty cell padding for colspan overflow\n        row.push(makeEmptyCell())\n      }\n    }\n\n    cells.push(row)\n  }\n\n  // Size calculations\n  const cellWidth = Math.min(150, Math.floor((SLIDE_WIDTH - 100) / numCols))\n  const cellHeight = 36\n  const tableWidth = cellWidth * numCols\n  const tableHeight = cellHeight * numRows\n\n  const tableElement: TableElement = {\n    id: generateId(),\n    type: 'table',\n    position: {\n      x: Math.round((SLIDE_WIDTH - tableWidth) / 2),\n      y: Math.round((SLIDE_HEIGHT - tableHeight) / 2),\n    },\n    size: { width: tableWidth, height: tableHeight },\n    zIndex: 0,\n    rows: numRows,\n    columns: numCols,\n    cells,\n    columnWidths: Array(numCols).fill(cellWidth),\n    rowHeights: Array(numRows).fill(cellHeight),\n    style: {\n      borderCollapse: true,\n      defaultCellFill: { type: 'solid', color: '#FFFFFF' },\n      headerRowFill: firstRowHasTh ? HEADER_FILL : undefined,\n    },\n  }\n\n  return tableElement\n}\n\nfunction makeEmptyCell(): TableCell {\n  return {\n    id: generateId(),\n    content: {\n      paragraphs: [{\n        id: generateId(),\n        runs: [{\n          id: generateId(),\n          text: '',\n          style: TABLE_CELL_STYLE,\n        }],\n        alignment: 'left',\n      }],\n    },\n    padding: { top: 4, right: 8, bottom: 4, left: 8 },\n    verticalAlign: 'middle',\n    borders: {\n      top: { ...DEFAULT_CELL_BORDER },\n      right: { ...DEFAULT_CELL_BORDER },\n      bottom: { ...DEFAULT_CELL_BORDER },\n      left: { ...DEFAULT_CELL_BORDER },\n    },\n  }\n}\n\n//  Inline / run extraction \n\nfunction getHeadingFontSize(level: number): number {\n  switch (level) {\n    case 1: return 36\n    case 2: return 28\n    case 3: return 24\n    case 4: return 20\n    case 5: return 18\n    case 6: return 16\n    default: return 18\n  }\n}\n\ninterface RunData {\n  text: string\n  style: TextStyle\n}\n\n/**\n * Recursively extract styled TextRuns from an element.\n */\nfunction extractRuns(el: Node, parentStyleOverrides?: Partial<TextStyle>): RunData[] {\n  const runs: RunData[] = []\n  const baseStyle: TextStyle = { ...DEFAULT_TEXT_STYLE, ...parentStyleOverrides }\n\n  for (let i = 0; i < el.childNodes.length; i++) {\n    const child = el.childNodes[i]\n\n    if (child.nodeType === Node.TEXT_NODE) {\n      const text = child.textContent || ''\n      if (text) {\n        runs.push({ text, style: { ...baseStyle } })\n      }\n      continue\n    }\n\n    if (child.nodeType !== Node.ELEMENT_NODE) continue\n\n    const childEl = child as HTMLElement\n    const tag = childEl.tagName.toLowerCase()\n\n    const styleOverrides: Partial<TextStyle> = { ...parentStyleOverrides }\n\n    if (tag === 'strong' || tag === 'b') {\n      styleOverrides.fontWeight = 'bold'\n    }\n    if (tag === 'em' || tag === 'i') {\n      styleOverrides.fontStyle = 'italic'\n    }\n    if (tag === 'u') {\n      styleOverrides.textDecoration = 'underline'\n    }\n    if (tag === 's' || tag === 'del' || tag === 'strike') {\n      styleOverrides.textDecoration = 'line-through'\n    }\n    if (tag === 'code') {\n      styleOverrides.fontFamily = 'Courier New'\n    }\n\n    const childRuns = extractRuns(childEl, styleOverrides)\n    runs.push(...childRuns)\n  }\n\n  return runs\n}\n\n//  Helpers \n\nfunction createParagraph(\n  runData: RunData[],\n  alignment: Paragraph['alignment'],\n  extra?: Partial<Pick<Paragraph, 'bulletType' | 'bulletChar' | 'indentLevel'>>\n): Paragraph {\n  const runs: TextRun[] = runData.map(r => ({\n    id: generateId(),\n    text: r.text,\n    style: r.style,\n  }))\n\n  return {\n    id: generateId(),\n    runs,\n    alignment,\n    ...extra,\n  }\n}\n\nfunction makeTextElement(content: TextContent): TextElement {\n  return {\n    id: generateId(),\n    type: 'text',\n    position: {\n      x: Math.round((SLIDE_WIDTH - 400) / 2),\n      y: Math.round((SLIDE_HEIGHT - 200) / 2),\n    },\n    size: { width: 400, height: 200 },\n    zIndex: 0,\n    content,\n    style: DEFAULT_TEXTBOX_STYLE,\n  }\n}\n\nfunction plainTextToContent(text: string): TextContent {\n  const lines = text.split('\\n').filter(l => l.trim() !== '')\n  if (lines.length === 0) {\n    lines.push(text || ' ')\n  }\n\n  return {\n    paragraphs: lines.map(line => createParagraph(\n      [{ text: line, style: { ...DEFAULT_TEXT_STYLE } }],\n      'left'\n    )),\n  }\n}\n","import { useState, useEffect, useCallback, useRef } from 'react'\nimport { PanelRightOpen, PanelRightClose } from 'lucide-react'\nimport { SlidePanel } from '@/components/slides/SlidePanel'\nimport { SlideCanvas } from '@/components/canvas/SlideCanvas'\nimport { MainToolbar } from '@/components/toolbar/MainToolbar'\nimport { FormattingToolbar } from '@/components/toolbar/FormattingToolbar'\nimport { PropertiesPanel } from '@/components/properties/PropertiesPanel'\nimport { ThemePickerDialog } from '@/components/dialogs/ThemePickerDialog'\nimport { ThemeEditorDialog } from '@/components/dialogs/ThemeEditorDialog'\nimport { useEditor, usePresentation, useSelection, useHistory } from '@/context'\nimport { exportPptx, downloadPptx } from '@/services/pptx'\nimport { importPptx, isPptxFile } from '@/services/pptx'\nimport { cn } from '@/lib/utils'\nimport { PresentationTheme, TextElement, DEFAULT_TEXT_STYLE, DEFAULT_TEXTBOX_STYLE, SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types'\nimport { generateId } from '@/utils'\nimport { htmlToSlideElements } from '@/utils/htmlToTextContent'\n\ninterface EditorLayoutProps {\n  onExport?: (blob: Blob, filename: string) => void\n  showHeader?: boolean\n}\n\nexport function EditorLayout({ onExport }: EditorLayoutProps) {\n  const { editorState } = useEditor()\n  const {\n    presentation,\n    createNewPresentation,\n    loadPresentation,\n    requestSave,\n    addElement,\n  } = usePresentation()\n  const { copy, cut, paste, deleteSelected, selectAll, hasClipboard } = useSelection()\n  const { undo, redo, canUndo, canRedo } = useHistory()\n  const [themePickerOpen, setThemePickerOpen] = useState(false)\n  const [themeEditorOpen, setThemeEditorOpen] = useState(false)\n  const [editingTheme, setEditingTheme] = useState<PresentationTheme | null>(null)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n  const [rightPanelOpen, setRightPanelOpen] = useState(false)\n\n  const { leftSidebar } = editorState.panelVisibility\n\n  // Initialize with a new presentation if none exists\n  useEffect(() => {\n    if (!presentation) {\n      createNewPresentation()\n    }\n  }, [presentation, createNewPresentation])\n\n  // Listen for native paste events to handle system clipboard  new text box\n  useEffect(() => {\n    const handlePaste = (e: ClipboardEvent) => {\n      const target = e.target as HTMLElement\n      const isInputFocused = target.tagName === 'INPUT' ||\n                            target.tagName === 'TEXTAREA' ||\n                            target.isContentEditable\n\n      // If user is typing in an input or editing text inside a textbox, let browser handle it\n      if (isInputFocused) return\n\n      // If internal clipboard has copied elements, skip (handled by keydown)\n      if (hasClipboard) return\n\n      const slideId = editorState.currentSlideId ?? presentation?.slides[0]?.id\n      if (!slideId) return\n\n      // Try to get HTML content first, fall back to plain text\n      const htmlData = e.clipboardData?.getData('text/html')\n      const textData = e.clipboardData?.getData('text/plain')\n\n      if (htmlData?.trim()) {\n        const elements = htmlToSlideElements(htmlData)\n        for (const element of elements) {\n          addElement(slideId, element)\n        }\n        e.preventDefault()\n      } else if (textData?.trim()) {\n        const textElement: TextElement = {\n          id: generateId(),\n          type: 'text',\n          position: {\n            x: Math.round((SLIDE_WIDTH - 400) / 2),\n            y: Math.round((SLIDE_HEIGHT - 120) / 2),\n          },\n          size: { width: 400, height: 120 },\n          zIndex: 0,\n          content: {\n            paragraphs: [{\n              id: generateId(),\n              runs: [{\n                id: generateId(),\n                text: textData,\n                style: DEFAULT_TEXT_STYLE,\n              }],\n              alignment: 'left',\n            }],\n          },\n          style: DEFAULT_TEXTBOX_STYLE,\n        }\n        addElement(slideId, textElement)\n        e.preventDefault()\n      }\n    }\n\n    window.addEventListener('paste', handlePaste)\n    return () => window.removeEventListener('paste', handlePaste)\n  }, [editorState.currentSlideId, presentation?.slides, addElement, hasClipboard])\n\n  // Global keyboard shortcuts\n  const handleKeyDown = useCallback((e: KeyboardEvent) => {\n    const isMod = e.ctrlKey || e.metaKey\n    const target = e.target as HTMLElement\n    const isInputFocused = target.tagName === 'INPUT' ||\n                          target.tagName === 'TEXTAREA' ||\n                          target.isContentEditable\n\n    // Ctrl+S should always work for save\n    if (isMod && e.key === 's') {\n      e.preventDefault()\n      requestSave()\n      return\n    }\n\n    // Don't handle other shortcuts when typing in inputs\n    if (isInputFocused && !['Delete', 'Backspace'].includes(e.key)) {\n      return\n    }\n\n    if (isMod && e.key === 'z' && !e.shiftKey) {\n      e.preventDefault()\n      if (canUndo) undo()\n    } else if ((isMod && e.key === 'z' && e.shiftKey) || (isMod && e.key === 'y')) {\n      e.preventDefault()\n      if (canRedo) redo()\n    } else if (isMod && e.key === 'c') {\n      e.preventDefault()\n      copy()\n    } else if (isMod && e.key === 'x') {\n      e.preventDefault()\n      cut()\n    } else if (isMod && e.key === 'v') {\n      if (hasClipboard) {\n        // Internal clipboard has copied elements  paste them\n        e.preventDefault()\n        paste()\n      }\n      // Otherwise: don't preventDefault  let the native paste event fire\n      // which is handled by the paste event listener above\n    } else if (isMod && e.key === 'a') {\n      e.preventDefault()\n      selectAll()\n    } else if ((e.key === 'Delete' || e.key === 'Backspace') && !isInputFocused) {\n      e.preventDefault()\n      deleteSelected()\n    }\n  }, [copy, cut, paste, hasClipboard, selectAll, deleteSelected, undo, redo, canUndo, canRedo, requestSave])\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [handleKeyDown])\n\n  // Direct file picker for import (no modal)\n  const handleImport = () => {\n    fileInputRef.current?.click()\n  }\n\n  const handleFileSelected = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    if (!isPptxFile(file)) {\n      alert('Please select a valid .pptx file')\n      return\n    }\n\n    const result = await importPptx(file)\n\n    if (result.success && result.presentation) {\n      loadPresentation(result.presentation)\n    } else {\n      alert(`Import failed: ${result.error || 'Unknown error'}`)\n    }\n\n    // Reset input so same file can be selected again\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''\n    }\n  }\n\n  const handleTheme = () => {\n    setThemePickerOpen(true)\n  }\n\n  const handleEditTheme = (theme: PresentationTheme) => {\n    setEditingTheme(theme)\n    setThemePickerOpen(false)\n    setThemeEditorOpen(true)\n  }\n\n  const handleThemeEditorClose = (open: boolean) => {\n    setThemeEditorOpen(open)\n    if (!open) {\n      setEditingTheme(null)\n    }\n  }\n\n  const handleThemeSaved = () => {\n    setThemePickerOpen(true)\n  }\n\n  const [isExporting, setIsExporting] = useState(false)\n\n  const handleExport = async () => {\n    if (!presentation || isExporting) return\n\n    setIsExporting(true)\n    try {\n      const result = await exportPptx(presentation)\n      if (result.success && result.blob) {\n        if (onExport) {\n          onExport(result.blob, `${presentation.name}.pptx`)\n        } else {\n          downloadPptx(result.blob, presentation.name)\n        }\n      } else if (!result.success) {\n        alert(`Export failed: ${result.error}`)\n      }\n    } catch (error) {\n      console.error('Export error:', error)\n      alert('Failed to export presentation')\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  return (\n    <div className=\"h-full flex flex-col bg-background overflow-hidden\">\n      {/* Hidden file input for import */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\".pptx,.pptm\"\n        className=\"hidden\"\n        onChange={handleFileSelected}\n      />\n\n      {/* Main Toolbar (includes File, Edit, Theme, Undo/Redo + insert tools) */}\n      <MainToolbar\n        className=\"h-8 flex-shrink-0 border-b\"\n        onImport={handleImport}\n        onExport={handleExport}\n        onTheme={handleTheme}\n      />\n\n      {/* Formatting Toolbar (shows when text element selected) */}\n      <FormattingToolbar className=\"h-8 flex-shrink-0\" />\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Left Sidebar - Slide Panel */}\n        {leftSidebar && (\n          <div className=\"w-40 flex-shrink-0 border-r bg-muted/30 overflow-hidden\">\n            <SlidePanel />\n          </div>\n        )}\n\n        {/* Canvas Area */}\n        <div className=\"flex-1 overflow-hidden relative\">\n          <SlideCanvas />\n          {/* Toggle right panel button */}\n          <button\n            onClick={() => setRightPanelOpen(prev => !prev)}\n            className=\"absolute top-2 right-2 z-10 p-1 rounded bg-background/80 border shadow-sm hover:bg-background transition-colors\"\n            title={rightPanelOpen ? 'Hide Properties' : 'Show Properties'}\n          >\n            {rightPanelOpen ? (\n              <PanelRightClose className=\"h-4 w-4 text-muted-foreground\" />\n            ) : (\n              <PanelRightOpen className=\"h-4 w-4 text-muted-foreground\" />\n            )}\n          </button>\n        </div>\n\n        {/* Right Sidebar - Properties Panel (collapsible) */}\n        <div className={cn(\n          'flex-shrink-0 border-l bg-background overflow-hidden transition-all duration-200',\n          rightPanelOpen ? 'w-56' : 'w-0 border-l-0'\n        )}>\n          {rightPanelOpen && <PropertiesPanel />}\n        </div>\n      </div>\n\n      {/* Status Bar */}\n      <StatusBar className=\"h-5 flex-shrink-0 border-t\" />\n\n      {/* Theme Picker Dialog */}\n      <ThemePickerDialog\n        open={themePickerOpen}\n        onOpenChange={setThemePickerOpen}\n        onEditTheme={handleEditTheme}\n      />\n\n      {/* Theme Editor Dialog */}\n      <ThemeEditorDialog\n        open={themeEditorOpen}\n        onOpenChange={handleThemeEditorClose}\n        theme={editingTheme}\n        onSave={handleThemeSaved}\n      />\n    </div>\n  )\n}\n\ninterface StatusBarProps {\n  className?: string\n}\n\nfunction StatusBar({ className }: StatusBarProps) {\n  const { editorState, setZoom } = useEditor()\n  const { presentation, isDirty, lastSaved } = usePresentation()\n  const { selection } = useSelection()\n\n  const currentSlideIndex = presentation?.slides.findIndex(\n    s => s.id === editorState.currentSlideId\n  ) ?? -1\n\n  const totalSlides = presentation?.slides.length ?? 0\n\n  const formatLastSaved = (date: Date | null) => {\n    if (!date) return null\n    const now = new Date()\n    const diff = now.getTime() - date.getTime()\n    if (diff < 60000) return 'Saved'\n    if (diff < 3600000) return `Saved ${Math.floor(diff / 60000)}m ago`\n    return `Saved at ${date.toLocaleTimeString()}`\n  }\n\n  return (\n    <div className={cn('flex items-center justify-between px-3 text-[10px] text-muted-foreground bg-muted/30', className)}>\n      <div className=\"flex items-center gap-3\">\n        <span>\n          Slide {currentSlideIndex + 1} of {totalSlides}\n        </span>\n        {selection.selectedElementIds.length > 0 && (\n          <span>\n            {selection.selectedElementIds.length} element{selection.selectedElementIds.length > 1 ? 's' : ''} selected\n          </span>\n        )}\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <span className={isDirty ? 'text-yellow-600' : 'text-green-600'}>\n          {isDirty ? 'Unsaved' : formatLastSaved(lastSaved) || 'Saved'}\n        </span>\n        <div className=\"flex items-center gap-1\">\n          <button\n            onClick={() => setZoom(editorState.zoom - 0.1)}\n            className=\"hover:text-foreground\"\n            disabled={editorState.zoom <= 0.1}\n          >\n            -\n          </button>\n          <span className=\"w-10 text-center\">{Math.round(editorState.zoom * 100)}%</span>\n          <button\n            onClick={() => setZoom(editorState.zoom + 0.1)}\n            className=\"hover:text-foreground\"\n            disabled={editorState.zoom >= 4}\n          >\n            +\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { forwardRef, useImperativeHandle, useRef, useEffect } from 'react'\nimport {\n  HistoryProvider,\n  PresentationProvider,\n  EditorProvider,\n  SelectionProvider,\n  ThemeProvider,\n  usePresentation,\n  useEditor,\n} from '@/context'\nimport { EditorLayout } from '@/components/layout'\nimport { TooltipProvider } from '@/components/ui/tooltip'\nimport type { PresentationEditorProps } from '@/types/props'\nimport type { TextElement, SlideElement } from '@/types/slide'\nimport { cn } from '@/lib/utils'\nimport { generateId } from '@/utils'\nimport { DEFAULT_TEXT_STYLE, DEFAULT_TEXTBOX_STYLE } from '@/types/slide'\nimport { SLIDE_WIDTH, SLIDE_HEIGHT } from '@/types/editor'\nimport { htmlToTextContent, htmlToSlideElements } from '@/utils/htmlToTextContent'\n\n/**\n * Imperative handle exposed via ref on PresentationEditor.\n * Allows programmatic manipulation from outside the component.\n */\nexport interface PresentationEditorHandle {\n  /** Insert a text box with plain text content on the current slide.\n   *  If a text box is actively being edited, appends to it instead. */\n  insertTextBox: (text: string) => void\n  /** Insert a text box with HTML content (parsed into styled paragraphs/runs).\n   *  If a text box is actively being edited, appends to it instead. */\n  insertHtmlTextBox: (html: string) => void\n  /** Insert HTML content as proper slide elements (text  TextElement, table  TableElement).\n   *  Text portions are appended to the active text box if one is being edited.\n   *  Tables always create new elements. */\n  insertHtmlContent: (html: string) => void\n}\n\n/**\n * Bridge component that lives inside all providers so it can access contexts.\n * Exposes imperative methods via the forwarded ref.\n */\nconst EditorBridge = forwardRef<PresentationEditorHandle, { onExport?: PresentationEditorProps['onExport']; showHeader?: boolean }>(\n  function EditorBridge({ onExport, showHeader }, ref) {\n    const { presentation, addElement, updateElement } = usePresentation()\n    const { editorState, textEditingState } = useEditor()\n\n    // Track the last text element that was edited  persists across tab switches / blur\n    const lastEditedTextIdRef = useRef<string | null>(null)\n\n    useEffect(() => {\n      if (textEditingState.elementId) {\n        lastEditedTextIdRef.current = textEditingState.elementId\n      }\n    }, [textEditingState.elementId])\n\n    // Helper: get the text element to append to.\n    // Uses active editing state first, falls back to last-edited element.\n    const getTargetTextElement = (): { slideId: string; element: TextElement } | null => {\n      if (!presentation) return null\n\n      const slideId = editorState.currentSlideId ?? presentation.slides[0]?.id\n      if (!slideId) return null\n\n      const slide = presentation.slides.find(s => s.id === slideId)\n      if (!slide) return null\n\n      // Try active editing element first, then fall back to last-edited\n      const targetId = textEditingState.elementId || lastEditedTextIdRef.current\n      if (!targetId) return null\n\n      const element = slide.elements.find(\n        el => el.id === targetId && el.type === 'text'\n      ) as TextElement | undefined\n\n      if (!element) return null\n      return { slideId, element }\n    }\n\n    useImperativeHandle(ref, () => ({\n      insertTextBox(text: string) {\n        if (!presentation) return\n\n        const currentSlideId = editorState.currentSlideId ?? presentation.slides[0]?.id\n        if (!currentSlideId) return\n\n        // If editing a text box, append to it\n        const active = getTargetTextElement()\n        if (active) {\n          const newParagraph = {\n            id: generateId(),\n            runs: [{ id: generateId(), text, style: DEFAULT_TEXT_STYLE }],\n            alignment: 'left' as const,\n          }\n          const updatedContent = {\n            ...active.element.content,\n            paragraphs: [...active.element.content.paragraphs, newParagraph],\n          }\n          updateElement(active.slideId, active.element.id, { content: updatedContent } as Partial<SlideElement>)\n          return\n        }\n\n        const textElement: TextElement = {\n          id: generateId(),\n          type: 'text',\n          position: {\n            x: Math.round((SLIDE_WIDTH - 400) / 2),\n            y: Math.round((SLIDE_HEIGHT - 120) / 2),\n          },\n          size: { width: 400, height: 120 },\n          zIndex: 0,\n          content: {\n            paragraphs: [{\n              id: generateId(),\n              runs: [{\n                id: generateId(),\n                text,\n                style: DEFAULT_TEXT_STYLE,\n              }],\n              alignment: 'left',\n            }],\n          },\n          style: DEFAULT_TEXTBOX_STYLE,\n        }\n\n        addElement(currentSlideId, textElement)\n      },\n\n      insertHtmlTextBox(html: string) {\n        if (!presentation) return\n\n        const currentSlideId = editorState.currentSlideId ?? presentation.slides[0]?.id\n        if (!currentSlideId) return\n\n        const content = htmlToTextContent(html)\n\n        // If editing a text box, append paragraphs to it\n        const active = getTargetTextElement()\n        if (active) {\n          const updatedContent = {\n            ...active.element.content,\n            paragraphs: [...active.element.content.paragraphs, ...content.paragraphs],\n          }\n          updateElement(active.slideId, active.element.id, { content: updatedContent } as Partial<SlideElement>)\n          return\n        }\n\n        const textElement: TextElement = {\n          id: generateId(),\n          type: 'text',\n          position: {\n            x: Math.round((SLIDE_WIDTH - 400) / 2),\n            y: Math.round((SLIDE_HEIGHT - 200) / 2),\n          },\n          size: { width: 400, height: 200 },\n          zIndex: 0,\n          content,\n          style: DEFAULT_TEXTBOX_STYLE,\n        }\n\n        addElement(currentSlideId, textElement)\n      },\n\n      insertHtmlContent(html: string) {\n        if (!presentation) return\n\n        const currentSlideId = editorState.currentSlideId ?? presentation.slides[0]?.id\n        if (!currentSlideId) return\n\n        const elements = htmlToSlideElements(html)\n        const active = getTargetTextElement()\n\n        for (const element of elements) {\n          if (active && element.type === 'text') {\n            // Append text paragraphs to the active text box\n            const textEl = element as TextElement\n            const updatedContent = {\n              ...active.element.content,\n              paragraphs: [...active.element.content.paragraphs, ...textEl.content.paragraphs],\n            }\n            updateElement(active.slideId, active.element.id, { content: updatedContent } as Partial<SlideElement>)\n            // Update the active reference so subsequent text elements also append\n            active.element = {\n              ...active.element,\n              content: updatedContent,\n            }\n          } else {\n            // Tables or no active text box  create new element\n            addElement(currentSlideId, element)\n          }\n        }\n      },\n    }), [presentation, editorState.currentSlideId, textEditingState.elementId, addElement, updateElement])\n\n    return (\n      <EditorLayout\n        onExport={onExport}\n        showHeader={showHeader}\n      />\n    )\n  }\n)\n\nexport const PresentationEditor = forwardRef<PresentationEditorHandle, PresentationEditorProps>(\n  function PresentationEditor(props, ref) {\n    const {\n      data,\n      initialData,\n      onChange,\n      onSave,\n      onDirtyChange,\n      onExport,\n      panels,\n      customThemes,\n      onThemeChange,\n      initialZoom,\n      maxHistorySize = 50,\n      className,\n      style,\n    } = props\n\n    // Map panel props to PanelVisibility shape\n    const panelVisibility = panels ? {\n      leftSidebar: panels.leftSidebar,\n      rightSidebar: panels.rightSidebar,\n      toolbar: panels.toolbar,\n      statusBar: panels.statusBar,\n    } : undefined\n\n    return (\n      <div className={cn('ppt-editor-root h-full', className)} style={style}>\n        <TooltipProvider>\n          <ThemeProvider customThemes={customThemes} onThemeChange={onThemeChange}>\n            <HistoryProvider maxStackSize={maxHistorySize}>\n              <PresentationProvider\n                data={data}\n                initialData={initialData}\n                onChange={onChange}\n                onSave={onSave}\n                onDirtyChange={onDirtyChange}\n              >\n                <EditorProvider panels={panelVisibility} initialZoom={initialZoom}>\n                  <SelectionProvider>\n                    <EditorBridge\n                      ref={ref}\n                      onExport={onExport}\n                      showHeader={panels?.header}\n                    />\n                  </SelectionProvider>\n                </EditorProvider>\n              </PresentationProvider>\n            </HistoryProvider>\n          </ThemeProvider>\n        </TooltipProvider>\n      </div>\n    )\n  }\n)\n"],"names":["byteToHex","i","unsafeStringify","arr","offset","getRandomValues","rnds8","rng","randomUUID","native","_v4","options","buf","rnds","v4","generateId","uuidv4","clamp","value","min","max","HistoryContext","createContext","HistoryProvider","children","maxStackSize","undoStack","setUndoStack","useState","redoStack","setRedoStack","currentStateRef","useRef","canUndo","canRedo","pushState","useCallback","action","state","entry","prev","newStack","undo","lastEntry","redo","clearHistory","getCurrentState","jsx","useHistory","context","useContext","DEFAULT_THEME","DEFAULT_METADATA","DEFAULT_TEXT_STYLE","DEFAULT_TEXTBOX_STYLE","DEFAULT_FILL","DEFAULT_STROKE","DEFAULT_BACKGROUND","DEFAULT_EDITOR_STATE","DEFAULT_SELECTION_STATE","SLIDE_WIDTH","SLIDE_HEIGHT","MIN_ZOOM","MAX_ZOOM","ZOOM_STEP","PresentationContext","createEmptySlide","order","PresentationProvider","data","initialData","onChange","onSave","onDirtyChange","isControlled","internalPresentation","setInternalPresentation","isLoading","isDirty","setIsDirty","error","setError","lastSaved","setLastSaved","presentation","prevDataRef","useEffect","applyMutation","newPresentation","updatePresentation","updater","current","newState","requestSave","createNewPresentation","name","loadPresentation","loaded","updatePresentationMeta","meta","setTheme","theme","applyToSlides","updated","slide","setPresentationName","addSlide","afterSlideId","layoutElements","newSlide","insertIndex","afterIndex","s","newSlides","deleteSlide","slideId","index","duplicateSlide","slideIndex","originalSlide","el","reorderSlides","fromIndex","toIndex","movedSlide","updateSlide","updates","updateSlideBackground","background","addElement","element","maxZIndex","updateElement","elementId","deleteElements","elementIds","duplicateElements","duplicated","elementsToDuplicate","newElements","newEl","bringToFront","sendToBack","minZIndex","bringForward","nextHigher","a","b","sendBackward","nextLower","usePresentation","EditorContext","DEFAULT_TEXT_EDITING_STATE","EditorProvider","panels","initialZoom","editorState","setEditorState","textEditingState","setTextEditingState","setZoom","zoom","zoomIn","zoomOut","zoomToFit","zoomTo100","setCurrentSlide","setActiveTool","tool","toggleGrid","toggleGuides","toggleSnapToGrid","toggleSnapToGuides","setViewMode","mode","toggleLeftSidebar","toggleRightSidebar","setLeftSidebarVisible","visible","setRightSidebarVisible","setTextEditing","setTextSelection","selection","style","useEditor","SelectionContext","SelectionProvider","setSelection","clipboard","setClipboard","getCurrentSlide","selectElement","addToSelection","newIds","id","selectElements","deselectAll","selectAll","allIds","isSelected","startDrag","endDrag","startResize","handle","endResize","startRotate","endRotate","copy","elementsToCopy","cut","deleteSelected","paste","getSelectedElements","useSelection","defaultColorScheme","darkColorScheme","corporateColorScheme","creativeColorScheme","minimalColorScheme","defaultFontScheme","corporateFontScheme","creativeFontScheme","minimalFontScheme","BUILT_IN_THEMES","createNewTheme","ThemeContext","ThemeProvider","customThemesProp","onThemeChange","customThemes","setCustomThemes","allThemes","saveTheme","existingIndex","t","deleteTheme","themeId","getTheme","createTheme","duplicateTheme","newName","sourceTheme","useThemes","toKebabCase","string","toCamelCase","match","p1","p2","toPascalCase","camelCase","mergeClasses","classes","className","array","hasA11yProp","props","prop","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","iconNode","rest","ref","createElement","tag","attrs","createLucideIcon","iconName","Component","__iconNode","ArrowRight","Bold","Check","ChevronDown","ChevronRight","ChevronUp","Circle","Copy","Download","EyeOff","Eye","FolderOpen","Grid3x3","Image","Italic","Minus","MousePointer","Palette","PanelRightClose","PanelRightOpen","Pencil","Plus","Redo2","SquareCheckBig","Square","Star","Table","TextAlignCenter","TextAlignEnd","TextAlignJustify","TextAlignStart","Trash2","Triangle","Type","Underline","Undo2","Upload","X","ZoomIn","ZoomOut","useCombinedRefs","_len","refs","_key","useMemo","node","canUseDOM","isWindow","elementString","isNode","getWindow","target","_target$ownerDocument","_target$ownerDocument2","isDocument","Document","isHTMLElement","isSVGElement","getOwnerDocument","useIsomorphicLayoutEffect","useLayoutEffect","useEvent","handler","handlerRef","args","useInterval","intervalRef","set","listener","duration","clear","useLatestValue","dependencies","valueRef","useLazyMemo","callback","newValue","useNodeRef","onChangeHandler","setNodeRef","usePrevious","ids","useUniqueId","prefix","createAdjustmentFn","modifier","object","adjustments","accumulator","adjustment","entries","key","valueAdjustment","add","subtract","hasViewportRelativeCoordinates","event","isKeyboardEvent","KeyboardEvent","isTouchEvent","TouchEvent","getEventCoordinates","x","y","CSS","transform","scaleX","scaleY","_ref","property","easing","SELECTOR","findFirstFocusableNode","hiddenStyles","HiddenText","React","LiveRegion","announcement","ariaLiveType","visuallyHidden","useAnnouncement","setAnnouncement","DndMonitorContext","useDndMonitor","registerListener","useDndMonitorProvider","listeners","type","_listener$type","defaultScreenReaderInstructions","defaultAnnouncements","active","_ref2","over","_ref3","_ref4","Accessibility","announcements","container","hiddenTextDescribedById","screenReaderInstructions","announce","liveRegionId","mounted","setMounted","_ref5","_ref6","markup","createPortal","Action","noop","useSensor","sensor","useSensors","sensors","defaultCoordinates","distanceBetween","sortCollisionsAsc","sortCollisionsDesc","cornersOfRectangle","left","top","height","width","getFirstCollision","collisions","firstCollision","centerOfRectangle","rect","closestCenter","collisionRect","droppableRects","droppableContainers","centerRect","droppableContainer","distBetween","closestCorners","corners","rectCorners","distances","corner","effectiveDistance","getIntersectionRatio","right","bottom","targetArea","entryArea","intersectionArea","intersectionRatio","rectIntersection","adjustScale","rect1","rect2","getRectDelta","createRectAdjustmentFn","acc","getAdjustedRect","parseTransform","transformArray","inverseTransform","transformOrigin","parsedTransform","translateX","translateY","w","h","defaultOptions","getClientRect","getTransformAgnosticClientRect","getWindowClientRect","isFixed","computedStyle","isScrollable","overflowRegex","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","getFirstScrollableAncestor","firstScrollableAncestor","getScrollableElement","getScrollXCoordinate","getScrollYCoordinate","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","maxScroll","isTop","isLeft","isBottom","isRight","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","direction","speed","threshold","getScrollElementRect","innerWidth","innerHeight","getScrollOffsets","scrollableAncestors","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","properties","Rect","scrollOffsets","axis","keys","getScrollOffset","currentOffsets","scrollOffsetsDeltla","Listeners","_this$target","eventName","_this$target2","getEventListenerTarget","EventTarget","hasExceededDistance","delta","measurement","dx","dy","EventName","preventDefault","stopPropagation","KeyboardCode","defaultKeyboardCodes","defaultKeyboardCoordinateGetter","currentCoordinates","KeyboardSensor","activeNode","onStart","keyboardCodes","coordinateGetter","scrollBehavior","code","newCoordinates","coordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","coordinates","onMove","onEnd","onCancel","onActivation","activator","isDistanceConstraint","constraint","isDelayConstraint","AbstractPointerSensor","events","listenerTarget","_getEventCoordinates","activationConstraint","bypassActivationConstraint","onPending","initialCoordinates","_getEventCoordinates2","activated","onAbort","_this$document$getSel","PointerSensor","events$1","MouseButton","MouseSensor","events$2","TouchSensor","touches","AutoScrollActivator","TraversalOrder","useAutoScroller","canScroll","draggingRect","enabled","interval","pointerCoordinates","scrollableAncestorRects","scrollIntent","useScrollIntent","setAutoScrollInterval","clearAutoScrollInterval","scrollSpeed","scrollDirection","scrollContainerRef","autoScroll","scrollLeft","scrollTop","sortedScrollableAncestors","defaultScrollIntent","disabled","previousDelta","previousIntent","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","MeasuringStrategy","MeasuringFrequency","defaultValue","useDroppableMeasuring","containers","dragging","config","queue","setQueue","frequency","strategy","containersRef","isDisabled","disabledRef","measureDroppableContainers","timeoutId","previousValue","map","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","setRect","measureRect","currentRect","newRect","records","record","useRectDelta","initialRect","defaultValue$1","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","scrollingElement","previousElements","cleanup","scrollableElement","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","teardown","useSyntheticListeners","useWindowRect","defaultValue$2","useRects","firstElement","windowRect","rects","setRects","measureRects","getMeasurableNode","firstChild","useDragOverlayMeasuring","handleNodeChange","nodeRef","setRef","defaultSensors","defaultData","defaultMeasuringConfiguration","DroppableContainersMap","_super$get","_this$get$node$curren","_this$get","defaultPublicContext","defaultInternalContext","InternalContext","PublicContext","getInitialState","reducer","RestoreFocus","activatorEvent","previousActivatorEvent","previousActiveId","activatorNode","focusableNode","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","memo","_sensorContext$curren","_dragOverlay$nodeRef$","_dragOverlay$rect","_over$rect","accessibility","collisionDetection","measuring","store","useReducer","dispatch","dispatchMonitorEvent","registerMonitorListener","status","setStatus","isInitialized","activeId","translate","activeRects","_node$data","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","measuringConfiguration","measuringScheduled","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","activeNodeRect","containerNodeRect","sensorContext","overNode","dragOverlay","draggingNode","draggingNodeRect","usesDragOverlay","nodeRectDelta","modifiedTranslate","scrollAdjustment","activeNodeScrollDelta","scrollAdjustedTranslate","overId","setOver","appliedTranslate","activeSensorRef","instantiateSensor","sensorInstance","onDragAbort","onDragPending","onDragStart","unstable_batchedUpdates","createHandler","cancelDrop","bindActivatorToSensorInstantiator","nativeEvent","activeDraggableNode","activationContext","activators","onDragMove","onDragOver","overContainer","publicContext","internalContext","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","ID_PREFIX","useDraggable","attributes","ariaDescribedById","role","roleDescription","tabIndex","isDragging","setActivatorNodeRef","dataRef","memoizedAttributes","useDndContext","ID_PREFIX$1","defaultResizeObserverConfig","useDroppable","resizeObserverConfig","previous","resizeObserverConnected","callbackId","resizeObserverDisabled","updateMeasurementsFor","resizeObserverTimeout","newElement","previousElement","arrayMove","from","to","newArray","getSortedRects","items","isValidIndex","itemsEqual","normalizeDisabled","rectSortingStrategy","activeIndex","overIndex","newRects","oldRect","defaultScale$1","verticalListSortingStrategy","_rects$activeIndex","fallbackActiveRect","overIndexRect","itemGap","getItemGap$1","clientRects","previousRect","nextRect","Context","SortableContext","userDefinedItems","disabledProp","containerId","useDragOverlay","item","previousItemsRef","itemsHaveChanged","disableTransforms","contextValue","defaultNewIndexGetter","defaultAnimateLayoutChanges","isSorting","wasDragging","newIndex","previousItems","previousContainerId","transition","defaultTransition","transitionProperty","disabledTransition","useDerivedTransform","derivedTransform","setDerivedtransform","previousIndex","initial","useSortable","animateLayoutChanges","userDefinedAttributes","localDisabled","customData","getNewIndex","localStrategy","globalDisabled","sortedRects","globalStrategy","normalizeLocalDisabled","itemsAfterCurrentSortable","isOver","setDroppableNodeRef","setDraggableNodeRef","displaceItem","shouldDisplaceDragSource","dragSourceDisplacement","finalTransform","shouldAnimateLayoutChanges","getTransition","_localDisabled$dragga","_localDisabled$droppa","hasSortableData","directions","sortableKeyboardCoordinates","filteredContainers","closestId","activeDroppable","newDroppable","newNode","hasDifferentScrollAncestors","hasSameContainer","isSameContainer","isAfterActive","isAfter","rectCoordinates","composeRefs","hasCleanup","cleanups","useComposedRefs","createSlot","ownerName","SlotClone","createSlotClone","Slot2","forwardedRef","slotProps","childrenArray","slottable","isSlottable","newChildren","child","childrenRef","getElementRef","props2","mergeProps","SLOTTABLE_IDENTIFIER","childProps","overrideProps","propName","slotPropValue","childPropValue","result","getter","mayWarn","NODES","Primitive","primitive","Slot","Node","asChild","primitiveProps","Comp","dispatchDiscreteCustomEvent","ReactDOM","useLayoutEffect2","useStateMachine","initialState","machine","Presence","present","presence","usePresence","React2","setNode","stylesRef","prevPresentRef","prevAnimationNameRef","send","currentAnimationName","getAnimationName","styles","wasPresent","prevAnimationName","ownerWindow","handleAnimationEnd","isCurrentAnimation","currentFillMode","handleAnimationStart","node2","createContext2","rootComponentName","defaultContext","Provider","useContext2","consumerName","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext3","BaseContext","scope","createScope","scopeContexts","contexts","composeContextScopes","scopes","baseScope","scopeHooks","createScope2","overrideScopes","nextScopes","nextScopes2","useScope","currentScope","useCallbackRef","callbackRef","DirectionContext","useDirection","localDir","globalDir","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","SCROLL_AREA_NAME","createScrollAreaContext","ScrollAreaProvider","useScrollAreaContext","ScrollArea","__scopeScrollArea","dir","scrollHideDelay","scrollAreaProps","scrollArea","setScrollArea","viewport","setViewport","content","setContent","scrollbarX","setScrollbarX","scrollbarY","setScrollbarY","cornerWidth","setCornerWidth","cornerHeight","setCornerHeight","scrollbarXEnabled","setScrollbarXEnabled","scrollbarYEnabled","setScrollbarYEnabled","composedRefs","VIEWPORT_NAME","ScrollAreaViewport","nonce","viewportProps","jsxs","Fragment","SCROLLBAR_NAME","ScrollAreaScrollbar","forceMount","scrollbarProps","onScrollbarXEnabledChange","onScrollbarYEnabledChange","isHorizontal","ScrollAreaScrollbarHover","ScrollAreaScrollbarScroll","ScrollAreaScrollbarAuto","ScrollAreaScrollbarVisible","setVisible","hideTimer","handlePointerEnter","handlePointerLeave","debounceScrollEnd","useDebounceCallback","prevScrollPos","scrollPos","isOverflowX","isOverflowY","orientation","thumbRef","pointerOffsetRef","sizes","setSizes","thumbRatio","getThumbRatio","commonProps","thumb","pointerPos","getScrollPositionFromPointer","ScrollAreaScrollbarX","getThumbOffsetFromScroll","ScrollAreaScrollbarY","onSizesChange","setComputedStyle","ScrollAreaScrollbarImpl","getThumbSize","maxScrollPos","isScrollingWithinScrollbarBounds","toInt","ScrollbarProvider","useScrollbarContext","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize","scrollbar","setScrollbar","rectRef","prevWebkitUserSelectRef","handleWheelScroll","handleThumbPositionChange","handleDragScroll","handleWheel","THUMB_NAME","ScrollAreaThumb","thumbProps","scrollbarContext","ScrollAreaThumbImpl","scrollAreaContext","composedRef","removeUnlinkedScrollListenerRef","addUnlinkedScrollListener","thumbRect","CORNER_NAME","ScrollAreaCorner","hasBothScrollbarsVisible","ScrollAreaCornerImpl","cornerProps","setWidth","setHeight","hasSize","height2","width2","viewportSize","contentSize","ratio","scrollbarPadding","thumbSize","pointerOffset","thumbSizePx","thumbCenter","thumbOffsetFromEnd","minPointerPos","maxPointerPos","scrollRange","linearScale","maxThumbPos","scrollClampRange","scrollWithoutMomentum","input","output","prevPosition","rAF","loop","position","isHorizontalScroll","isVerticalScroll","delay","handleCallback","debounceTimerRef","Root","Viewport","Corner","r","f","n","clsx","concatArrays","array1","array2","combinedArray","createClassValidatorObject","classGroupId","validator","createClassPartObject","nextPart","validators","CLASS_PART_SEPARATOR","EMPTY_CONFLICTS","ARBITRARY_PROPERTY_PREFIX","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getGroupIdForArbitraryProperty","classParts","startIndex","getGroupRecursive","hasPostfixModifier","modifierConflicts","baseConflicts","classPartObject","currentClassPart","nextClassPartObject","classRest","validatorsLength","validatorObj","colonIndex","classGroups","processClassGroups","group","processClassesRecursively","classGroup","len","classDefinition","processClassDefinition","processStringDefinition","processFunctionDefinition","processObjectDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","parts","part","next","func","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","MODIFIER_SEPARATOR","EMPTY_MODIFIERS","createResultObject","hasImportantModifier","baseClassName","maybePostfixModifierPosition","isExternal","createParseClassName","experimentalParseClassName","parseClassName","bracketDepth","parenDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","fullPrefix","parseClassNameOriginal","createSortModifiers","modifierWeights","mod","currentSegment","isArbitrary","isOrderSensitive","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","sortModifiers","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","twJoin","classLists","argument","resolvedValue","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fallbackThemeArr","fromTheme","themeGetter","arbitraryValueRegex","arbitraryVariableRegex","fractionRegex","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isFraction","isNumber","isInteger","isPercent","isTshirtSize","isAny","isLengthOnly","isNever","isShadow","isImage","isAnyNonArbitrary","isArbitraryValue","isArbitraryVariable","isArbitrarySize","getIsArbitraryValue","isLabelSize","isArbitraryLength","isLabelLength","isArbitraryNumber","isLabelNumber","isArbitraryPosition","isLabelPosition","isArbitraryImage","isLabelImage","isArbitraryShadow","isLabelShadow","isArbitraryVariableLength","getIsArbitraryVariable","isArbitraryVariableFamilyName","isLabelFamilyName","isArbitraryVariablePosition","isArbitraryVariableSize","isArbitraryVariableImage","isArbitraryVariableShadow","testLabel","testValue","shouldMatchNoLabel","label","getDefaultConfig","themeColor","themeFont","themeText","themeFontWeight","themeTracking","themeLeading","themeBreakpoint","themeContainer","themeSpacing","themeRadius","themeShadow","themeInsetShadow","themeTextShadow","themeDropShadow","themeBlur","themePerspective","themeAspect","themeEase","themeAnimate","scaleBreak","scalePosition","scalePositionWithArbitrary","scaleOverflow","scaleOverscroll","scaleUnambiguousSpacing","scaleInset","scaleGridTemplateColsRows","scaleGridColRowStartAndEnd","scaleGridColRowStartOrEnd","scaleGridAutoColsRows","scaleAlignPrimaryAxis","scaleAlignSecondaryAxis","scaleMargin","scaleSizing","scaleColor","scaleBgPosition","scaleBgRepeat","scaleBgSize","scaleGradientStopPosition","scaleRadius","scaleBorderWidth","scaleLineStyle","scaleBlendMode","scaleMaskImagePosition","scaleBlur","scaleRotate","scaleScale","scaleSkew","scaleTranslate","twMerge","cn","inputs","ScrollAreaPrimitive.Root","ScrollAreaPrimitive.Viewport","ScrollBar","ScrollAreaPrimitive.Corner","ScrollAreaPrimitive.ScrollAreaScrollbar","ScrollAreaPrimitive.ScrollAreaThumb","createCollection","PROVIDER_NAME","createCollectionContext","createCollectionScope","CollectionProviderImpl","useCollectionContext","CollectionProvider","itemMap","COLLECTION_SLOT_NAME","CollectionSlotImpl","CollectionSlot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlotImpl","CollectionItemSlot","itemData","useCollection","collectionNode","orderedNodes","useEscapeKeydown","onEscapeKeyDownProp","ownerDocument","onEscapeKeyDown","handleKeyDown","DISMISSABLE_LAYER_NAME","CONTEXT_UPDATE","POINTER_DOWN_OUTSIDE","FOCUS_OUTSIDE","originalBodyPointerEvents","DismissableLayerContext","DismissableLayer","disableOutsidePointerEvents","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","force","layers","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","isBodyPointerEventsDisabled","isPointerEventsEnabled","pointerDownOutside","usePointerDownOutside","isPointerDownOnBranch","branch","focusOutside","useFocusOutside","dispatchUpdate","handleUpdate","BRANCH_NAME","DismissableLayerBranch","handlePointerDownOutside","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","handleAndDispatchPointerDownOutsideEvent2","handleAndDispatchCustomEvent","eventDetail","timerId","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","detail","discrete","count","useFocusGuards","edgeGuards","createFocusGuard","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","FOCUS_SCOPE_NAME","FocusScope","trapped","onMountAutoFocusProp","onUnmountAutoFocusProp","scopeProps","setContainer","onMountAutoFocus","onUnmountAutoFocus","lastFocusedElementRef","focusScope","handleFocusIn2","focus","handleFocusOut2","relatedTarget","handleMutations2","mutations","mutation","focusScopesStack","previouslyFocusedElement","mountEvent","focusFirst","removeLinks","getTabbableCandidates","unmountEvent","isTabKey","focusedElement","container2","first","last","getTabbableEdges","candidates","select","candidate","findVisible","nodes","walker","isHiddenInput","isHidden","upTo","isSelectableInput","createFocusScopesStack","stack","activeFocusScope","arrayRemove","updatedArray","useReactId","useId","deterministicId","setId","reactId","sides","round","floor","createCoords","v","oppositeSideMap","oppositeAlignmentMap","start","end","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","getAxisLength","yAxisSides","getSideAxis","getAlignmentAxis","getAlignmentSides","rtl","alignment","alignmentAxis","length","mainAlignmentSide","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","lrPlacement","rlPlacement","tbPlacement","btPlacement","getSideList","side","isStart","getOppositeAxisPlacements","flipAlignment","list","expandPaddingObject","padding","getPaddingObject","rectToClientRect","computeCoordsFromPlacement","reference","floating","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition","middleware","platform","validMiddleware","statefulPlacement","middlewareData","resetCount","fn","nextX","nextY","reset","detectOverflow","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","offsetParent","offsetScale","elementClientRect","arrow","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","alignmentOffset","flip","_middlewareData$arrow","_middlewareData$flip","initialPlacement","checkMainAxis","checkCrossAxis","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","initialSideAxis","isBasePlacement","fallbackPlacements","hasFallbackAxisSideDirection","placements","overflow","overflows","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","d","resetPlacement","_overflowsData$filter2","currentSideAxis","getSideOffsets","isAnySideFullyClipped","hide","offsets","originSides","convertValueToCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","_middlewareData$offse","diffCoords","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","limitShift","rawOffset","computedOffset","limitMin","limitMax","_middlewareData$offse2","isOriginSide","_state$middlewareData","_state$middlewareData2","apply","heightSide","widthSide","maximumClippingHeight","maximumClippingWidth","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","xMin","xMax","yMin","yMax","nextDimensions","hasWindow","getNodeName","_node$ownerDocument","getDocumentElement","isElement","isShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflowX","overflowY","display","getComputedStyle","tableElements","isTableElement","topLayerSelectors","isTopLayer","selector","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","css","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","lastTraversableNodeNames","getNodeScroll","getNearestOverflowAncestor","parentNode","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","getCssDimensions","getComputedStyle$1","hasOffset","offsetWidth","offsetHeight","shouldFallback","unwrapElement","getScale","domElement","$","noOffsets","getVisualOffsets","shouldAddVisualOffsets","floatingOffsetParent","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","getWindowScrollBarX","leftScroll","getHTMLOffset","documentElement","scroll","htmlRect","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","isOffsetParentAnElement","offsetRect","htmlOffset","getClientRects","getDocumentRect","html","body","SCROLLBAR_MAX","getViewportRect","visualViewport","visualViewportBased","windowScrollbarX","doc","bodyStyles","bodyMarginInline","clippingStableScrollbarWidth","absoluteOrFixed","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","currentContainingBlockComputedStyle","elementIsFixed","currentNodeIsContaining","ancestor","getClippingRect","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","setLeftRTLScrollbarOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","getOffsetParent","svgOffsetParent","getElementRects","getOffsetParentFn","getDimensionsFn","floatingDimensions","isRTL","rectsAreEqual","observeMove","io","root","_io","refresh","skip","elementRectForRootMargin","insetTop","insetRight","insetBottom","insetLeft","isFirstUpdate","handleObserve","autoUpdate","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","referenceEl","cleanupIo","reobserveFrame","firstEntry","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","offset$1","shift$1","flip$1","size$1","hide$1","arrow$1","limitShift$1","mergedOptions","platformWithCache","computePosition$1","isClient","deepEqual","getDPR","roundByDPR","dpr","useLatestRef","useFloating","externalReference","externalFloating","whileElementsMounted","open","setData","latestMiddleware","setLatestMiddleware","_reference","_setReference","_floating","_setFloating","setReference","referenceRef","setFloating","floatingRef","floatingEl","hasWhileElementsMounted","whileElementsMountedRef","platformRef","openRef","fullData","isMountedRef","floatingStyles","initialStyles","isRef","arrow$2","deps","NAME","Arrow","arrowProps","useSize","setSize","borderSizeEntry","borderSize","POPPER_NAME","createPopperContext","createPopperScope","PopperProvider","usePopperContext","Popper","__scopePopper","anchor","setAnchor","ANCHOR_NAME","PopperAnchor","virtualRef","anchorProps","anchorRef","previousAnchor","CONTENT_NAME","PopperContentProvider","useContentContext","PopperContent","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPaddingProp","sticky","hideWhenDetached","updatePositionStrategy","onPlaced","contentProps","setArrow","arrowSize","arrowWidth","arrowHeight","desiredPlacement","collisionPadding","hasExplicitBoundaries","isNotNull","isPositioned","anchorWidth","anchorHeight","contentStyle","floatingUIarrow","placedSide","placedAlign","getSideAndAlignFromPlacement","handlePlaced","arrowX","arrowY","cannotCenterArrow","contentZIndex","setContentZIndex","ARROW_NAME","OPPOSITE_SIDE","PopperArrow","contentContext","baseSide","ArrowPrimitive.Root","isArrowHidden","noArrowAlign","arrowXCenter","arrowYCenter","Root2","Anchor","Content","PORTAL_NAME","Portal","containerProp","portalProps","useInsertionEffect","useControllableState","defaultProp","caller","uncontrolledProp","setUncontrolledProp","onChangeRef","useUncontrolledState","isControlledRef","wasControlled","setValue","nextValue","value2","isFunction","prevValueRef","ENTRY_FOCUS","GROUP_NAME","Collection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","RovingFocusGroupImpl","__scopeRovingFocusGroup","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus","groupProps","currentTabStopId","setCurrentTabStopId","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","getItems","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","tabStopId","prevCount","isKeyboardFocus","entryFocusEvent","activeItem","currentItem","candidateNodes","ITEM_NAME","RovingFocusGroupItem","focusable","itemProps","autoId","isCurrentTabStop","onFocusableItemAdd","onFocusableItemRemove","focusIntent","getFocusIntent","currentIndex","wrapArray","MAP_KEY_TO_FOCUS_INTENT","getDirectionAwareKey","preventScroll","PREVIOUSLY_FOCUSED_ELEMENT","_","Item","getDefaultParent","originalTarget","sampleTarget","counterMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","correctTargets","parent","targets","correctedTarget","applyAttributeToOthers","markerName","controlAttribute","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","deep","attr","alreadyHidden","counterValue","markerValue","e","hideOthers","activeParentNode","__assign","p","__rest","__spreadArray","pack","l","ar","zeroRightClassName","fullWidthClassName","noScrollbarsClassName","removedBarSizeVariable","assignRef","initialValue","currentValues","useMergeRefs","oldValue","prevRefs_1","nextRefs_1","current_1","ItoI","innerCreateMedium","defaults","buffer","assigned","medium","cb","cbs","pendingQueue","executeQueue","cycle","filter","createSidecarMedium","SideCar","_a","sideCar","Target","exportSidecar","exported","effectCar","nothing","RemoveScroll","parentRef","callbacks","setCallbacks","forwardProps","removeScrollBar","shards","noRelative","noIsolation","inert","allowPinchZoom","_b","Container","gapMode","containerRef","containerProps","getNonce","makeStyleTag","injectStyles","insertStyleTag","head","stylesheetSingleton","counter","stylesheet","styleHookSingleton","sheet","isDynamic","styleSingleton","useStyle","Sheet","dynamic","zeroGap","parse","getOffset","cs","getGapWidth","documentWidth","windowWidth","Style","lockAttribute","getStyles","allowRelative","important","gap","getCurrentUseCounter","useLockAttribute","newCounter","RemoveScrollBar","noImportant","passiveSupported","nonPassive","alwaysContainsScroll","elementCanBeScrolled","elementCouldBeVScrolled","elementCouldBeHScrolled","locationCouldBeScrolled","elementCouldBeScrolled","getScrollVariables","scrollHeight","clientHeight","getVScrollVariables","getHScrollVariables","scrollWidth","clientWidth","getDirectionFactor","endTarget","sourceDelta","noOverscroll","directionFactor","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","scroll_1","capacity","elementScroll","parent_1","getTouchXY","getDeltaXY","extractRef","deltaCompare","generateStyle","idCounter","lockStack","RemoveScrollSideCar","shouldPreventQueue","touchStartRef","activeAxis","lastProps","allow_1","shouldCancelEvent","touch","touchStart","deltaX","deltaY","currentAxis","moveDirection","anchorNode","isTouchingSelection","canBeScrolledInMainDirection","cancelingAxis","shouldPrevent","_event","sourceEvent","shardNodes","shouldStop","shouldCancel","should","getOutermostShadowParent","scrollTouchStart","scrollWheel","scrollTouchMove","inst","shadowParent","ReactRemoveScroll","SELECTION_KEYS","FIRST_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","SUB_CLOSE_KEYS","MENU_NAME","createMenuContext","createMenuScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","__scopeMenu","onOpenChange","modal","popperScope","isUsingKeyboardRef","handleOpenChange","handlePointer","PopperPrimitive.Root","MenuAnchor","PopperPrimitive.Anchor","PortalProvider","usePortalContext","MenuPortal","PortalPrimitive","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","rootContext","MenuRootContentModal","MenuRootContentNonModal","MenuContentImpl","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsideScroll","rovingFocusGroupScope","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","scrollLockWrapperProps","handleTypeaheadSearch","search","currentMatch","values","nextMatch","getNextMatch","newItem","updateSearch","isPointerMovingToSubmenu","isPointerInGraceArea","intent","RovingFocusGroup.Root","PopperPrimitive.Content","getOpenState","isKeyDownInside","isModifierKey","isCharacterKey","whenMouse","pointerXHasChanged","newDir","MenuGroup","LABEL_NAME","MenuLabel","labelProps","ITEM_SELECT","MenuItem","onSelect","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","MenuItemImpl","isTypingAhead","textValue","isFocused","setIsFocused","textContent","setTextContent","RovingFocusGroup.Item","CHECKBOX_ITEM_NAME","MenuCheckboxItem","checked","onCheckedChange","checkboxItemProps","ItemIndicatorProvider","isIndeterminate","getCheckedState","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","MenuRadioGroup","onValueChange","handleValueChange","RADIO_ITEM_NAME","MenuRadioItem","radioItemProps","ITEM_INDICATOR_NAME","useItemIndicatorContext","MenuItemIndicator","itemIndicatorProps","indicatorContext","SEPARATOR_NAME","MenuSeparator","separatorProps","MenuArrow","PopperPrimitive.Arrow","SUB_NAME","MenuSubProvider","useMenuSubContext","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","onPointerGraceIntentChange","clearOpenTimer","pointerGraceTimer","contentRect","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_CONTENT_NAME","MenuSubContent","subContentProps","isCloseKey","normalizedSearch","char","currentMatchIndex","wrappedValues","isPointInPolygon","point","polygon","inside","j","ii","jj","xi","yi","xj","yj","area","cursorPos","Root3","Anchor2","Content2","Group","Label","Item2","CheckboxItem","RadioGroup","RadioItem","ItemIndicator","Separator","Arrow2","SubTrigger","SubContent","CONTEXT_MENU_NAME","createContextMenuContext","useMenuScope","ContextMenuProvider","useContextMenuContext","ContextMenu","__scopeContextMenu","setOpen","menuScope","handleOpenChangeProp","open2","MenuPrimitive.Root","TRIGGER_NAME","ContextMenuTrigger","triggerProps","pointRef","longPressTimerRef","clearLongPress","handleOpen","MenuPrimitive.Anchor","whenTouchOrPen","ContextMenuPortal","MenuPrimitive.Portal","ContextMenuContent","hasInteractedOutsideRef","MenuPrimitive.Content","ContextMenuGroup","MenuPrimitive.Group","ContextMenuLabel","MenuPrimitive.Label","ContextMenuItem","MenuPrimitive.Item","ContextMenuCheckboxItem","MenuPrimitive.CheckboxItem","ContextMenuRadioGroup","radioGroupProps","MenuPrimitive.RadioGroup","ContextMenuRadioItem","MenuPrimitive.RadioItem","INDICATOR_NAME","ContextMenuItemIndicator","MenuPrimitive.ItemIndicator","ContextMenuSeparator","MenuPrimitive.Separator","ContextMenuArrow","MenuPrimitive.Arrow","ContextMenuSubTrigger","triggerItemProps","MenuPrimitive.SubTrigger","ContextMenuSubContent","MenuPrimitive.SubContent","Trigger","Portal2","Label2","CheckboxItem2","RadioItem2","ItemIndicator2","Separator2","SubTrigger2","SubContent2","ContextMenuPrimitive.Root","ContextMenuPrimitive.Trigger","inset","ContextMenuPrimitive.SubTrigger","ContextMenuPrimitive.SubContent","ContextMenuPrimitive.Portal","ContextMenuPrimitive.Content","ContextMenuPrimitive.Item","ContextMenuPrimitive.CheckboxItem","ContextMenuPrimitive.ItemIndicator","ContextMenuPrimitive.RadioItem","ContextMenuPrimitive.Label","ContextMenuPrimitive.Separator","SlideThumbnail","isActive","onDuplicate","onDelete","onToggleHidden","thumbnailWidth","thumbnailHeight","getBackgroundStyle","ThumbnailElement","POPOVER_NAME","createPopoverContext","PopoverProvider","usePopoverContext","Popover","__scopePopover","openProp","defaultOpen","triggerRef","hasCustomAnchor","setHasCustomAnchor","prevOpen","PopoverAnchor","onCustomAnchorAdd","onCustomAnchorRemove","PopoverTrigger","composedTriggerRef","trigger","getState","PopoverPortal","PopoverContent","PopoverContentModal","PopoverContentNonModal","isRightClickOutsideRef","PopoverContentImpl","originalEvent","ctrlLeftClick","isRightClick","hasPointerDownOutsideRef","CLOSE_NAME","PopoverClose","closeProps","PopoverArrow","PopoverPrimitive.Root","PopoverPrimitive.Trigger","PopoverPrimitive.Portal","PopoverPrimitive.Content","REACT_LAZY_TYPE","use","isPromiseLike","isLazyComponent","falsyToString","cx","cva","base","_config_compoundVariants","variants","defaultVariants","getVariantClassNames","variant","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","getCompoundVariantClassNames","cvClass","cvClassName","compoundVariantOptions","buttonVariants","Button","createTextElement","text","BUILT_IN_LAYOUTS","SlideLayoutPicker","onSelectLayout","layout","SlidePanel","handleDragEnd","oldIndex","handleSelectSlide","handleAddSlide","handleDuplicateSlide","handleDeleteSlide","nextSlide","handleToggleHidden","HANDLE_SIZE","resizeHandles","ElementWrapper","isEditing","onDoubleClick","setIsDragging","isResizing","setIsResizing","activeHandle","setActiveHandle","dragStartRef","resizeStartRef","handleClick","handleDragStart","handleResizeStart","rafId","lastMouseEvent","processMouseMove","newX","newY","newWidth","newHeight","minSize","handleMouseMove","handleMouseUp","getHandlePosition","halfHandle","cursor","pos","stylesEqual","mergeAdjacentRuns","paragraph","mergedRuns","currentRun","nextRun","nonEmptyRuns","getDefaultStyle","splitRunAtOffset","run","beforeText","afterText","applyFormatToSelection","format","newParagraphs","newParagraph","applyFormatToParagraphRange","pIdx","lastRunIndex","lastRunLength","startRunIndex","startOffset","endRunIndex","endOffset","newRuns","rIdx","before","middle","after","toggleFormat","hasFormat","selectionHasFormat","runs","getRunsInSelection","startRun","endRun","getSelectionStyle","firstStyle","RichTextEditor","onSelectionChange","onBlur","onKeyDown","onContentHeightChange","editorRef","isComposingRef","contentToHtml","range","sel","handleSelectionChange","getTextSelection","selectionStyle","saveContent","newContent","htmlToContent","handleBlur","_e","handleCompositionStart","handleCompositionEnd","pIndex","runsHtml","rIndex","htmlText","escapeHtml","pStyles","editor","originalContent","paragraphs","defaultStyle","getDefaultTextStyle","blocks","getBlockElements","parseInlineContent","block","originalParagraph","tagName","wrapper","walkNode","inheritedStyle","computed","fontFamily","fontSize","rgbToHex","startInfo","findNodePosition","endInfo","paragraphEl","spanEl","paragraphIndex","runIndex","rgb","g","TextBox","onStopEditing","textRef","handleContentChange","handleContentHeightChange","contentHeight","isEmpty","Shape","shapeType","fill","stroke","getFillStyle","getStrokeStyle","strokeDasharray","radius","trianglePoints","diamondPoints","arrowPath","star5Points","generateStarPoints","plusPath","rightTriPoints","pentagonPoints","generateRegularPolygonPoints","hexagonPoints","octagonPoints","star6Points","arrowLeftPath","arrowUpPath","arrowDownPath","heartPath","cloudPath","calloutPath","lightningPath","cy","angleStep","angle","points","outerRadius","innerRadius","step","TableCellComponent","cell","rowIndex","colIndex","onStartEdit","onEndEdit","onCellUpdate","onNavigate","cellRef","fileInputRef","localContent","setLocalContent","contentType","handleImageUpload","file","reader","imageUrl","handleCheckboxToggle","handleDoubleClick","handleInput","newText","textStyle","bgColor","getBorderStyle","border","renderContent","ImageIcon","_isSelected","selectedCell","setSelectedCell","editingCell","setEditingCell","cellDimensions","totalWidth","totalHeight","columnWidths","rowHeights","handleSelectCell","row","col","handleStartEdit","handleEndEdit","handleCellChange","newCells","cellRow","cIdx","handleCellUpdate","handleNavigate","newRow","newCol","handleMouseDown","TableGridPicker","maxRows","maxCols","hoveredCell","setHoveredCell","handleMouseEnter","handleMouseLeave","isHighlighted","ElementRenderer","setIsEditing","handleStopEditing","ImageElementRenderer","src","clipShape","isEllipse","clipId","SlideCanvas","wrapperRef","currentSlide","ro","handleCanvasClick","pad","fitScale","sw","sh","getBackgroundFill","bg","renderGradientDef","gradientId","gradient","rad","x1","y1","x2","y2","stop","getBackgroundFillUrl","GridOverlay","lines","DROPDOWN_MENU_NAME","createDropdownMenuContext","DropdownMenuProvider","useDropdownMenuContext","DropdownMenu","__scopeDropdownMenu","DropdownMenuTrigger","DropdownMenuPortal","DropdownMenuContent","DropdownMenuGroup","DropdownMenuLabel","DropdownMenuItem","DropdownMenuCheckboxItem","DropdownMenuRadioGroup","DropdownMenuRadioItem","DropdownMenuItemIndicator","DropdownMenuSeparator","DropdownMenuArrow","DropdownMenuSubTrigger","subTriggerProps","DropdownMenuSubContent","DropdownMenuPrimitive.Root","DropdownMenuPrimitive.Trigger","DropdownMenuPrimitive.SubTrigger","DropdownMenuPrimitive.SubContent","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuPrimitive.Item","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","DropdownMenuPrimitive.RadioItem","DropdownMenuPrimitive.Label","DropdownMenuPrimitive.Separator","createSlottable","Slottable2","Fragment2","VISUALLY_HIDDEN_STYLES","VisuallyHidden","createTooltipContext","DEFAULT_DELAY_DURATION","TOOLTIP_OPEN","TooltipProviderContextProvider","useTooltipProviderContext","TooltipProvider","__scopeTooltip","delayDuration","skipDelayDuration","disableHoverableContent","isOpenDelayedRef","isPointerInTransitRef","skipDelayTimerRef","skipDelayTimer","inTransit","TOOLTIP_NAME","TooltipContextProvider","useTooltipContext","Tooltip","disableHoverableContentProp","delayDurationProp","providerContext","setTrigger","contentId","wasOpenDelayedRef","stateAttribute","handleClose","handleDelayedOpen","TooltipTrigger","hasPointerMoveOpenedRef","handlePointerUp","TooltipContent","TooltipContentImpl","TooltipContentHoverable","pointerGraceArea","setPointerGraceArea","onClose","onPointerInTransitChange","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","currentTarget","exitPoint","exitSide","getExitSideFromRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","handleTrackPointerGrace","pointerPosition","hasEnteredTarget","isPointerOutsideGraceArea","VisuallyHiddenContentContextProvider","useVisuallyHiddenContentContext","Slottable","ariaLabel","VisuallyHiddenPrimitive.Root","TooltipArrow","newPoints","getHullPresorted","upperHull","q","lowerHull","TooltipPrimitive.Provider","TooltipPrimitive.Root","TooltipPrimitive.Trigger","TooltipPrimitive.Content","DEFAULT_ORIENTATION","ORIENTATIONS","decorative","orientationProp","domProps","isValidOrientation","semanticProps","SeparatorPrimitive.Root","MainToolbar","onImport","onExport","onTheme","tablePopoverOpen","setTablePopoverOpen","handleInsertText","textElement","handleInsertShape","shapeElement","handleInsertImage","imageElement","handleInsertTable","rows","cols","createCell","cells","c","cellWidth","cellHeight","tableWidth","tableHeight","tableElement","Grid","u","m","o","C","E","H","L","K","I","D","S","T","F","Y","V","J","Q","U","W","Z","FONT_SIZES","FormattingToolbar","selectedElements","isEditingWithSelection","firstRun","displayStyle","isBold","isItalic","isUnderline","currentFontSize","currentColor","applyFormat","handleToggleFormat","updateAlignment","newAlignment","changeFontSize","currentIdx","newSize","HexColorPicker","AlignLeft","AlignCenter","AlignRight","AlignJustify","OPEN_KEYS","SELECT_NAME","createSelectContext","SelectProvider","useSelectContext","SelectNativeOptionsProvider","useSelectNativeOptionsContext","Select","__scopeSelect","valueProp","autoComplete","required","form","valueNode","setValueNode","valueNodeHasChildren","setValueNodeHasChildren","triggerPointerDownPosRef","isFormControl","nativeOptionsSet","setNativeOptionsSet","nativeSelectKey","option","optionsSet","SelectBubbleInput","SelectTrigger","pointerTypeRef","resetTypeahead","useTypeaheadSearch","enabledItems","nextItem","findNextItem","pointerEvent","shouldShowPlaceholder","VALUE_NAME","SelectValue","placeholder","valueProps","onValueNodeHasChildrenChange","hasChildren","ICON_NAME","SelectIcon","iconProps","SelectPortal","SelectContent","fragment","setFragment","frag","SelectContentProvider","SelectContentImpl","CONTENT_MARGIN","useSelectContentContext","CONTENT_IMPL_NAME","selectedItem","setSelectedItem","selectedItemText","setSelectedItemText","setIsPositioned","firstValidItemFoundRef","firstItem","restItems","lastItem","focusSelectedItem","pointerMoveDelta","handlePointerMove","close","itemRefCallback","isFirstValidItem","handleItemLeave","itemTextRefCallback","SelectPosition","SelectPopperPosition","SelectItemAlignedPosition","popperContentProps","currentElement","ITEM_ALIGNED_POSITION_NAME","popperProps","contentWrapper","setContentWrapper","shouldExpandOnScrollRef","shouldRepositionRef","triggerRect","valueNodeRect","itemTextRect","itemTextOffset","leftDelta","minContentWidth","contentWidth","rightEdge","clampedLeft","rightDelta","leftEdge","clampedRight","itemsHeight","contentStyles","contentBorderTopWidth","contentPaddingTop","contentBorderBottomWidth","contentPaddingBottom","fullContentHeight","minContentHeight","viewportStyles","viewportPaddingTop","viewportPaddingBottom","topEdgeToTriggerMiddle","triggerMiddleToBottomEdge","selectedItemHalfHeight","itemOffsetMiddle","contentTopToItemMiddle","itemMiddleToContentBottom","isLastItem","viewportOffsetBottom","clampedTriggerMiddleToBottomEdge","isFirstItem","handleScrollButtonChange","SelectViewportProvider","POPPER_POSITION_NAME","useSelectViewportContext","SelectViewport","viewportContext","prevScrollTopRef","scrolledBy","cssMinHeight","cssHeight","prevHeight","nextHeight","clampedNextHeight","heightDiff","SelectGroupContextProvider","useSelectGroupContext","SelectGroup","groupId","SelectLabel","groupContext","SelectItemContextProvider","useSelectItemContext","SelectItem","textValueProp","setTextValue","textId","prevTextValue","ITEM_TEXT_NAME","SelectItemText","itemTextProps","itemContext","nativeOptionsContext","itemTextNode","setItemTextNode","nativeOption","onNativeOptionAdd","onNativeOptionRemove","SelectItemIndicator","SCROLL_UP_BUTTON_NAME","SelectScrollUpButton","canScrollUp","setCanScrollUp","handleScroll2","canScrollUp2","SelectScrollButtonImpl","SCROLL_DOWN_BUTTON_NAME","SelectScrollDownButton","canScrollDown","setCanScrollDown","canScrollDown2","onAutoScroll","scrollIndicatorProps","autoScrollTimerRef","clearAutoScrollTimer","SelectSeparator","SelectArrow","BUBBLE_INPUT_NAME","prevValue","selectProto","onSearchChange","handleSearchChange","currentItemIndex","wrappedItems","Value","ItemText","ScrollUpButton","ScrollDownButton","SelectPrimitive.Root","SelectPrimitive.Value","SelectPrimitive.Trigger","SelectPrimitive.Icon","SelectPrimitive.ScrollUpButton","SelectPrimitive.ScrollDownButton","SelectPrimitive.Portal","SelectPrimitive.Content","SelectPrimitive.Viewport","SelectPrimitive.Label","SelectPrimitive.Item","SelectPrimitive.ItemIndicator","SelectPrimitive.ItemText","SelectPrimitive.Separator","PropertiesPanel","ColorPickerField","TextProperties","ShapeProperties","ImageProperties","TableProperties","applyTableStyle","styleName","borders","clearFill","setCellContentType","shouldUpdate","addRow","newRowHeights","addColumn","newColumnWidths","Grid3X3","CheckSquare","TableTextFormatting","currentStyle","applyTextFormat","applyAlignment","currentAlignment","DIALOG_NAME","createDialogContext","DialogProvider","useDialogContext","Dialog","__scopeDialog","DialogTrigger","DialogPortal","OVERLAY_NAME","DialogOverlay","overlayProps","DialogOverlayImpl","DialogContent","DialogContentModal","DialogContentNonModal","DialogContentImpl","TitleWarning","DescriptionWarning","TITLE_NAME","DialogTitle","titleProps","DESCRIPTION_NAME","DialogDescription","descriptionProps","DialogClose","TITLE_WARNING_NAME","WarningProvider","useWarningContext","titleId","titleWarningContext","MESSAGE","DESCRIPTION_WARNING_NAME","descriptionId","describedById","Overlay","Title","Description","Close","DialogPrimitive.Root","DialogPrimitive.Portal","DialogPrimitive.Overlay","DialogPrimitive.Content","DialogPrimitive.Close","DialogHeader","DialogPrimitive.Title","DialogPrimitive.Description","ThemePickerDialog","onEditTheme","builtInThemes","selectedThemeId","setSelectedThemeId","handleApplyTheme","handleDeleteTheme","handleCreateNew","newTheme","handleDuplicate","handleEdit","ThemeCard","isCurrent","onClick","onEdit","isCustom","colorScheme","Input","TABS_NAME","createTabsContext","TabsProvider","useTabsContext","Tabs","__scopeTabs","activationMode","tabsProps","TAB_LIST_NAME","TabsList","listProps","TabsTrigger","triggerId","makeTriggerId","makeContentId","isAutomaticActivation","TabsContent","isMountAnimationPreventedRef","baseId","List","TabsPrimitive.Root","TabsPrimitive.List","TabsPrimitive.Trigger","TabsPrimitive.Content","ThemeEditorDialog","editedTheme","setEditedTheme","handleSave","updateColorScheme","updateFontScheme","updateBackground","ColorField","BackgroundEditor","fontScheme","handleRemoveImage","stops","newStops","module","require","A","O","z","B","R","global","N","P","M","G","EMU_PER_INCH","PIXELS_PER_INCH","EMU_PER_PIXEL","emuToPixels","emu","hundredthsPointToPoints","hp","parseColor","colorStr","getAttr","attrName","getNumericAttr","findChild","prefixedMatches","findAllChildren","results","getTextContent","THEME_COLOR_MAP","DEFAULT_THEME_COLORS","DEFAULT_FONT_SCHEME","currentFontScheme","currentScaleFactor","setFontScheme","setScaleFactor","resolveThemeFont","typeface","parseTextBody","txBody","themeColors","lstStyleDefaults","parseLstStyleDefaults","pElements","pEl","parseParagraph","parseAlignment","pPrEl","paraDefaults","defRPrEl","pDefStyle","parseTextRunProperties","stripDefaults","rElements","rEl","parseTextRun","fldElements","fldEl","parseTextField","tEl","rPrEl","baseStyle","mergeRunProperties","sz","bold","italic","underline","strike","latinEl","solidFillEl","parseSolidFill","lstStyleEl","lvl1El","srgbClrEl","val","schemeClrEl","themeKey","PRESET_GEOMETRY_MAP","parseShape","spEl","_slideIndex","fallback","spPrEl","xfrmEl","rotation","offEl","extEl","prstGeomEl","presetType","parseFill","parseStroke","txBodyEl","parseColorElement","gradFillEl","parseGradientFill","gsLst","colors","linEl","lnEl","wAttr","parsedColor","prstDashEl","parentEl","prstClrEl","getPresetColor","parseImage","picEl","imageMap","blipFillEl","blipEl","embedId","extractImages","zip","mediaFolder","mediaFiles","relativePath","extension","mimeType","getMimeType","arrayBuffer","base64","arrayBufferToBase64","dataUrl","fullPath","parseSlideRelationships","relsXml","relMap","relationships","rel","normalizedPath","buildSlideImageMap","globalImageMap","slideImageMap","relId","mediaPath","bytes","binary","parseSlide","slideXml","slideRelsXml","masterBackground","scaleFactor","layoutPlaceholders","layoutImageMap","layoutXml","masterXml","masterImageMap","cSldEl","parseSlideBackground","spTreeEl","zIndex","TARGET_H","scaleElement","altContentEls","ac","choiceEl","fallbackEl","sourceEl","gfEls","parseGraphicFrame","spEls","parseShapeElement","slideFilledPlaceholders","allSlideShapeEls","sp","phEls","hasActualText","phIdx","phType","layoutFilledPlaceholders","layoutSpEls","spPr","hasXfrm","hasFill","masterElements","parseLayoutElements","isInsideGroup","image","connector","parseConnectorShape","groupElements","parseGroupShape","slideShapeIds","isPlaceholder","hasSolidFill","hasGradFill","hasBlipFill","hasLine","hasVisibleContent","hasText","rot","imgSrc","imgEl","shape","textEl","parseAsTextElement","PLACEHOLDER_DEFAULTS","nvSpPrEl","nvPrEl","phEl","placeholderType","placeholderIdx","resolved","byType","byIdx","hasTextContent","geomType","hasVisibleFill","isRectOrNoGeom","textElements","fieldElements","fldText","grpSpEl","grpSpPrEl","offsetX","offsetY","chOffEl","chExtEl","grpX","grpY","chX","chY","grpW","grpH","chW","chH","childNodes","nestedElements","cxnSpEl","strokeColor","strokeStyle","finalWidth","finalHeight","gfEl","frameX","frameY","frameWidth","frameHeight","tblEl","tblGridEl","colWidths","gridColEls","directTrEls","numRows","firstRow","tcCount","colWidth","numCols","rowIdx","tr","rowHeight","tcEls","colIdx","tc","tcPrEl","cellFill","parseFillColor","noBorder","defaultNoBorders","parseCellBorders","verticalAlign","gridSpan","rowSpanAttr","hMerge","vMerge","tableEl","srgbEl","schemeEl","parseBorderLine","parsed","bgFillStyles","defaultBackground","bgEls","bgEl","bgPrEl","parseBackgroundColor","bgRefEl","idx","styleIndex","fillStyle","overrideScheme","resolveSchemeColor","schemeVal","gsEls","gs","parseMasterBackground","_globalImageMap","parseTheme","themeXml","parseThemeColors","fonts","parseThemeFonts","parseBgFillStyleLst","bgFillLst","srgb","scheme","clrSchemeEl","colorMappings","extractColor","colorEl","srgbClrEls","sysClrEls","lastClr","getSystemColor","sysColor","fontSchemeEl","majorFontEl","minorFontEl","importPptx","onProgress","fileName","JSZip","presentationXmlContent","slideIds","presentationName","slideWidth","slideHeight","parsePresentationXml","themeMap","themeFiles","themeFile","parsedTheme","defaultTheme","layoutToMasterTheme","masterPlaceholderCache","layoutFiles","layoutFile","layoutRelsFile","layoutRels","masterMatch","masterFile","masterRelsFile","masterRels","themeMatch","masterRelMap","masterPlaceholders","parseXmlForPlaceholders","mergedPlaceholders","layoutCsld","layoutName","slides","totalSlides","slideNum","progress","slideThemeColors","slideMasterBackground","slideLayoutPlaceholders","slideMasterXml","slideMasterImageMap","layoutMatch","layoutInfo","layoutRelsXml","layoutRelMap","TARGET_WIDTH","TARGET_HEIGHT","xml","placeholders","ph","xfrmEls","xfrm","offEls","extEls","xmlContent","sldIdElements","sldSzEl","isPptxFile","formatFileSize","__awaiter","thisArg","_arguments","generator","adopt","resolve","reject","fulfilled","rejected","EMU","ONEPT","CRLF","LAYOUT_IDX_SERIES_BASE","REGEX_HEX_COLOR","LINEH_MODIFIER","DEF_BULLET_MARGIN","DEF_CELL_BORDER","DEF_CELL_MARGIN_IN","DEF_CHART_BORDER","DEF_CHART_GRIDLINE","DEF_FONT_COLOR","DEF_FONT_SIZE","DEF_FONT_TITLE_SIZE","DEF_PRES_LAYOUT","DEF_PRES_LAYOUT_NAME","DEF_SHAPE_LINE_COLOR","DEF_SHAPE_SHADOW","DEF_SLIDE_MARGIN_IN","DEF_TEXT_SHADOW","DEF_TEXT_GLOW","AXIS_ID_VALUE_PRIMARY","AXIS_ID_VALUE_SECONDARY","AXIS_ID_CATEGORY_PRIMARY","AXIS_ID_CATEGORY_SECONDARY","AXIS_ID_SERIES_PRIMARY","LETTERS","BARCHART_COLORS","PIECHART_COLORS","TEXT_HALIGN","TEXT_VALIGN","SLDNUMFLDID","OutputType","ChartType","ShapeType","SchemeColor","AlignH","AlignV","SHAPE_TYPE","CHART_TYPE","SCHEME_COLOR_NAMES","MASTER_OBJECTS","SLIDE_OBJECT_TYPES","PLACEHOLDER_TYPES","BULLET_TYPES","IMG_BROKEN","IMG_PLAYBTN","getSmartParseNumber","xyDir","inch2Emu","getUuid","uuidFormat","encodeXmlEntities","inches","valToPts","pt","convertRotationDegrees","componentToHex","hex","createColorElement","innerElements","colorVal","colorAttr","createGlowElement","strXml","opts","opacity","genXmlColorSelection","fillType","internalElements","outText","getNewRelId","correctShadowOptions","ShadowProps","parseTextToLines","verbose","FOCO","CPL","parsedLines","inputCells","inputLines1","inputLines2","newLine","textLine","line","lineCells","lineWords","word","cellProps","strCurrLine","getSlidesForTableRows","tableRows","tableProps","presLayout","masterSlide","arrInchMargins","emuSlideTabW","emuSlideTabH","emuTabCurrH","tableRowSlides","tablePropX","tablePropY","tablePropW","tablePropH","tableCalcW","calcSlideTabH","emuStartY","cellOpts","arrColW","iCol","newTableRowSlide","iRow","rowCellLines","maxCellMarTopEmu","maxCellMarBtmEmu","currTableRow","_c","_d","iCell","newCell","totalColW","_cell","curr","currCellIdx","emuLineMaxH","isDone","srcCell","tgtCell","newHeadRow","maxLineHeight","currLine","genTableToSlides","pptx","tabEleId","arrObjTabHeadRows","arrObjTabBodyRows","arrObjTabFootRows","arrTabColW","intTabW","firstRowCells","cellEle","idxc","colW","idxW","intCalcWidth","intMinWidth","colSelectorMin","colSelectorSet","htmlRow","arrObjTabCells","arrRGB1","arrRGB2","valign","idxs","idxb","intBorderW","arrRGB","strBorderC","idxTr","_chartCounter","createSlideMaster","tgt","addChartDefinition","addImageDefinition","addShapeDefinition","addTextDefinition","opt","correctGridLineOptions","glOpts","chartId","resultObject","tmpOpt","tmpData","obj","isHexColor","isSchemeColor","newObject","intPosX","intPosY","intWidth","intHeight","sizing","objHyperlink","strImageData","strImagePath","imageRelId","objectName","strImgExtn","dupeItem","addMediaDefinition","intSizeX","intSizeY","strData","strLink","strPath","strType","strExtn","strCover","slideData","relId1","addNotesDefinition","notes","shapeName","newLineOpts","tmpOpts","createHyperlinkRels","addTableDefinition","slideLayout","getSlide","arrRows","cellBorder","arrTableMargin","firstRowColCnt","totalLen","idy","newAutoPagedSlides","_row","cleanOpts","itemOpts","placeHold","addPlaceholdersToSlideLayouts","slideLayoutObj","slideObj","addBackgroundDefinition","intRels","textObjs","tablecell","Slide","params","optionsWithType","createExcelWorksheet","chartObject","zipExcel","intBubbleCols","IS_MULTI_CAT_AXES","strSharedStrings","totCount","arrLabel","unqCount","objData","labelsGroup","strTableXml","getExcelColName","idxColLtr","_obj","_labelsGroup","strSheetXml","TOT_SER","TOT_CAT","TOT_LVL","totLabels","revLabelGroups","totGrpLbls","_cat","idx2","makeXmlCharts","strErr","usesSecondaryValAxis","genXmlTitle","valAxisId","catAxisId","makeChartType","makeCatAxis","makeValAxis","makeSerAxis","chartType","isMultiTypeChart","colorIndex","optsChartData","seriesColor","createLineCap","createShadowElement","arrColors","tmpSerColor","chartUuid","_value","_label","axisId","createGridLineElement","axisPos","crossAxId","chartX","chartY","rotate","sizeAttr","titleBold","totalX","totalY","valX","valY","colStr","blur","rotShape","lineCap","neverLineCap","encodeSlideMediaRels","fs","https","loadNodeDeps","imageProms","candidateRels","unqPaths","bitmap","dupe","ex","res","raw","chunk","xhr","createSvgPngPreview","canvas","ctx","ImageSizingXml","imgSize","boxDim","imgRatio","isBoxBased","hzPerc","vzPerc","widthBased","lPerc","rPerc","tPerc","bPerc","slideObjectToXml","strSlideXml","intTableNum","slideItemObj","_f","_g","_h","placeholderObj","locationAttr","arrTabRows","objTabOpts","intColCnt","intColW","rounding","imgWidth","imgHeight","colw","colspan","rowspan","vMergeCells","nextRow","_hmerge","hMergeCell","intRowH","cellObj","cellSpanAttrs","cellSpanAttrStr","cellValign","cellTextDir","fillColor","cellMargin","cellMarginXml","genXmlTextBody","genXmlPlaceholder","boxW","boxH","boxX","boxY","slideObjectRelationsToXml","defaultRels","lastRid","relRid","genXmlParagraphProperties","textObj","isDefault","strXmlBullet","strXmlLnSpc","strXmlParaSpc","strXmlTabStops","bulletMarL","paragraphPropXml","bulletCode","genXmlTextRunProperties","runProps","runPropsTag","genXmlTextRun","genXmlBodyProperties","slideObject","bodyProperties","tmpTextObjects","arrTextObjects","itext","arrLines","arrTexts","reqsClosingFontSize","placeholderTyp","makeXmlContTypes","slideLayouts","_slide","makeXmlRootRels","makeXmlApp","company","_slideObj","makeXmlCore","title","subject","author","revision","makeXmlPresentationRels","intRelNum","makeXmlSlide","getNotesFromSlide","notesText","makeXmlNotesMaster","makeXmlNotesSlide","makeXmlLayout","makeXmlMaster","layouts","layoutDefs","_layoutDef","makeXmlSlideLayoutRel","layoutNumber","makeXmlSlideRel","slideNumber","getLayoutIdxForSlide","makeXmlNotesSlideRel","makeXmlMasterRel","makeXmlNotesMasterRel","makeXmlTheme","pres","majorFont","minorFont","makeXmlPresentation","sect","makeXmlPresProps","makeXmlTableStyles","makeXmlViewProps","VERSION","PptxGenJS","newLayout","sectAlreadyInUse","chartPromises","exportName","blobContent","eleLink","url","arrChartPromises","arrMediaPromises","layout4x3","layout16x9","layout16x10","layoutWide","propsOutpType","propsCompress","rawName","compression","outputType","writeFile","section","newSection","masterSlideName","tmpLayout","lastSect","propsClone","eleId","exportPptx","processSlide","blob","pptxSlide","sortedElements","processElement","processTextElement","processShapeElement","processImageElement","textRuns","textProps","pptxShapeType","mapShapeType","shapeOptions","downloadPptx","filename","link","exportAndDownload","htmlToTextContent","plainTextToContent","parseBlockChildren","htmlToSlideElements","makeTextElement","pendingParagraphs","flushText","createParagraph","parseTable","paras","parseBlockElement","totalWithGaps","yOffset","isOrdered","li","extractRuns","level","getHeadingFontSize","styleAlign","normalized","attrAlign","DEFAULT_CELL_BORDER","HEADER_FILL","TABLE_CELL_STYLE","allRows","firstRowHasTh","htmlCells","htmlCell","isHeader","cellRuns","cellAlign","makeEmptyCell","parentStyleOverrides","childEl","styleOverrides","childRuns","runData","extra","EditorLayout","hasClipboard","themePickerOpen","setThemePickerOpen","themeEditorOpen","setThemeEditorOpen","editingTheme","setEditingTheme","rightPanelOpen","setRightPanelOpen","leftSidebar","handlePaste","htmlData","textData","isMod","isInputFocused","handleImport","handleFileSelected","handleTheme","handleEditTheme","handleThemeEditorClose","handleThemeSaved","isExporting","setIsExporting","StatusBar","currentSlideIndex","formatLastSaved","date","diff","EditorBridge","showHeader","lastEditedTextIdRef","getTargetTextElement","targetId","useImperativeHandle","currentSlideId","updatedContent","PresentationEditor","maxHistorySize","panelVisibility"],"mappings":"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","x_google_ignoreList":[0,1,2,3,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,122,123,125,126,140,142,143,144,146,147,150,152,153,154,157,158,163,166,174]}